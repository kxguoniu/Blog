"use strict";var _Mathceil=Math.ceil,_Mathpow=Math.pow,_Mathfloor=Math.floor,_Mathsin=Math.sin,_Mathcos=Math.cos,_Mathatan=Math.atan2,_Mathmax=Math.max,_Mathmin=Math.min,_StringfromCharCode=String.fromCharCode,_MathPI=Math.PI,_Mathsqrt=Math.sqrt,_Mathabs=Math.abs;!function(ee){function te(oe){if(_e[oe])return _e[oe].exports;var re=_e[oe]={i:oe,l:!1,exports:{}};return ee[oe].call(re.exports,re,re.exports,te),re.l=!0,re.exports}var _e={};te.m=ee,te.c=_e,te.d=function(oe,re,$e){te.o(oe,re)||Object.defineProperty(oe,re,{configurable:!1,enumerable:!0,get:$e})},te.n=function(oe){var re=oe&&oe.__esModule?function(){return oe.default}:function(){return oe};return te.d(re,"a",re),re},te.o=function(oe,re){return Object.prototype.hasOwnProperty.call(oe,re)},te.p="",te(te.s=4)}([function(ee){"use strict";function oe(){this.live2DModel=null,this.modelMatrix=null,this.eyeBlink=null,this.physics=null,this.pose=null,this.debugMode=!1,this.initialized=!1,this.updating=!1,this.alpha=1,this.accAlpha=0,this.lipSync=!1,this.lipSyncValue=0,this.accelX=0,this.accelY=0,this.accelZ=0,this.dragX=0,this.dragY=0,this.startTimeMSec=null,this.mainMotionManager=new pe,this.expressionManager=new pe,this.motions={},this.expressions={},this.isTexLoaded=!1}function re(){AMotion.prototype.constructor.call(this),this.paramList=[]}function $e(){this.id="",this.type=-1,this.value=null}function ae(){this.nextBlinkTime=null,this.stateStartTime=null,this.blinkIntervalMsec=null,this.eyeState=ye.STATE_FIRST,this.blinkIntervalMsec=4e3,this.closingMotionMsec=100,this.closedMotionMsec=50,this.openingMotionMsec=150,this.closeIfZero=!0,this.eyeID_L="PARAM_EYE_L_OPEN",this.eyeID_R="PARAM_EYE_R_OPEN"}function ne(){this.tr=new Float32Array(16),this.identity()}function ie(Te,ce){ne.prototype.constructor.call(this),this.width=Te,this.height=ce}function pe(){MotionQueueManager.prototype.constructor.call(this),this.currentPriority=null,this.reservePriority=null,this.super=MotionQueueManager.prototype}function de(){this.physicsList=[],this.startTimeMSec=UtSystem.getUserTimeMSec()}function se(){this.lastTime=0,this.lastModel=null,this.partsGroups=[]}function le(Te){this.paramIndex=-1,this.partsIndex=-1,this.link=null,this.id=Te}function ge(){this.EPSILON=.01,this.faceTargetX=0,this.faceTargetY=0,this.faceX=0,this.faceY=0,this.faceVX=0,this.faceVY=0,this.lastTimeSec=0}function ue(){ne.prototype.constructor.call(this),this.screenLeft=null,this.screenRight=null,this.screenTop=null,this.screenBottom=null,this.maxLeft=null,this.maxRight=null,this.maxTop=null,this.maxBottom=null,this.max=Number.MAX_VALUE,this.min=0}function fe(){}var me=0;oe.prototype.getModelMatrix=function(){return this.modelMatrix},oe.prototype.setAlpha=function(Te){.999<Te&&(Te=1),.001>Te&&(Te=0),this.alpha=Te},oe.prototype.getAlpha=function(){return this.alpha},oe.prototype.isInitialized=function(){return this.initialized},oe.prototype.setInitialized=function(Te){this.initialized=Te},oe.prototype.isUpdating=function(){return this.updating},oe.prototype.setUpdating=function(Te){this.updating=Te},oe.prototype.getLive2DModel=function(){return this.live2DModel},oe.prototype.setLipSync=function(Te){this.lipSync=Te},oe.prototype.setLipSyncValue=function(Te){this.lipSyncValue=Te},oe.prototype.setAccel=function(Te,ce,Pe){this.accelX=Te,this.accelY=ce,this.accelZ=Pe},oe.prototype.setDrag=function(Te,ce){this.dragX=Te,this.dragY=ce},oe.prototype.getMainMotionManager=function(){return this.mainMotionManager},oe.prototype.getExpressionManager=function(){return this.expressionManager},oe.prototype.loadModelData=function(Te,ce){var Pe=fe.getPlatformManager();this.debugMode&&Pe.log("Load model : "+Te);var Se=this;Pe.loadLive2DModel(Te,function(Le){return(Se.live2DModel=Le,Se.live2DModel.saveParam(),0!=Live2D.getError())?void console.error("Error : Failed to loadModelData()."):void(Se.modelMatrix=new ie(Se.live2DModel.getCanvasWidth(),Se.live2DModel.getCanvasHeight()),Se.modelMatrix.setWidth(2),Se.modelMatrix.setCenterPosition(0,0),ce(Se.live2DModel))})},oe.prototype.loadTexture=function(Te,ce,Pe){me++;var Se=fe.getPlatformManager();this.debugMode&&Se.log("Load Texture : "+ce);var Le=this;Se.loadTexture(this.live2DModel,Te,ce,function(){me--,0==me&&(Le.isTexLoaded=!0),"function"==typeof Pe&&Pe()})},oe.prototype.loadMotion=function(Te,ce,Pe){var Se=fe.getPlatformManager();this.debugMode&&Se.log("Load Motion : "+ce);var Le=null,Ee=this;Se.loadBytes(ce,function(he){Le=Live2DMotion.loadMotion(he),null!=Te&&(Ee.motions[Te]=Le),Pe(Le)})},oe.prototype.loadExpression=function(Te,ce,Pe){var Se=fe.getPlatformManager();this.debugMode&&Se.log("Load Expression : "+ce);var Le=this;Se.loadBytes(ce,function(Ee){null!=Te&&(Le.expressions[Te]=re.loadJson(Ee)),"function"==typeof Pe&&Pe()})},oe.prototype.loadPose=function(Te,ce){var Pe=fe.getPlatformManager();this.debugMode&&Pe.log("Load Pose : "+Te);var Se=this;try{Pe.loadBytes(Te,function(Le){Se.pose=se.load(Le),"function"==typeof ce&&ce()})}catch(Le){console.warn(Le)}},oe.prototype.loadPhysics=function(Te){var ce=fe.getPlatformManager();this.debugMode&&ce.log("Load Physics : "+Te);var Pe=this;try{ce.loadBytes(Te,function(Se){Pe.physics=de.load(Se)})}catch(Se){console.warn(Se)}},oe.prototype.hitTestSimple=function(Te,ce,Pe){if(null===this.live2DModel)return!1;var Se=this.live2DModel.getDrawDataIndex(Te);if(0>Se)return!1;for(var Le=this.live2DModel.getTransformedPoints(Se),Ee=this.live2DModel.getCanvasWidth(),he=0,Me=this.live2DModel.getCanvasHeight(),xe=0,Ie=0;Ie<Le.length;Ie+=2){var Oe=Le[Ie],De=Le[Ie+1];Oe<Ee&&(Ee=Oe),Oe>he&&(he=Oe),De<Me&&(Me=De),De>xe&&(xe=De)}var Ae=this.modelMatrix.invertTransformX(ce),Re=this.modelMatrix.invertTransformY(Pe);return Ee<=Ae&&Ae<=he&&Me<=Re&&Re<=xe},oe.prototype.hitTestSimpleCustom=function(Te,ce,Pe,Se){return null!==this.live2DModel&&Pe>=Te[0]&&Pe<=ce[0]&&Se<=Te[1]&&Se>=ce[1]},re.prototype=new AMotion,re.EXPRESSION_DEFAULT="DEFAULT",re.TYPE_SET=0,re.TYPE_ADD=1,re.TYPE_MULT=2,re.loadJson=function(Te){var ce=new re,Pe=fe.getPlatformManager(),Se=Pe.jsonParseFromBytes(Te);if(ce.setFadeIn(0<parseInt(Se.fade_in)?parseInt(Se.fade_in):1e3),ce.setFadeOut(0<parseInt(Se.fade_out)?parseInt(Se.fade_out):1e3),null==Se.params)return ce;var Le=Se.params,Ee=Le.length;ce.paramList=[];for(var he=0;he<Ee;he++){var Me=Le[he],xe=Me.id.toString(),Ie=parseFloat(Me.val),Oe=re.TYPE_ADD,De=null==Me.calc?"add":Me.calc.toString();if((Oe="add"===De?re.TYPE_ADD:"mult"===De?re.TYPE_MULT:"set"===De?re.TYPE_SET:re.TYPE_ADD)==re.TYPE_ADD){var Ae=null==Me.def?0:parseFloat(Me.def);Ie-=Ae}else if(Oe==re.TYPE_MULT){var Ae=null==Me.def?1:parseFloat(Me.def);0==Ae&&(Ae=1),Ie/=Ae}var Re=new $e;Re.id=xe,Re.type=Oe,Re.value=Ie,ce.paramList.push(Re)}return ce},re.prototype.updateParamExe=function(Te,ce,Pe){for(var Ee,Le=this.paramList.length-1;0<=Le;--Le)Ee=this.paramList[Le],Ee.type==re.TYPE_ADD?Te.addToParamFloat(Ee.id,Ee.value,Pe):Ee.type==re.TYPE_MULT?Te.multParamFloat(Ee.id,Ee.value,Pe):Ee.type==re.TYPE_SET&&Te.setParamFloat(Ee.id,Ee.value,Pe)},ae.prototype.calcNextBlink=function(){return UtSystem.getUserTimeMSec()+Math.random()*(2*this.blinkIntervalMsec-1)},ae.prototype.setInterval=function(Te){this.blinkIntervalMsec=Te},ae.prototype.setEyeMotion=function(Te,ce,Pe){this.closingMotionMsec=Te,this.closedMotionMsec=ce,this.openingMotionMsec=Pe},ae.prototype.updateParam=function(Te){var ce,Pe=UtSystem.getUserTimeMSec(),Se=0;switch(this.eyeState){case ye.STATE_CLOSING:Se=(Pe-this.stateStartTime)/this.closingMotionMsec,1<=Se&&(Se=1,this.eyeState=ye.STATE_CLOSED,this.stateStartTime=Pe),ce=1-Se;break;case ye.STATE_CLOSED:Se=(Pe-this.stateStartTime)/this.closedMotionMsec,1<=Se&&(this.eyeState=ye.STATE_OPENING,this.stateStartTime=Pe),ce=0;break;case ye.STATE_OPENING:Se=(Pe-this.stateStartTime)/this.openingMotionMsec,1<=Se&&(Se=1,this.eyeState=ye.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink()),ce=Se;break;case ye.STATE_INTERVAL:this.nextBlinkTime<Pe&&(this.eyeState=ye.STATE_CLOSING,this.stateStartTime=Pe),ce=1;break;case ye.STATE_FIRST:default:this.eyeState=ye.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink(),ce=1;}this.closeIfZero||(ce=-ce),Te.setParamFloat(this.eyeID_L,ce),Te.setParamFloat(this.eyeID_R,ce)};var ye=function g(){};ye.STATE_FIRST="STATE_FIRST",ye.STATE_INTERVAL="STATE_INTERVAL",ye.STATE_CLOSING="STATE_CLOSING",ye.STATE_CLOSED="STATE_CLOSED",ye.STATE_OPENING="STATE_OPENING",ne.mul=function(Te,ce,Pe){var Se,Le,Ee,he=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(Se=0;4>Se;Se++)for(Le=0;4>Le;Le++)for(Ee=0;4>Ee;Ee++)he[Se+4*Le]+=Te[Se+4*Ee]*ce[Ee+4*Le];for(Se=0;16>Se;Se++)Pe[Se]=he[Se]},ne.prototype.identity=function(){for(var Te=0;16>Te;Te++)this.tr[Te]=0==Te%5?1:0},ne.prototype.getArray=function(){return this.tr},ne.prototype.getCopyMatrix=function(){return new Float32Array(this.tr)},ne.prototype.setMatrix=function(Te){if(null!=this.tr&&this.tr.length==this.tr.length)for(var ce=0;16>ce;ce++)this.tr[ce]=Te[ce]},ne.prototype.getScaleX=function(){return this.tr[0]},ne.prototype.getScaleY=function(){return this.tr[5]},ne.prototype.transformX=function(Te){return this.tr[0]*Te+this.tr[12]},ne.prototype.transformY=function(Te){return this.tr[5]*Te+this.tr[13]},ne.prototype.invertTransformX=function(Te){return(Te-this.tr[12])/this.tr[0]},ne.prototype.invertTransformY=function(Te){return(Te-this.tr[13])/this.tr[5]},ne.prototype.multTranslate=function(Te,ce){ne.mul([1,0,0,0,0,1,0,0,0,0,1,0,Te,ce,0,1],this.tr,this.tr)},ne.prototype.translate=function(Te,ce){this.tr[12]=Te,this.tr[13]=ce},ne.prototype.translateX=function(Te){this.tr[12]=Te},ne.prototype.translateY=function(Te){this.tr[13]=Te},ne.prototype.multScale=function(Te,ce){ne.mul([Te,0,0,0,0,ce,0,0,0,0,1,0,0,0,0,1],this.tr,this.tr)},ne.prototype.scale=function(Te,ce){this.tr[0]=Te,this.tr[5]=ce},ie.prototype=new ne,ie.prototype.setPosition=function(Te,ce){this.translate(Te,ce)},ie.prototype.setCenterPosition=function(Te,ce){var Pe=this.width*this.getScaleX(),Se=this.height*this.getScaleY();this.translate(Te-Pe/2,ce-Se/2)},ie.prototype.top=function(Te){this.setY(Te)},ie.prototype.bottom=function(Te){var ce=this.height*this.getScaleY();this.translateY(Te-ce)},ie.prototype.left=function(Te){this.setX(Te)},ie.prototype.right=function(Te){var ce=this.width*this.getScaleX();this.translateX(Te-ce)},ie.prototype.centerX=function(Te){var ce=this.width*this.getScaleX();this.translateX(Te-ce/2)},ie.prototype.centerY=function(Te){var ce=this.height*this.getScaleY();this.translateY(Te-ce/2)},ie.prototype.setX=function(Te){this.translateX(Te)},ie.prototype.setY=function(Te){this.translateY(Te)},ie.prototype.setHeight=function(Te){var ce=Te/this.height;this.scale(ce,-ce)},ie.prototype.setWidth=function(Te){var ce=Te/this.width;this.scale(ce,-ce)},pe.prototype=new MotionQueueManager,pe.prototype.getCurrentPriority=function(){return this.currentPriority},pe.prototype.getReservePriority=function(){return this.reservePriority},pe.prototype.reserveMotion=function(Te){return!(this.reservePriority>=Te)&&!(this.currentPriority>=Te)&&(this.reservePriority=Te,!0)},pe.prototype.setReservePriority=function(Te){this.reservePriority=Te},pe.prototype.updateParam=function(Te){var ce=MotionQueueManager.prototype.updateParam.call(this,Te);return this.isFinished()&&(this.currentPriority=0),ce},pe.prototype.startMotionPrio=function(Te,ce){return ce==this.reservePriority&&(this.reservePriority=0),this.currentPriority=ce,this.startMotion(Te,!1)},de.load=function(Te){for(var ce=new de,Pe=fe.getPlatformManager(),Se=Pe.jsonParseFromBytes(Te),Le=Se.physics_hair,Ee=Le.length,he=0;he<Ee;he++){var Me=Le[he],xe=new PhysicsHair,Ie=Me.setup,Oe=parseFloat(Ie.length),De=parseFloat(Ie.regist),Ae=parseFloat(Ie.mass);xe.setup(Oe,De,Ae);for(var Re=Me.src,Ce=Re.length,Fe=0;Fe<Ce;Fe++){var Ne=Re[Fe],be=Ne.id,Be=PhysicsHair.Src.SRC_TO_X,ve=Ne.ptype;"x"===ve?Be=PhysicsHair.Src.SRC_TO_X:"y"===ve?Be=PhysicsHair.Src.SRC_TO_Y:"angle"===ve?Be=PhysicsHair.Src.SRC_TO_G_ANGLE:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Src");var Ge=parseFloat(Ne.scale),Ue=parseFloat(Ne.weight);xe.addSrcParam(Be,be,Ge,Ue)}for(var Ye=Me.targets,we=Ye.length,Fe=0;Fe<we;Fe++){var Ve=Ye[Fe],be=Ve.id,Be=PhysicsHair.Target.TARGET_FROM_ANGLE,ve=Ve.ptype;"angle"===ve?Be=PhysicsHair.Target.TARGET_FROM_ANGLE:"angle_v"===ve?Be=PhysicsHair.Target.TARGET_FROM_ANGLE_V:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Target");var Ge=parseFloat(Ve.scale),Ue=parseFloat(Ve.weight);xe.addTargetParam(Be,be,Ge,Ue)}ce.physicsList.push(xe)}return ce},de.prototype.updateParam=function(Te){for(var ce=UtSystem.getUserTimeMSec()-this.startTimeMSec,Pe=0;Pe<this.physicsList.length;Pe++)this.physicsList[Pe].update(Te,ce)},se.load=function(Te){for(var ce=new se,Pe=fe.getPlatformManager(),Se=Pe.jsonParseFromBytes(Te),Le=Se.parts_visible,Ee=Le.length,he=0;he<Ee;he++){for(var Me=Le[he],xe=Me.group,Ie=xe.length,Oe=[],De=0;De<Ie;De++){var Ae=xe[De],Re=new le(Ae.id);if(Oe[De]=Re,null!=Ae.link){var Ce=Ae.link,Fe=Ce.length;Re.link=[];for(var be,Ne=0;Ne<Fe;Ne++)be=new le(Ce[Ne]),Re.link.push(be)}}ce.partsGroups.push(Oe)}return ce},se.prototype.updateParam=function(Te){if(null!=Te){Te!=this.lastModel&&this.initParam(Te),this.lastModel=Te;var ce=UtSystem.getUserTimeMSec(),Pe=0==this.lastTime?0:(ce-this.lastTime)/1e3;this.lastTime=ce,0>Pe&&(Pe=0);for(var Se=0;Se<this.partsGroups.length;Se++)this.normalizePartsOpacityGroup(Te,this.partsGroups[Se],Pe),this.copyOpacityOtherParts(Te,this.partsGroups[Se])}},se.prototype.initParam=function(Te){if(null!=Te)for(var ce=0;ce<this.partsGroups.length;ce++)for(var Pe=this.partsGroups[ce],Se=0;Se<Pe.length;Se++){Pe[Se].initIndex(Te);var Le=Pe[Se].partsIndex,Ee=Pe[Se].paramIndex;if(!(0>Le)){var he=0!=Te.getParamFloat(Ee);if(Te.setPartsOpacity(Le,he?1:0),Te.setParamFloat(Ee,he?1:0),null!=Pe[Se].link)for(var Me=0;Me<Pe[Se].link.length;Me++)Pe[Se].link[Me].initIndex(Te)}}},se.prototype.normalizePartsOpacityGroup=function(Te,ce,Pe){for(var Se=-1,Le=1,Ee=0;Ee<ce.length;Ee++){var he=ce[Ee].partsIndex,Me=ce[Ee].paramIndex;if(!(0>he)&&0!=Te.getParamFloat(Me)){if(0<=Se)break;Se=Ee,Le=Te.getPartsOpacity(he),Le+=Pe/.5,1<Le&&(Le=1)}}0>Se&&(Se=0,Le=1);for(var he,Ee=0;Ee<ce.length;Ee++)if(he=ce[Ee].partsIndex,!(0>he))if(Se==Ee)Te.setPartsOpacity(he,Le);else{var xe,Ie=Te.getPartsOpacity(he);xe=.5>Le?-.5*Le/.5+1:.5*(1-Le)/.5;var Oe=(1-xe)*(1-Le);.15<Oe&&(xe=1-.15/(1-Le)),Ie>xe&&(Ie=xe),Te.setPartsOpacity(he,Ie)}},se.prototype.copyOpacityOtherParts=function(Te,ce){for(var Se,Pe=0;Pe<ce.length;Pe++)if(Se=ce[Pe],null!=Se.link&&!(0>Se.partsIndex))for(var he,Le=Te.getPartsOpacity(Se.partsIndex),Ee=0;Ee<Se.link.length;Ee++)he=Se.link[Ee],0>he.partsIndex||Te.setPartsOpacity(he.partsIndex,Le)},le.prototype.initIndex=function(Te){this.paramIndex=Te.getParamIndex("VISIBLE:"+this.id),this.partsIndex=Te.getPartsDataIndex(PartsDataID.getID(this.id)),Te.setParamFloat(this.paramIndex,1)},ge.FRAME_RATE=30,ge.prototype.setPoint=function(Te,ce){this.faceTargetX=Te,this.faceTargetY=ce},ge.prototype.getX=function(){return this.faceX},ge.prototype.getY=function(){return this.faceY},ge.prototype.update=function(){var Te=40/7.5/ge.FRAME_RATE;if(0==this.lastTimeSec)return void(this.lastTimeSec=UtSystem.getUserTimeMSec());var ce=UtSystem.getUserTimeMSec(),Pe=(ce-this.lastTimeSec)*ge.FRAME_RATE/1e3;this.lastTimeSec=ce;var Se=.15*ge.FRAME_RATE,Le=Pe*Te/Se,Ee=this.faceTargetX-this.faceX,he=this.faceTargetY-this.faceY;if(!(_Mathabs(Ee)<=this.EPSILON&&_Mathabs(he)<=this.EPSILON)){var Me=_Mathsqrt(Ee*Ee+he*he),Oe=Te*Ee/Me-this.faceVX,De=Te*he/Me-this.faceVY,Ae=_Mathsqrt(Oe*Oe+De*De);(Ae<-Le||Ae>Le)&&(Oe*=Le/Ae,De*=Le/Ae,Ae=Le),this.faceVX+=Oe,this.faceVY+=De;var Re=.5*(_Mathsqrt(Le*Le+16*Le*Me-8*Le*Me)-Le),Ce=_Mathsqrt(this.faceVX*this.faceVX+this.faceVY*this.faceVY);Ce>Re&&(this.faceVX*=Re/Ce,this.faceVY*=Re/Ce),this.faceX+=this.faceVX,this.faceY+=this.faceVY}},ue.prototype=new ne,ue.prototype.getMaxScale=function(){return this.max},ue.prototype.getMinScale=function(){return this.min},ue.prototype.setMaxScale=function(Te){this.max=Te},ue.prototype.setMinScale=function(Te){this.min=Te},ue.prototype.isMaxScale=function(){return this.getScaleX()==this.max},ue.prototype.isMinScale=function(){return this.getScaleX()==this.min},ue.prototype.adjustTranslate=function(Te,ce){this.tr[0]*this.maxLeft+(this.tr[12]+Te)>this.screenLeft&&(Te=this.screenLeft-this.tr[0]*this.maxLeft-this.tr[12]),this.tr[0]*this.maxRight+(this.tr[12]+Te)<this.screenRight&&(Te=this.screenRight-this.tr[0]*this.maxRight-this.tr[12]),this.tr[5]*this.maxTop+(this.tr[13]+ce)<this.screenTop&&(ce=this.screenTop-this.tr[5]*this.maxTop-this.tr[13]),this.tr[5]*this.maxBottom+(this.tr[13]+ce)>this.screenBottom&&(ce=this.screenBottom-this.tr[5]*this.maxBottom-this.tr[13]);var Pe=[1,0,0,0,0,1,0,0,0,0,1,0,Te,ce,0,1];ne.mul(Pe,this.tr,this.tr)},ue.prototype.adjustScale=function(Te,ce,Pe){var Se=Pe*this.tr[0];Se<this.min?0<this.tr[0]&&(Pe=this.min/this.tr[0]):Se>this.max&&0<this.tr[0]&&(Pe=this.max/this.tr[0]);var Ee=[Pe,0,0,0,0,Pe,0,0,0,0,1,0,0,0,0,1];ne.mul([1,0,0,0,0,1,0,0,0,0,1,0,-Te,-ce,0,1],this.tr,this.tr),ne.mul(Ee,this.tr,this.tr),ne.mul([1,0,0,0,0,1,0,0,0,0,1,0,Te,ce,0,1],this.tr,this.tr)},ue.prototype.setScreenRect=function(Te,ce,Pe,Se){this.screenLeft=Te,this.screenRight=ce,this.screenTop=Se,this.screenBottom=Pe},ue.prototype.setMaxScreenRect=function(Te,ce,Pe,Se){this.maxLeft=Te,this.maxRight=ce,this.maxTop=Se,this.maxBottom=Pe},ue.prototype.getScreenLeft=function(){return this.screenLeft},ue.prototype.getScreenRight=function(){return this.screenRight},ue.prototype.getScreenBottom=function(){return this.screenBottom},ue.prototype.getScreenTop=function(){return this.screenTop},ue.prototype.getMaxLeft=function(){return this.maxLeft},ue.prototype.getMaxRight=function(){return this.maxRight},ue.prototype.getMaxBottom=function(){return this.maxBottom},ue.prototype.getMaxTop=function(){return this.maxTop},fe.platformManager=null,fe.getPlatformManager=function(){return fe.platformManager},fe.setPlatformManager=function(Te){fe.platformManager=Te},ee.exports={L2DTargetPoint:ge,Live2DFramework:fe,L2DViewMatrix:ue,L2DPose:se,L2DPartsParam:le,L2DPhysics:de,L2DMotionManager:pe,L2DModelMatrix:ie,L2DMatrix44:ne,EYE_STATE:ye,L2DEyeBlink:ae,L2DExpressionParam:$e,L2DExpressionMotion:re,L2DBaseModel:oe}},function(ee){"use strict";ee.exports={DEBUG_LOG:!1,DEBUG_MOUSE_LOG:!1,DEBUG_DRAW_HIT_AREA:!1,DEBUG_DRAW_ALPHA_MODEL:!1,VIEW_MAX_SCALE:2,VIEW_MIN_SCALE:.8,VIEW_LOGICAL_LEFT:-1,VIEW_LOGICAL_RIGHT:1,VIEW_LOGICAL_MAX_LEFT:-2,VIEW_LOGICAL_MAX_RIGHT:2,VIEW_LOGICAL_MAX_BOTTOM:-2,VIEW_LOGICAL_MAX_TOP:2,PRIORITY_NONE:0,PRIORITY_IDLE:1,PRIORITY_SLEEPY:2,PRIORITY_NORMAL:3,PRIORITY_FORCE:4,MOTION_GROUP_IDLE:"idle",MOTION_GROUP_SLEEPY:"sleepy",MOTION_GROUP_TAP_BODY:"tap_body",MOTION_GROUP_FLICK_HEAD:"flick_head",MOTION_GROUP_PINCH_IN:"pinch_in",MOTION_GROUP_PINCH_OUT:"pinch_out",MOTION_GROUP_SHAKE:"shake",HIT_AREA_HEAD:"head",HIT_AREA_BODY:"body"}},function(ee,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0}),te.setContext=function(ae){$e=ae},te.getContext=function(){return $e};var $e=void 0},function(ee){"use strict";function oe(){}oe.matrixStack=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],oe.depth=0,oe.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],oe.tmp=Array(16),oe.reset=function(){this.depth=0},oe.loadIdentity=function(){for(var re=0;16>re;re++)this.currentMatrix[re]=0==re%5?1:0},oe.push=function(){var re=(this.depth,16*(this.depth+1));this.matrixStack.length<re+16&&(this.matrixStack.length=re+16);for(var $e=0;16>$e;$e++)this.matrixStack[re+$e]=this.currentMatrix[$e];this.depth++},oe.pop=function(){0>--this.depth&&(myError("Invalid matrix stack."),this.depth=0);for(var re=16*this.depth,$e=0;16>$e;$e++)this.currentMatrix[$e]=this.matrixStack[re+$e]},oe.getMatrix=function(){return this.currentMatrix},oe.multMatrix=function(re){var $e,ae,ne;for($e=0;16>$e;$e++)this.tmp[$e]=0;for($e=0;4>$e;$e++)for(ae=0;4>ae;ae++)for(ne=0;4>ne;ne++)this.tmp[$e+4*ae]+=this.currentMatrix[$e+4*ne]*re[ne+4*ae];for($e=0;16>$e;$e++)this.currentMatrix[$e]=this.tmp[$e]},ee.exports=oe},function(ee,te,_e){ee.exports=_e(5)},function(ee,te,_e){"use strict";function oe(He){return He&&He.__esModule?He:{default:He}}function re(He){Be=document.getElementById(He),Be.addEventListener&&(window.addEventListener("click",ye),window.addEventListener("mousedown",ye),window.addEventListener("mousemove",ye),window.addEventListener("mouseup",ye),document.addEventListener("mouseout",ye),window.addEventListener("touchstart",Te),window.addEventListener("touchend",Te),window.addEventListener("touchmove",Te))}function $e(He){var ke=Be.width,We=Be.height;ve=new Me.L2DTargetPoint;var qe=We/ke,je=De.default.VIEW_LOGICAL_LEFT,Je=De.default.VIEW_LOGICAL_RIGHT;return(window.Live2D.captureFrame=!1,Ge=new Me.L2DViewMatrix,Ge.setScreenRect(je,Je,-qe,qe),Ge.setMaxScreenRect(De.default.VIEW_LOGICAL_MAX_LEFT,De.default.VIEW_LOGICAL_MAX_RIGHT,De.default.VIEW_LOGICAL_MAX_BOTTOM,De.default.VIEW_LOGICAL_MAX_TOP),Ge.setMaxScale(De.default.VIEW_MAX_SCALE),Ge.setMinScale(De.default.VIEW_MIN_SCALE),Ue=new Me.L2DMatrix44,Ue.multScale(1,ke/We),Ye=new Me.L2DMatrix44,Ye.multTranslate(-ke/2,-We/2),Ye.multScale(2/ke,-2/ke),be=Ee(),(0,Ce.setContext)(be),!be)?(console.error("Failed to create WebGL context."),void(window.WebGLRenderingContext&&console.error("Your browser don't support WebGL, check https://get.webgl.org/ for futher information."))):void(window.Live2D.setGL(be),be.clearColor(0,0,0,0),ie(He),ae())}function ae(){Ne||(Ne=!0,function He(){ne();var ke=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;if(window.Live2D.captureFrame){window.Live2D.captureFrame=!1;var We=document.createElement("a");document.body.appendChild(We),We.setAttribute("type","hidden"),We.href=Be.toDataURL(),We.download=window.Live2D.captureName||"live2d.png",We.click()}ke(He,Be)}())}function ne(){Re.default.reset(),Re.default.loadIdentity(),ve.update(),Fe.setDrag(ve.getX(),ve.getY()),be.clear(be.COLOR_BUFFER_BIT),Re.default.multMatrix(Ue.getArray()),Re.default.multMatrix(Ge.getArray()),Re.default.push();for(var ke,He=0;He<Fe.numModels();He++){if(ke=Fe.getModel(He),null==ke)return;ke.initialized&&!ke.updating&&(ke.update(),ke.draw(be))}Re.default.pop()}function ie(He){Fe.reloadFlg=!0,Fe.count++,Fe.changeModel(be,He)}function pe(He,ke){return He.x*ke.x+He.y*ke.y}function de(He,ke){var We=_Mathsqrt(He*He+ke*ke);return{x:He/We,y:ke/We}}function se(He,ke,We){function qe(Qt,Zt){return 180*Math.acos(pe({x:0,y:1},de(Qt,Zt)))/_MathPI}if(ke.x<We.left+We.width&&ke.y<We.top+We.height&&ke.x>We.left&&ke.y>We.top)return ke;var je=He.x-ke.x,Je=He.y-ke.y,Qe=qe(je,Je);ke.x<He.x&&(Qe=360-Qe);var Ze=360-qe(We.left-He.x,-1*(We.top-He.y)),Ke=360-qe(We.left-He.x,-1*(We.top+We.height-He.y)),Nt=qe(We.left+We.width-He.x,-1*(We.top-He.y)),Bt=qe(We.left+We.width-He.x,-1*(We.top+We.height-He.y)),Gt=Je/je,Ut={};if(Qe<Nt){var Yt=We.top-He.y;Ut={y:He.y+Yt,x:He.x+Yt/Gt}}else if(Qe<Bt){var Xt=We.left+We.width-He.x;Ut={y:He.y+Xt*Gt,x:He.x+Xt}}else if(Qe<Ke){var Ht=We.top+We.height-He.y;Ut={y:He.y+Ht,x:He.x+Ht/Gt}}else if(Qe<Ze){var Wt=He.x-We.left;Ut={y:He.y-Wt*Gt,x:He.x-Wt}}else{var jt=We.top-He.y;Ut={y:He.y+jt,x:He.x+jt/Gt}}return Ut}function le(He){we=!0;var ke=Be.getBoundingClientRect(),We=Se(He.clientX-ke.left),qe=Le(He.clientY-ke.top),je=se({x:ke.left+ke.width/2,y:ke.top+ke.height*ze},{x:He.clientX,y:He.clientY},ke),Je=ce(je.x-ke.left),Qe=Pe(je.y-ke.top);De.default.DEBUG_MOUSE_LOG&&console.log("onMouseMove device( x:"+He.clientX+" y:"+He.clientY+" ) view( x:"+Je+" y:"+Qe+")"),Ve=We,Xe=qe,ve.setPoint(Je,Qe)}function ge(He){we=!0;var ke=Be.getBoundingClientRect(),We=Se(He.clientX-ke.left),qe=Le(He.clientY-ke.top),je=se({x:ke.left+ke.width/2,y:ke.top+ke.height*ze},{x:He.clientX,y:He.clientY},ke),Je=ce(je.x-ke.left),Qe=Pe(je.y-ke.top);De.default.DEBUG_MOUSE_LOG&&console.log("onMouseDown device( x:"+He.clientX+" y:"+He.clientY+" ) view( x:"+Je+" y:"+Qe+")"),Ve=We,Xe=qe,Fe.tapEvent(Je,Qe)}function ue(He){var ke=Be.getBoundingClientRect(),We=Se(He.clientX-ke.left),qe=Le(He.clientY-ke.top),je=se({x:ke.left+ke.width/2,y:ke.top+ke.height*ze},{x:He.clientX,y:He.clientY},ke),Je=ce(je.x-ke.left),Qe=Pe(je.y-ke.top);De.default.DEBUG_MOUSE_LOG&&console.log("onMouseMove device( x:"+He.clientX+" y:"+He.clientY+" ) view( x:"+Je+" y:"+Qe+")"),we&&(Ve=We,Xe=qe,ve.setPoint(Je,Qe))}function fe(){we&&(we=!1),ve.setPoint(0,0)}function me(){De.default.DEBUG_LOG&&console.log("Set Session Storage."),sessionStorage.setItem("Sleepy","1")}function ye(He){if("mousewheel"==He.type);else if("mousedown"==He.type)ge(He);else if("mousemove"==He.type){var ke=sessionStorage.getItem("Sleepy");"1"===ke&&sessionStorage.setItem("Sleepy","0"),le(He)}else if("mouseup"==He.type){if("button"in He&&0!=He.button)return;}else if("mouseout"==He.type){De.default.DEBUG_LOG&&console.log("Mouse out Window."),fe();var We=sessionStorage.getItem("SleepyTimer");window.clearTimeout(We),We=window.setTimeout(me,5e4),sessionStorage.setItem("SleepyTimer",We)}}function Te(He){var ke=He.touches[0];"touchstart"==He.type?1==He.touches.length&&le(ke):"touchmove"==He.type?ue(ke):"touchend"==He.type&&fe()}function ce(He){var ke=Ye.transformX(He);return Ge.invertTransformX(ke)}function Pe(He){var ke=Ye.transformY(He);return Ge.invertTransformY(ke)}function Se(He){return Ye.transformX(He)}function Le(He){return Ye.transformY(He)}function Ee(){for(var He=["webgl","experimental-webgl","webkit-3d","moz-webgl"],ke=0;ke<He.length;ke++)try{var We=Be.getContext(He[ke],{premultipliedAlpha:!0});if(We)return We}catch(qe){}return null}_e(6);var Me=_e(0),xe=_e(8),Ie=oe(xe),Oe=_e(1),De=oe(Oe),Ae=_e(3),Re=oe(Ae),Ce=_e(2),Fe=(window.navigator.platform.toLowerCase(),new Ie.default),Ne=!1,be=null,Be=null,ve=null,Ge=null,Ue=null,Ye=null,we=!1,Ve=0,Xe=0,ze=.5;window.loadlive2d=function(He,ke,We){ze=void 0===We?.5:We,re(He),$e(ke)}},function(ee,te,_e){"use strict";(function(oe){!function(){function re(){l_||(this._$MT=null,this._$5S=null,this._$NP=0,re._$42++,this._$5S=new Xe(this))}function $e(m_){if(!l_){this.clipContextList=[],this.glcontext=m_.gl,this.dp_webgl=m_,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new he,Wt.glContext.length>Wt.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new be,this.tmpMatrix2=new be,this.tmpMatrixForMask=new be,this.tmpMatrixForDraw=new be,this.CHANNEL_COLORS=[];var y_=new De;y_=new De,y_.r=0,y_.g=0,y_.b=0,y_.a=1,this.CHANNEL_COLORS.push(y_),y_=new De,y_.r=1,y_.g=0,y_.b=0,y_.a=0,this.CHANNEL_COLORS.push(y_),y_=new De,y_.r=0,y_.g=1,y_.b=0,y_.a=0,this.CHANNEL_COLORS.push(y_),y_=new De,y_.r=0,y_.g=0,y_.b=1,y_.a=0,this.CHANNEL_COLORS.push(y_);for(var T_=0;T_<this.CHANNEL_COLORS.length;T_++)this.dp_webgl.setChannelFlagAsColor(T_,this.CHANNEL_COLORS[T_])}}function ae(m_,y_,T_){this.clipIDList=[],this.clipIDList=T_,this.clippingMaskDrawIndexList=[];for(var c_=0;c_<T_.length;c_++)this.clippingMaskDrawIndexList.push(y_.getDrawDataIndex(T_[c_]));this.clippedDrawContextList=[],this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new he,this.allClippedDrawRect=new he,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=m_}function ne(m_,y_){this._$gP=m_,this.drawDataIndex=y_}function ie(){l_||(this.color=null)}function pe(){l_||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}function de(){}function se(){this._$r=null,this._$0S=null}function le(){l_||(this.x=null,this.y=null,this.width=null,this.height=null)}function ge(m_){l_||Yt.prototype.constructor.call(this,m_)}function fe(m_){l_||Yt.prototype.constructor.call(this,m_)}function me(){l_||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,me._$42++)}function ye(){l_||(this.p1=new Te,this.p2=new Te,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=[],this._$qP=[],this.setup(.3,.5,.1))}function Te(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}function ce(m_,y_,T_){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=m_,this.scale=y_,this._$V0=T_}function Pe(m_,y_,T_,c_){ce.prototype.constructor.call(this,y_,T_,c_),this._$tL=null,this._$tL=m_}function Se(m_,y_,T_){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=m_,this.scale=y_,this._$V0=T_}function Le(m_,y_,T_,c_){Se.prototype.constructor.call(this,y_,T_,c_),this._$YP=null,this._$YP=m_}function Ee(){l_||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}function he(){l_||(this.x=null,this.y=null,this.width=null,this.height=null)}function Me(){}function xe(){l_||(this.x=null,this.y=null)}function Ie(){l_||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=[])}function Oe(){l_||(this._$Eb=Oe._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=Oe.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=[])}function De(){l_||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=Wt.L2D_COLOR_BLEND_MODE_MULT)}function Ae(){l_||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}function Re(){}function Ce(){l_||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=Ce._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}function Fe(){}function Ne(){l_||(this._$Ob=null)}function be(){this.m=new Float32Array(16),this.identity()}function Be(m_){l_||Yt.prototype.constructor.call(this,m_)}function ve(){l_||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}function Ge(){l_||(pe.prototype.constructor.call(this),this.motions=[],this._$7r=null,this._$7r=Ge._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}function Ue(){this._$P=new Float32Array(100),this.size=0}function Ye(){this._$4P=null,this._$I0=null,this._$RP=null}function we(){}function Ve(){}function Xe(m_){l_||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=Array(Xe._$is),this._$_2=new Float32Array(Xe._$is),this._$vr=new Float32Array(Xe._$is),this._$Rr=new Float32Array(Xe._$is),this._$Or=new Float32Array(Xe._$is),this._$fs=new Float32Array(Xe._$is),this._$Js=Array(Xe._$is),this._$3S=[],this._$aS=[],this._$Bo=null,this._$F2=[],this._$db=[],this._$8b=[],this._$Hr=[],this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(we._$Qb),this._$ZP=new Float32Array(2*we._$1r),this._$Ri=m_,this._$b0=Xe._$HP++,this.clipManager=null,this.dp_webgl=null)}function ze(){}function He(){l_||(this._$12=null,this._$bb=null,this._$_L=null,this._$jo=null,this._$iL=null,this._$0L=null,this._$Br=null,this._$Dr=null,this._$Cb=null,this._$mr=null,this._$_L=u_.STATE_FIRST,this._$Br=4e3,this._$Dr=100,this._$Cb=50,this._$mr=150,this._$jo=!0,this._$iL="PARAM_EYE_L_OPEN",this._$0L="PARAM_EYE_R_OPEN")}function ke(){l_||(Oe.prototype.constructor.call(this),this._$sb=new Int32Array(ke._$As),this._$U2=[],this.transform=null,this.gl=null,null==ke._$NT&&(ke._$NT=ke._$9r(256),ke._$vS=ke._$9r(256),ke._$no=ke._$vb(256)))}function We(){l_||(Ae.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}function qe(m_){kt.prototype.constructor.call(this,m_),this._$8r=Ae._$ur,this._$Yr=null,this._$Wr=null}function je(){l_||(Ie.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}function Je(){l_||(this._$NL=null,this._$3S=null,this._$aS=null,Je._$42++)}function Qe(){l_||(re.prototype.constructor.call(this),this._$zo=new ke)}function Ze(){l_||(pe.prototype.constructor.call(this),this.motions=[],this._$o2=null,this._$7r=Ze._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}function Ke(m_,y_){return _StringfromCharCode(m_.getUint8(y_))}function Ue(){this._$P=new Float32Array(100),this.size=0}function Ye(){this._$4P=null,this._$I0=null,this._$RP=null}function Nt(){l_||(Ae.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}function Bt(m_){kt.prototype.constructor.call(this,m_),this._$8r=Ae._$ur,this._$Cr=null,this._$hr=null}function Gt(){l_||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,Gt._$42++)}function Ut(m_){this._$VS=null,this._$e0=null,this._$e0=m_}function Yt(m_){l_||(this.id=m_)}function Xt(){l_||(this._$4S=null)}function zt(m_,y_){this.canvas=m_,this.context=y_,this.viewport=[0,0,m_.width,m_.height],this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}function Ht(){l_||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}function kt(m_){l_||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=m_,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}function Wt(){}function qt(){}function jt(m_){l_||(this._$ib=m_)}function Jt(){l_||(je.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=Jt._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=Jt._$42++)}function Qt(m_){d_.prototype.constructor.call(this,m_),this._$8r=je._$ur,this._$Cr=null,this._$hr=null}function Zt(){l_||(this.x=null,this.y=null)}function Kt(m_){l_||(re.prototype.constructor.call(this),this.drawParamWebGL=new r_(m_),this.drawParamWebGL.setGL(Wt.getGL(m_)))}function e_(){l_||(this.motions=null,this._$eb=!1,this.motions=[])}function t_(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=t_._$Gs++}function __(){this.m=[1,0,0,0,1,0,0,0,1]}function o_(m_){l_||Yt.prototype.constructor.call(this,m_)}function r_(m_){l_||(Oe.prototype.constructor.call(this),this.textures=[],this.transform=null,this.gl=null,this.glno=m_,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}function $_(m_,y_,T_){return null==y_&&(y_=m_.createBuffer()),m_.bindBuffer(m_.ARRAY_BUFFER,y_),m_.bufferData(m_.ARRAY_BUFFER,T_,m_.DYNAMIC_DRAW),y_}function a_(m_,y_,T_){return null==y_&&(y_=m_.createBuffer()),m_.bindBuffer(m_.ELEMENT_ARRAY_BUFFER,y_),m_.bufferData(m_.ELEMENT_ARRAY_BUFFER,T_,m_.DYNAMIC_DRAW),y_}function n_(m_){l_||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=[],this._$T=m_,this._$F=0)}function p_(){}function d_(m_){l_||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=m_)}function s_(){}var l_=!0;re._$0s=1,re._$4s=2,re._$42=0,re._$62=function(m_,y_){try{if(y_ instanceof ArrayBuffer&&(y_=new DataView(y_)),!(y_ instanceof DataView))throw new jt("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var T_,c_=new n_(y_),P_=c_._$ST(),S_=c_._$ST(),L_=c_._$ST();if(109!=P_||111!=S_||99!=L_)throw new jt("_$gi _$C _$li , _$Q0 _$P0.");if(T_=c_._$ST(),c_._$gr(T_),T_>Ve._$T7)throw m_._$NP|=re._$4s,new jt("_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+Ve._$T7+" < _$f0 : "+T_+" )@_$SS#loadModel()\n");var E_=c_._$nP();if(T_>=Ve._$s7){var h_=c_._$9T(),M_=c_._$9T();if(-30584!=h_||-30584!=M_)throw m_._$NP|=re._$0s,new jt("_$gi _$C _$li , _$0 _$6 _$Ui.")}m_._$KS(E_);var x_=m_.getModelContext();x_.setDrawParam(m_.getDrawParam()),x_.init()}catch(I_){de._$Rb(I_)}},re.prototype._$KS=function(m_){this._$MT=m_},re.prototype.getModelImpl=function(){return null==this._$MT&&(this._$MT=new me,this._$MT._$zP()),this._$MT},re.prototype.getCanvasWidth=function(){return null==this._$MT?0:this._$MT.getCanvasWidth()},re.prototype.getCanvasHeight=function(){return null==this._$MT?0:this._$MT.getCanvasHeight()},re.prototype.getParamFloat=function(m_){return"number"!=typeof m_&&(m_=this._$5S.getParamIndex(fe.getID(m_))),this._$5S.getParamFloat(m_)},re.prototype.setParamFloat=function(m_,y_,T_){"number"!=typeof m_&&(m_=this._$5S.getParamIndex(fe.getID(m_))),3>arguments.length&&(T_=1),this._$5S.setParamFloat(m_,this._$5S.getParamFloat(m_)*(1-T_)+y_*T_)},re.prototype.addToParamFloat=function(m_,y_,T_){"number"!=typeof m_&&(m_=this._$5S.getParamIndex(fe.getID(m_))),3>arguments.length&&(T_=1),this._$5S.setParamFloat(m_,this._$5S.getParamFloat(m_)+y_*T_)},re.prototype.multParamFloat=function(m_,y_,T_){"number"!=typeof m_&&(m_=this._$5S.getParamIndex(fe.getID(m_))),3>arguments.length&&(T_=1),this._$5S.setParamFloat(m_,this._$5S.getParamFloat(m_)*(1+(y_-1)*T_))},re.prototype.getParamIndex=function(m_){return this._$5S.getParamIndex(fe.getID(m_))},re.prototype.loadParam=function(){this._$5S.loadParam()},re.prototype.saveParam=function(){this._$5S.saveParam()},re.prototype.init=function(){this._$5S.init()},re.prototype.update=function(){this._$5S.update()},re.prototype._$Rs=function(){return de._$li("_$60 _$PT _$Rs()"),-1},re.prototype._$Ds=function(){de._$li("_$60 _$PT _$SS#_$Ds() \n")},re.prototype._$K2=function(){},re.prototype.draw=function(){},re.prototype.getModelContext=function(){return this._$5S},re.prototype._$s2=function(){return this._$NP},re.prototype._$P7=function(m_,y_,T_,c_){var P_=-1,S_=0,L_=this;if(!(0!=T_))for(var O_=0;O_<m_.length;O_++){var E_=m_[O_],M_=y_[O_],D_=0!=L_.getParamFloat(E_);L_.setPartsOpacity(M_,D_?1:0)}else if(1==m_.length){var E_=m_[0],h_=0!=L_.getParamFloat(E_),M_=y_[0],x_=L_.getPartsOpacity(M_),I_=T_/c_;h_?1<(x_+=I_)&&(x_=1):0>(x_-=I_)&&(x_=0),L_.setPartsOpacity(M_,x_)}else{for(var O_=0;O_<m_.length;O_++){var E_=m_[O_],D_=0!=L_.getParamFloat(E_);if(D_){if(0<=P_)break;P_=O_;var M_=y_[O_];S_=L_.getPartsOpacity(M_),S_+=T_/c_,1<S_&&(S_=1)}}0>P_&&(console.log("No _$wi _$q0/ _$U default[%s]",m_[0]),P_=0,S_=1,L_.loadParam(),L_.setParamFloat(m_[P_],S_),L_.saveParam());for(var M_,O_=0;O_<m_.length;O_++)if(M_=y_[O_],P_==O_)L_.setPartsOpacity(M_,S_);else{var A_,R_=L_.getPartsOpacity(M_);A_=.5>S_?-.5*S_/.5+1:.5*(1-S_)/.5;var C_=(1-A_)*(1-S_);.15<C_&&(A_=1-.15/(1-S_)),R_>A_&&(R_=A_),L_.setPartsOpacity(M_,R_)}}},re.prototype.setPartsOpacity=function(m_,y_){"number"!=typeof m_&&(m_=this._$5S.getPartsDataIndex(ge.getID(m_))),this._$5S.setPartsOpacity(m_,y_)},re.prototype.getPartsDataIndex=function(m_){return m_ instanceof ge||(m_=ge.getID(m_)),this._$5S.getPartsDataIndex(m_)},re.prototype.getPartsOpacity=function(m_){return"number"!=typeof m_&&(m_=this._$5S.getPartsDataIndex(ge.getID(m_))),0>m_?0:this._$5S.getPartsOpacity(m_)},re.prototype.getDrawParam=function(){},re.prototype.getDrawDataIndex=function(m_){return this._$5S.getDrawDataIndex(Be.getID(m_))},re.prototype.getDrawData=function(m_){return this._$5S.getDrawData(m_)},re.prototype.getTransformedPoints=function(m_){var y_=this._$5S._$C2(m_);return y_ instanceof Qt?y_.getTransformedPoints():null},re.prototype.getIndexArray=function(m_){if(0>m_||m_>=this._$5S._$aS.length)return null;var y_=this._$5S._$aS[m_];return null!=y_&&y_.getType()==je._$wb&&y_ instanceof Jt?y_.getIndexArray():null},$e.CHANNEL_COUNT=4,$e.RENDER_TEXTURE_USE_MIPMAP=!1,$e.NOT_USED_FRAME=-100,$e.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var m_=this.CHANNEL_COLORS.length-1;0<=m_;--m_)this.CHANNEL_COLORS.splice(m_,1);this.CHANNEL_COLORS=[]}this.releaseShader()},$e.prototype.releaseShader=function(){for(var m_=Wt.frameBuffers.length,y_=0;y_<m_;y_++)this.gl.deleteFramebuffer(Wt.frameBuffers[y_].framebuffer);Wt.frameBuffers=[],Wt.glContext=[]},$e.prototype.init=function(m_,y_,T_){for(var P_,c_=0;c_<y_.length;c_++)if(P_=y_[c_].getClipIDList(),null!=P_){var S_=this.findSameClip(P_);null==S_&&(S_=new ae(this,m_,P_),this.clipContextList.push(S_));var L_=y_[c_].getDrawDataID(),E_=m_.getDrawDataIndex(L_);S_.addClippedDrawData(L_,E_),T_[c_].clipBufPre_clipContext=S_}},$e.prototype.getMaskRenderTexture=function(){var m_=null;return m_=this.dp_webgl.createFramebuffer(),Wt.frameBuffers[this.dp_webgl.glno]=m_,this.dp_webgl.glno},$e.prototype.setupClip=function(m_,y_){for(var P_,T_=0,c_=0;c_<this.clipContextList.length;c_++)P_=this.clipContextList[c_],this.calcClippedDrawTotalBounds(m_,P_),P_.isUsing&&T_++;if(0<T_){var S_=y_.gl.getParameter(y_.gl.FRAMEBUFFER_BINDING),L_=[,,,,];L_[0]=0,L_[1]=0,L_[2]=y_.gl.canvas.width,L_[3]=y_.gl.canvas.height,y_.gl.viewport(0,0,Wt.clippingMaskBufferSize,Wt.clippingMaskBufferSize),this.setupLayoutBounds(T_),y_.gl.bindFramebuffer(y_.gl.FRAMEBUFFER,Wt.frameBuffers[this.curFrameNo].framebuffer),y_.gl.clearColor(0,0,0,0),y_.gl.clear(y_.gl.COLOR_BUFFER_BIT);for(var c_=0;c_<this.clipContextList.length;c_++){var P_=this.clipContextList[c_],E_=P_.allClippedDrawRect,h_=(P_.layoutChannelNo,P_.layoutBounds);this.tmpBoundsOnModel._$jL(E_),this.tmpBoundsOnModel.expand(.05*E_.width,.05*E_.height);var M_=h_.width/this.tmpBoundsOnModel.width,x_=h_.height/this.tmpBoundsOnModel.height;this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(h_.x,h_.y,0),this.tmpMatrix2.scale(M_,x_,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(h_.x,h_.y,0),this.tmpMatrix2.scale(M_,x_,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for(var I_=this.tmpMatrixForMask.getArray(),O_=0;16>O_;O_++)P_.matrixForMask[O_]=I_[O_];for(var D_=this.tmpMatrixForDraw.getArray(),O_=0;16>O_;O_++)P_.matrixForDraw[O_]=D_[O_];for(var A_=P_.clippingMaskDrawIndexList.length,R_=0;R_<A_;R_++){var C_=P_.clippingMaskDrawIndexList[R_],F_=m_.getDrawData(C_),N_=m_._$C2(C_);y_.setClipBufPre_clipContextForMask(P_),F_.draw(y_,m_,N_)}}y_.gl.bindFramebuffer(y_.gl.FRAMEBUFFER,S_),y_.setClipBufPre_clipContextForMask(null),y_.gl.viewport(L_[0],L_[1],L_[2],L_[3])}},$e.prototype.getColorBuffer=function(){return this.colorBuffer},$e.prototype.findSameClip=function(m_){for(var y_=0;y_<this.clipContextList.length;y_++){var T_=this.clipContextList[y_],c_=T_.clipIDList.length;if(c_==m_.length){for(var P_=0,S_=0;S_<c_;S_++)for(var L_=T_.clipIDList[S_],E_=0;E_<c_;E_++)if(m_[E_]==L_){P_++;break}if(P_==c_)return T_}}return null},$e.prototype.calcClippedDrawTotalBounds=function(m_,y_){for(var T_=m_._$Ri.getModelImpl().getCanvasWidth(),c_=m_._$Ri.getModelImpl().getCanvasHeight(),P_=T_>c_?T_:c_,S_=P_,L_=P_,E_=0,h_=0,M_=y_.clippedDrawContextList.length,x_=0;x_<M_;x_++){var I_=y_.clippedDrawContextList[x_],O_=I_.drawDataIndex,D_=m_._$C2(O_);if(D_._$yo()){for(var A_=D_.getTransformedPoints(),R_=A_.length,C_=[],F_=[],N_=0,b_=we._$i2;b_<R_;b_+=we._$No)C_[N_]=A_[b_],F_[N_]=A_[b_+1],N_++;var B_=_Mathmin.apply(null,C_),v_=_Mathmin.apply(null,F_),G_=_Mathmax.apply(null,C_),U_=_Mathmax.apply(null,F_);B_<S_&&(S_=B_),v_<L_&&(L_=v_),G_>E_&&(E_=G_),U_>h_&&(h_=U_)}}if(S_==P_)y_.allClippedDrawRect.x=0,y_.allClippedDrawRect.y=0,y_.allClippedDrawRect.width=0,y_.allClippedDrawRect.height=0,y_.isUsing=!1;else{var Y_=E_-S_,w_=h_-L_;y_.allClippedDrawRect.x=S_,y_.allClippedDrawRect.y=L_,y_.allClippedDrawRect.width=Y_,y_.allClippedDrawRect.height=w_,y_.isUsing=!0}},$e.prototype.setupLayoutBounds=function(m_){var y_=m_/$e.CHANNEL_COUNT,T_=m_%$e.CHANNEL_COUNT;y_=~~y_,T_=~~T_;for(var S_,c_=0,P_=0;P_<$e.CHANNEL_COUNT;P_++)if(S_=y_+(P_<T_?1:0),0==S_);else if(1==S_){var L_=this.clipContextList[c_++];L_.layoutChannelNo=P_,L_.layoutBounds.x=0,L_.layoutBounds.y=0,L_.layoutBounds.width=1,L_.layoutBounds.height=1}else if(2==S_)for(var E_=0;E_<S_;E_++){var h_=E_%2,M_=0;h_=~~h_;var L_=this.clipContextList[c_++];L_.layoutChannelNo=P_,L_.layoutBounds.x=.5*h_,L_.layoutBounds.y=0,L_.layoutBounds.width=.5,L_.layoutBounds.height=1}else if(4>=S_)for(var E_=0;E_<S_;E_++){var h_=E_%2,M_=E_/2;h_=~~h_,M_=~~M_;var L_=this.clipContextList[c_++];L_.layoutChannelNo=P_,L_.layoutBounds.x=.5*h_,L_.layoutBounds.y=.5*M_,L_.layoutBounds.width=.5,L_.layoutBounds.height=.5}else if(9>=S_)for(var E_=0;E_<S_;E_++){var h_=E_%3,M_=E_/3;h_=~~h_,M_=~~M_;var L_=this.clipContextList[c_++];L_.layoutChannelNo=P_,L_.layoutBounds.x=h_/3,L_.layoutBounds.y=M_/3,L_.layoutBounds.width=1/3,L_.layoutBounds.height=1/3}else de._$li("_$6 _$0P mask count : %d",S_)},ae.prototype.addClippedDrawData=function(m_,y_){var T_=new ne(m_,y_);this.clippedDrawContextList.push(T_)},pe._$JT=function(m_,y_,T_){var c_=m_/y_,P_=T_/y_,S_=P_,L_=1-(1-P_)*(1-P_),E_=1-(1-S_)*(1-S_),h_=1/3*(1-P_)*L_+(S_*(2/3)+1/3*(1-S_))*(1-L_),M_=(S_+2/3*(1-S_))*E_+(P_*(1/3)+2/3*(1-P_))*(1-E_);if(0>=c_)return 0;if(1<=c_)return 1;var D_=c_,A_=D_*D_;return(1-3*M_+3*h_-0)*(D_*A_)+(3*M_-6*h_+0)*A_+(3*h_-0)*D_+0},pe.prototype._$a0=function(){},pe.prototype.setFadeIn=function(m_){this._$dP=m_},pe.prototype.setFadeOut=function(m_){this._$eo=m_},pe.prototype._$pT=function(m_){this._$V0=m_},pe.prototype.getFadeOut=function(){return this._$eo},pe.prototype._$4T=function(){return this._$eo},pe.prototype._$mT=function(){return this._$V0},pe.prototype.getDurationMSec=function(){return-1},pe.prototype.getLoopDurationMSec=function(){return-1},pe.prototype.updateParam=function(m_,y_){if(y_._$AT&&!y_._$9L){var T_=Re.getUserTimeMSec();if(0>y_._$z2){y_._$z2=T_,y_._$bs=T_;var c_=this.getDurationMSec();0>y_._$Do&&(y_._$Do=0>=c_?-1:y_._$z2+c_)}var P_=this._$V0;P_=P_*(0==this._$dP?1:qt._$r2((T_-y_._$bs)/this._$dP))*(0==this._$eo||0>y_._$Do?1:qt._$r2((y_._$Do-T_)/this._$eo)),0<=P_&&1>=P_||console.log("### assert!! ### "),this.updateParamExe(m_,T_,P_,y_),0<y_._$Do&&y_._$Do<T_&&(y_._$9L=!0)}},pe.prototype.updateParamExe=function(){},de._$8s=0,de._$fT={},de.start=function(m_){var y_=de._$fT[m_];null==y_&&(y_=new se,y_._$r=m_,de._$fT[m_]=y_),y_._$0S=Re.getSystemTimeMSec()},de.dump=function(m_){var y_=de._$fT[m_];if(null!=y_){var T_=Re.getSystemTimeMSec(),c_=T_-y_._$0S;return console.log(m_+" : "+c_+"ms"),c_}return-1},de.end=function(m_){var y_=de._$fT[m_];return null==y_?-1:Re.getSystemTimeMSec()-y_._$0S},de._$li=function(m_,y_){console.log("_$li : "+m_+"\n",y_)},de._$Ji=function(m_,y_){console.log(m_,y_)},de._$dL=function(m_,y_){console.log(m_,y_),console.log("\n")},de._$KL=function(m_,y_){for(var T_=0;T_<y_;T_++)0==T_%16&&0<T_?console.log("\n"):0==T_%8&&0<T_&&console.log("  "),console.log("%02X ",255&m_[T_]);console.log("\n")},de._$nr=function(m_,y_,T_){console.log("%s\n",m_);for(var c_=y_.length,P_=0;P_<c_;++P_)console.log("%5d",y_[P_]),console.log("%s\n",T_),console.log(",");console.log("\n")},de._$Rb=function(m_){console.log("dump exception : "+m_),console.log("stack :: "+m_.stack)},le.prototype._$8P=function(){return .5*(this.x+this.x+this.width)},le.prototype._$6P=function(){return .5*(this.y+this.y+this.height)},le.prototype._$EL=function(){return this.x+this.width},le.prototype._$5T=function(){return this.y+this.height},le.prototype._$jL=function(m_,y_,T_,c_){this.x=m_,this.y=y_,this.width=T_,this.height=c_},le.prototype._$jL=function(m_){this.x=m_.x,this.y=m_.y,this.width=m_.width,this.height=m_.height},ge.prototype=new Yt,ge._$tP={},ge._$27=function(){ge._$tP.clear()},ge.getID=function(m_){var y_=ge._$tP[m_];return null==y_&&(y_=new ge(m_),ge._$tP[m_]=y_),y_},ge.prototype._$3s=function(){return new ge},fe.prototype=new Yt,fe._$tP={},fe._$27=function(){fe._$tP.clear()},fe.getID=function(m_){var y_=fe._$tP[m_];return null==y_&&(y_=new fe(m_),fe._$tP[m_]=y_),y_},fe.prototype._$3s=function(){return new fe},me._$42=0,me.prototype._$zP=function(){null==this._$vo&&(this._$vo=new Xt),null==this._$F2&&(this._$F2=[])},me.prototype.getCanvasWidth=function(){return this._$ao},me.prototype.getCanvasHeight=function(){return this._$1S},me.prototype._$F0=function(m_){this._$vo=m_._$nP(),this._$F2=m_._$nP(),this._$ao=m_._$6L(),this._$1S=m_._$6L()},me.prototype._$6S=function(m_){this._$F2.push(m_)},me.prototype._$Xr=function(){return this._$F2},me.prototype._$E2=function(){return this._$vo},ye.prototype.setup=function(m_,y_,T_){this._$ks=this._$Yb(),this.p2._$xT(),3==arguments.length&&(this._$Fo=m_,this._$L2=y_,this.p1._$p=T_,this.p2._$p=T_,this.p2.y=m_,this.setup())},ye.prototype.getPhysicsPoint1=function(){return this.p1},ye.prototype.getPhysicsPoint2=function(){return this.p2},ye.prototype._$qr=function(){return this._$Db},ye.prototype._$pr=function(m_){this._$Db=m_},ye.prototype._$5r=function(){return this._$M2},ye.prototype._$Cs=function(){return this._$9b},ye.prototype._$Yb=function(){return-180*_Mathatan(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/_MathPI},ye.prototype.addSrcParam=function(m_,y_,T_,c_){var P_=new Pe(m_,y_,T_,c_);this._$lL.push(P_)},ye.prototype.addTargetParam=function(m_,y_,T_,c_){var P_=new Le(m_,y_,T_,c_);this._$qP.push(P_)},ye.prototype.update=function(m_,y_){if(0==this._$iP)return this._$iP=this._$iT=y_,void(this._$Fo=_Mathsqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)));var T_=(y_-this._$iT)/1e3;if(0!=T_){for(var c_=this._$lL.length-1;0<=c_;--c_)this._$lL[c_]._$oP(m_,this);this._$oo(m_,T_),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/T_,this._$ks=this._$M2}for(var c_=this._$qP.length-1;0<=c_;--c_)this._$qP[c_]._$YS(m_,this);this._$iT=y_},ye.prototype._$oo=function(m_,y_){.033>y_&&(y_=.033);var T_=1/y_;this.p1.vx=(this.p1.x-this.p1._$s0)*T_,this.p1.vy=(this.p1.y-this.p1._$70)*T_,this.p1.ax=(this.p1.vx-this.p1._$7L)*T_,this.p1.ay=(this.p1.vy-this.p1._$HL)*T_,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT();var c_,P_,S_=-_Mathatan(this.p1.y-this.p2.y,this.p1.x-this.p2.x),L_=_Mathcos(S_),E_=_Mathsin(S_),h_=9.8*this.p2._$p,M_=this._$Db*p_._$bS,x_=h_*_Mathcos(S_-M_);c_=x_*E_,P_=x_*L_;var I_=-this.p1.fx*E_*E_,O_=-this.p1.fy*E_*L_,D_=-this.p2.vx*this._$L2,A_=-this.p2.vy*this._$L2;this.p2.fx=c_+I_+D_,this.p2.fy=P_+O_+A_,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*y_,this.p2.vy+=this.p2.ay*y_,this.p2.x+=this.p2.vx*y_,this.p2.y+=this.p2.vy*y_;var R_=_Mathsqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/R_,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/R_,this.p2.vx=(this.p2.x-this.p2._$s0)*T_,this.p2.vy=(this.p2.y-this.p2._$70)*T_,this.p2._$xT()},Te.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy},ce.prototype._$oP=function(){},Pe.prototype=new ce,Pe.prototype._$oP=function(m_,y_){var T_=this.scale*m_.getParamFloat(this._$wL),c_=y_.getPhysicsPoint1();switch(this._$tL){default:case ye.Src.SRC_TO_X:c_.x+=(T_-c_.x)*this._$V0;break;case ye.Src.SRC_TO_Y:c_.y+=(T_-c_.y)*this._$V0;break;case ye.Src.SRC_TO_G_ANGLE:var P_=y_._$qr();P_+=(T_-P_)*this._$V0,y_._$pr(P_);}},Se.prototype._$YS=function(){},Le.prototype=new Se,Le.prototype._$YS=function(m_,y_){switch(this._$YP){default:case ye.Target.TARGET_FROM_ANGLE:m_.setParamFloat(this._$wL,this.scale*y_._$5r(),this._$V0);break;case ye.Target.TARGET_FROM_ANGLE_V:m_.setParamFloat(this._$wL,this.scale*y_._$Cs(),this._$V0);}},ye.Src=function(){},ye.Src.SRC_TO_X="SRC_TO_X",ye.Src.SRC_TO_Y="SRC_TO_Y",ye.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",ye.Target=function(){},ye.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",ye.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V",Ee.prototype.init=function(m_){this._$fL=m_._$fL,this._$gL=m_._$gL,this._$B0=m_._$B0,this._$z0=m_._$z0,this._$qT=m_._$qT,this.reflectX=m_.reflectX,this.reflectY=m_.reflectY},Ee.prototype._$F0=function(m_){this._$fL=m_._$_T(),this._$gL=m_._$_T(),this._$B0=m_._$_T(),this._$z0=m_._$_T(),this._$qT=m_._$_T(),m_.getFormatVersion()>=Ve.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=m_._$po(),this.reflectY=m_._$po())},Ee.prototype._$e=function(){};var g_=function It(){};g_._$ni=function(m_,y_,T_,c_,P_,S_,L_,E_,h_){var M_=L_*S_-E_*P_;if(0==M_)return null;var x_,I_=((m_-T_)*S_-(y_-c_)*P_)/M_;return x_=0==P_?(y_-c_-I_*E_)/S_:(m_-T_-I_*L_)/P_,isNaN(x_)&&(x_=(m_-T_-I_*L_)/P_,isNaN(x_)&&(x_=(y_-c_-I_*E_)/S_),isNaN(x_)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+P_),console.log("v1x != 0 ? "+(0!=P_)))),null==h_?[x_,I_]:(h_[0]=x_,h_[1]=I_,h_)},he.prototype._$8P=function(){return this.x+.5*this.width},he.prototype._$6P=function(){return this.y+.5*this.height},he.prototype._$EL=function(){return this.x+this.width},he.prototype._$5T=function(){return this.y+this.height},he.prototype._$jL=function(m_,y_,T_,c_){this.x=m_,this.y=y_,this.width=T_,this.height=c_},he.prototype._$jL=function(m_){this.x=m_.x,this.y=m_.y,this.width=m_.width,this.height=m_.height},he.prototype.contains=function(){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},he.prototype.expand=function(m_,y_){this.x-=m_,this.y-=y_,this.width+=2*m_,this.height+=2*y_},Me._$Z2=function(m_,y_,T_,c_){var P_=y_._$Q2(m_,T_),S_=m_._$vs(),L_=m_._$Tr();if(y_._$zr(S_,L_,P_),0>=P_)return c_[S_[0]];if(1==P_){var E_=c_[S_[0]],h_=c_[S_[1]],M_=L_[0];return 0|E_+(h_-E_)*M_}if(2==P_){var E_=c_[S_[0]],h_=c_[S_[1]],x_=c_[S_[2]],I_=c_[S_[3]],M_=L_[0],O_=L_[1],D_=0|E_+(h_-E_)*M_,A_=0|x_+(I_-x_)*M_;return 0|D_+(A_-D_)*O_}if(3==P_){var R_=c_[S_[0]],C_=c_[S_[1]],F_=c_[S_[2]],N_=c_[S_[3]],b_=c_[S_[4]],B_=c_[S_[5]],v_=c_[S_[6]],G_=c_[S_[7]],M_=L_[0],O_=L_[1],U_=L_[2],E_=0|R_+(C_-R_)*M_,h_=0|F_+(N_-F_)*M_,x_=0|b_+(B_-b_)*M_,I_=0|v_+(G_-v_)*M_,D_=0|E_+(h_-E_)*O_,A_=0|x_+(I_-x_)*O_;return 0|D_+(A_-D_)*U_}if(4==P_){var Y_=c_[S_[0]],w_=c_[S_[1]],V_=c_[S_[2]],X_=c_[S_[3]],z_=c_[S_[4]],H_=c_[S_[5]],k_=c_[S_[6]],W_=c_[S_[7]],q_=c_[S_[8]],j_=c_[S_[9]],J_=c_[S_[10]],Q_=c_[S_[11]],Z_=c_[S_[12]],K_=c_[S_[13]],eo=c_[S_[14]],to=c_[S_[15]],M_=L_[0],O_=L_[1],U_=L_[2],_o=L_[3],R_=0|Y_+(w_-Y_)*M_,C_=0|V_+(X_-V_)*M_,F_=0|z_+(H_-z_)*M_,N_=0|k_+(W_-k_)*M_,b_=0|q_+(j_-q_)*M_,B_=0|J_+(Q_-J_)*M_,v_=0|Z_+(K_-Z_)*M_,G_=0|eo+(to-eo)*M_,E_=0|R_+(C_-R_)*O_,h_=0|F_+(N_-F_)*O_,x_=0|b_+(B_-b_)*O_,I_=0|v_+(G_-v_)*O_,D_=0|E_+(h_-E_)*U_,A_=0|x_+(I_-x_)*U_;return 0|D_+(A_-D_)*_o}for(var oo=1<<P_,ro=new Float32Array(oo),$o=0;$o<oo;$o++){for(var ao=$o,no=1,io=0;io<P_;io++)no*=0==ao%2?1-L_[io]:L_[io],ao/=2;ro[$o]=no}for(var po=new Float32Array(oo),so=0;so<oo;so++)po[so]=c_[S_[so]];for(var lo=0,so=0;so<oo;so++)lo+=ro[so]*po[so];return 0|lo+.5},Me._$br=function(m_,y_,T_,c_){var P_=y_._$Q2(m_,T_),S_=m_._$vs(),L_=m_._$Tr();if(y_._$zr(S_,L_,P_),0>=P_)return c_[S_[0]];if(1==P_){var E_=c_[S_[0]],h_=c_[S_[1]],M_=L_[0];return E_+(h_-E_)*M_}if(2==P_){var E_=c_[S_[0]],h_=c_[S_[1]],x_=c_[S_[2]],I_=c_[S_[3]],M_=L_[0],O_=L_[1];return(1-O_)*(E_+(h_-E_)*M_)+O_*(x_+(I_-x_)*M_)}if(3==P_){var D_=c_[S_[0]],A_=c_[S_[1]],R_=c_[S_[2]],C_=c_[S_[3]],F_=c_[S_[4]],N_=c_[S_[5]],b_=c_[S_[6]],B_=c_[S_[7]],M_=L_[0],O_=L_[1],v_=L_[2];return(1-v_)*((1-O_)*(D_+(A_-D_)*M_)+O_*(R_+(C_-R_)*M_))+v_*((1-O_)*(F_+(N_-F_)*M_)+O_*(b_+(B_-b_)*M_))}if(4==P_){var G_=c_[S_[0]],U_=c_[S_[1]],Y_=c_[S_[2]],w_=c_[S_[3]],V_=c_[S_[4]],X_=c_[S_[5]],z_=c_[S_[6]],H_=c_[S_[7]],k_=c_[S_[8]],W_=c_[S_[9]],q_=c_[S_[10]],j_=c_[S_[11]],J_=c_[S_[12]],Q_=c_[S_[13]],Z_=c_[S_[14]],K_=c_[S_[15]],M_=L_[0],O_=L_[1],v_=L_[2],eo=L_[3];return(1-eo)*((1-v_)*((1-O_)*(G_+(U_-G_)*M_)+O_*(Y_+(w_-Y_)*M_))+v_*((1-O_)*(V_+(X_-V_)*M_)+O_*(z_+(H_-z_)*M_)))+eo*((1-v_)*((1-O_)*(k_+(W_-k_)*M_)+O_*(q_+(j_-q_)*M_))+v_*((1-O_)*(J_+(Q_-J_)*M_)+O_*(Z_+(K_-Z_)*M_)))}for(var to=1<<P_,_o=new Float32Array(to),oo=0;oo<to;oo++){for(var ro=oo,$o=1,ao=0;ao<P_;ao++)$o*=0==ro%2?1-L_[ao]:L_[ao],ro/=2;_o[oo]=$o}for(var no=new Float32Array(to),io=0;io<to;io++)no[io]=c_[S_[io]];for(var po=0,io=0;io<to;io++)po+=_o[io]*no[io];return po},Me._$Vr=function(m_,y_,T_,c_,P_,S_,L_,E_){var h_=y_._$Q2(m_,T_),M_=m_._$vs(),x_=m_._$Tr();y_._$zr(M_,x_,h_);var I_=2*c_,O_=L_;if(0>=h_){var D_=M_[0],A_=P_[D_];if(2==E_&&0==L_)Re._$jT(A_,0,S_,0,I_);else for(var R_=0;R_<I_;)S_[O_]=A_[R_++],S_[O_+1]=A_[R_++],O_+=E_}else if(1==h_)for(var A_=P_[M_[0]],C_=P_[M_[1]],F_=x_[0],N_=1-F_,R_=0;R_<I_;)S_[O_]=A_[R_]*N_+C_[R_]*F_,++R_,S_[O_+1]=A_[R_]*N_+C_[R_]*F_,++R_,O_+=E_;else if(2==h_)for(var A_=P_[M_[0]],C_=P_[M_[1]],b_=P_[M_[2]],B_=P_[M_[3]],F_=x_[0],v_=x_[1],N_=1-F_,G_=1-v_,U_=G_*N_,Y_=G_*F_,w_=v_*N_,V_=v_*F_,R_=0;R_<I_;)S_[O_]=U_*A_[R_]+Y_*C_[R_]+w_*b_[R_]+V_*B_[R_],++R_,S_[O_+1]=U_*A_[R_]+Y_*C_[R_]+w_*b_[R_]+V_*B_[R_],++R_,O_+=E_;else if(3==h_)for(var X_=P_[M_[0]],z_=P_[M_[1]],H_=P_[M_[2]],k_=P_[M_[3]],W_=P_[M_[4]],q_=P_[M_[5]],j_=P_[M_[6]],J_=P_[M_[7]],F_=x_[0],v_=x_[1],Q_=x_[2],N_=1-F_,G_=1-v_,Z_=1-Q_,K_=Z_*G_*N_,eo=Z_*G_*F_,to=Z_*v_*N_,_o=Z_*v_*F_,oo=Q_*G_*N_,ro=Q_*G_*F_,$o=Q_*v_*N_,ao=Q_*v_*F_,R_=0;R_<I_;)S_[O_]=K_*X_[R_]+eo*z_[R_]+to*H_[R_]+_o*k_[R_]+oo*W_[R_]+ro*q_[R_]+$o*j_[R_]+ao*J_[R_],++R_,S_[O_+1]=K_*X_[R_]+eo*z_[R_]+to*H_[R_]+_o*k_[R_]+oo*W_[R_]+ro*q_[R_]+$o*j_[R_]+ao*J_[R_],++R_,O_+=E_;else if(4==h_)for(var no=P_[M_[0]],io=P_[M_[1]],po=P_[M_[2]],so=P_[M_[3]],lo=P_[M_[4]],go=P_[M_[5]],uo=P_[M_[6]],fo=P_[M_[7]],mo=P_[M_[8]],yo=P_[M_[9]],To=P_[M_[10]],co=P_[M_[11]],Po=P_[M_[12]],So=P_[M_[13]],Lo=P_[M_[14]],Eo=P_[M_[15]],F_=x_[0],v_=x_[1],Q_=x_[2],ho=x_[3],N_=1-F_,G_=1-v_,Z_=1-Q_,Mo=1-ho,xo=Mo*Z_*G_*N_,Io=Mo*Z_*G_*F_,Oo=Mo*Z_*v_*N_,Do=Mo*Z_*v_*F_,Ao=Mo*Q_*G_*N_,Ro=Mo*Q_*G_*F_,Co=Mo*Q_*v_*N_,Fo=Mo*Q_*v_*F_,No=ho*Z_*G_*N_,bo=ho*Z_*G_*F_,Bo=ho*Z_*v_*N_,vo=ho*Z_*v_*F_,Go=ho*Q_*G_*N_,Uo=ho*Q_*G_*F_,Yo=ho*Q_*v_*N_,wo=ho*Q_*v_*F_,R_=0;R_<I_;)S_[O_]=xo*no[R_]+Io*io[R_]+Oo*po[R_]+Do*so[R_]+Ao*lo[R_]+Ro*go[R_]+Co*uo[R_]+Fo*fo[R_]+No*mo[R_]+bo*yo[R_]+Bo*To[R_]+vo*co[R_]+Go*Po[R_]+Uo*So[R_]+Yo*Lo[R_]+wo*Eo[R_],++R_,S_[O_+1]=xo*no[R_]+Io*io[R_]+Oo*po[R_]+Do*so[R_]+Ao*lo[R_]+Ro*go[R_]+Co*uo[R_]+Fo*fo[R_]+No*mo[R_]+bo*yo[R_]+Bo*To[R_]+vo*co[R_]+Go*Po[R_]+Uo*So[R_]+Yo*Lo[R_]+wo*Eo[R_],++R_,O_+=E_;else{for(var Vo=1<<h_,Xo=new Float32Array(Vo),zo=0;zo<Vo;zo++){for(var Ho=zo,ko=1,Wo=0;Wo<h_;Wo++)ko*=0==Ho%2?1-x_[Wo]:x_[Wo],Ho/=2;Xo[zo]=ko}for(var qo=new Float32Array(Vo),jo=0;jo<Vo;jo++)qo[jo]=P_[M_[jo]];for(var R_=0;R_<I_;){for(var Jo=0,Qo=0,Zo=R_+1,jo=0;jo<Vo;jo++)Jo+=Xo[jo]*qo[jo][R_],Qo+=Xo[jo]*qo[jo][Zo];R_+=2,S_[O_]=Jo,S_[O_+1]=Qo,O_+=E_}}},xe.prototype._$HT=function(m_,y_){this.x=m_,this.y=y_},xe.prototype._$HT=function(m_){this.x=m_.x,this.y=m_.y},Ie._$ur=-2,Ie._$ES=500,Ie._$wb=2,Ie._$8S=3,Ie._$52=Ie._$ES,Ie._$R2=Ie._$ES,Ie._$or=function(){return Ie._$52},Ie._$Pr=function(){return Ie._$R2},Ie.prototype.convertClipIDForV2_11=function(m_){var y_=[];return null==m_?null:0==m_.length?null:/,/.test(m_)?y_=m_.id.split(","):(y_.push(m_.id),y_)},Ie.prototype._$F0=function(m_){this._$gP=m_._$nP(),this._$dr=m_._$nP(),this._$GS=m_._$nP(),this._$qb=m_._$6L(),this._$Lb=m_._$cS(),this._$mS=m_._$Tb(),m_.getFormatVersion()>=Ve._$T7?(this.clipID=m_._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},Ie.prototype.getClipIDList=function(){return this.clipIDList},Ie.prototype.init=function(){},Ie.prototype._$Nr=function(m_,y_){if(y_._$IS[0]=!1,y_._$Us=Me._$Z2(m_,this._$GS,y_._$IS,this._$Lb),Wt._$Zs);else if(y_._$IS[0])return;y_._$7s=Me._$br(m_,this._$GS,y_._$IS,this._$mS)},Ie.prototype._$2b=function(){},Ie.prototype.getDrawDataID=function(){return this._$gP},Ie.prototype._$j2=function(m_){this._$gP=m_},Ie.prototype.getOpacity=function(m_,y_){return y_._$7s},Ie.prototype._$zS=function(m_,y_){return y_._$Us},Ie.prototype._$MS=function(m_){for(var T_,y_=m_.length-1;0<=y_;--y_)T_=m_[y_],T_<Ie._$52?Ie._$52=T_:T_>Ie._$R2&&(Ie._$R2=T_)},Ie.prototype.getTargetBaseDataID=function(){return this._$dr},Ie.prototype._$gs=function(m_){this._$dr=m_},Ie.prototype._$32=function(){return null!=this._$dr&&this._$dr!=o_._$2o()},Ie.prototype.preDraw=function(){},Ie.prototype.draw=function(){},Ie.prototype.getType=function(){},Ie.prototype._$B2=function(){},Oe._$ps=32,Oe.CLIPPING_PROCESS_NONE=0,Oe.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,Oe.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,Oe.CLIPPING_PROCESS_DRAW=3,Oe.CLIPPING_PROCESS_CLEAR_ALPHA=4,Oe.prototype.setChannelFlagAsColor=function(m_,y_){this.CHANNEL_COLORS[m_]=y_},Oe.prototype.getChannelFlagAsColor=function(m_){return this.CHANNEL_COLORS[m_]},Oe.prototype._$ZT=function(){},Oe.prototype._$Uo=function(){},Oe.prototype._$Rs=function(){return-1},Oe.prototype._$Ds=function(){},Oe.prototype.setBaseColor=function(m_,y_,T_,c_){0>m_?m_=0:1<m_&&(m_=1),0>y_?y_=0:1<y_&&(y_=1),0>T_?T_=0:1<T_&&(T_=1),0>c_?c_=0:1<c_&&(c_=1),this._$lT=m_,this._$C0=y_,this._$tT=T_,this._$WL=c_},Oe.prototype._$WP=function(m_){this.culling=m_},Oe.prototype.setMatrix=function(m_){for(var y_=0;16>y_;y_++)this.matrix4x4[y_]=m_[y_]},Oe.prototype._$IT=function(){return this.matrix4x4},Oe.prototype.setPremultipliedAlpha=function(m_){this.premultipliedAlpha=m_},Oe.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},Oe.prototype.setAnisotropy=function(m_){this.anisotropy=m_},Oe.prototype.getAnisotropy=function(){return this.anisotropy},Oe.prototype.getClippingProcess=function(){return this.clippingProcess},Oe.prototype.setClippingProcess=function(m_){this.clippingProcess=m_},Oe.prototype.setClipBufPre_clipContextForMask=function(m_){this.clipBufPre_clipContextMask=m_},Oe.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},Oe.prototype.setClipBufPre_clipContextForDraw=function(m_){this.clipBufPre_clipContextDraw=m_},Oe.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw},Ae._$ur=-2,Ae._$c2=1,Ae._$_b=2,Ae.prototype._$F0=function(m_){this._$kP=m_._$nP(),this._$dr=m_._$nP()},Ae.prototype.readV2_opacity=function(m_){m_.getFormatVersion()>=Ve.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=m_._$Tb())},Ae.prototype.init=function(){},Ae.prototype._$Nr=function(){},Ae.prototype.interpolateOpacity=function(m_,y_,T_,c_){null==this._$mS?T_.setInterpolatedOpacity(1):T_.setInterpolatedOpacity(Me._$br(m_,y_,c_,this._$mS))},Ae.prototype._$2b=function(){},Ae.prototype._$nb=function(){},Ae.prototype.getType=function(){},Ae.prototype._$gs=function(m_){this._$dr=m_},Ae.prototype._$a2=function(m_){this._$kP=m_},Ae.prototype.getTargetBaseDataID=function(){return this._$dr},Ae.prototype.getBaseDataID=function(){return this._$kP},Ae.prototype._$32=function(){return null!=this._$dr&&this._$dr!=o_._$2o()},Re._$W2=0,Re._$CS=Re._$W2,Re._$Mo=function(){return!0},Re._$XP=function(m_){try{for(var y_=getTimeMSec();getTimeMSec()-y_<m_;);}catch(T_){T_._$Rb()}},Re.getUserTimeMSec=function(){return Re._$CS==Re._$W2?Re.getSystemTimeMSec():Re._$CS},Re.setUserTimeMSec=function(m_){Re._$CS=m_},Re.updateUserTimeMSec=function(){return Re._$CS=Re.getSystemTimeMSec()},Re.getTimeMSec=function(){return new Date().getTime()},Re.getSystemTimeMSec=function(){return new Date().getTime()},Re._$Q=function(){},Re._$jT=function(m_,y_,T_,c_,P_){for(var S_=0;S_<P_;S_++)T_[c_+S_]=m_[y_+S_]},Ce._$ds=-2,Ce.prototype._$F0=function(m_){this._$wL=m_._$nP(),this._$VP=m_._$6L(),this._$GP=m_._$nP()},Ce.prototype.getParamIndex=function(m_){return this._$2r!=m_&&(this._$8o=Ce._$ds),this._$8o},Ce.prototype._$Pb=function(m_,y_){this._$8o=m_,this._$2r=y_},Ce.prototype.getParamID=function(){return this._$wL},Ce.prototype._$yP=function(m_){this._$wL=m_},Ce.prototype._$N2=function(){return this._$VP},Ce.prototype._$d2=function(){return this._$GP},Ce.prototype._$t2=function(m_,y_){this._$VP=m_,this._$GP=y_},Ce.prototype._$Lr=function(){return this._$O2},Ce.prototype._$wr=function(m_){this._$O2=m_},Ce.prototype._$SL=function(){return this._$ri},Ce.prototype._$AL=function(m_){this._$ri=m_},Fe.startsWith=function(m_,y_,T_){var c_=y_+T_.length;if(c_>=m_.length)return!1;for(var P_=y_;P_<c_;P_++)if(Fe.getChar(m_,P_)!=T_.charAt(P_-y_))return!1;return!0},Fe.getChar=function(m_,y_){return _StringfromCharCode(m_.getUint8(y_))},Fe.createString=function(m_,y_,T_){for(var c_=new ArrayBuffer(2*T_),P_=new Uint16Array(c_),S_=0;S_<T_;S_++)P_[S_]=m_.getUint8(y_+S_);return _StringfromCharCode.apply(null,P_)},Fe._$LS=function(m_,y_,T_,c_){m_ instanceof ArrayBuffer&&(m_=new DataView(m_));var P_=T_,S_=!1,L_=!1,E_=0,h_=Fe.getChar(m_,P_);"-"==h_&&(S_=!0,P_++);for(var M_=!1;P_<y_;P_++){switch(h_=Fe.getChar(m_,P_)){case"0":E_*=10;break;case"1":E_=10*E_+1;break;case"2":E_=10*E_+2;break;case"3":E_=10*E_+3;break;case"4":E_=10*E_+4;break;case"5":E_=10*E_+5;break;case"6":E_=10*E_+6;break;case"7":E_=10*E_+7;break;case"8":E_=10*E_+8;break;case"9":E_=10*E_+9;break;case".":L_=!0,P_++,M_=!0;break;default:M_=!0;}if(M_)break}if(L_)for(var x_=.1,I_=!1;P_<y_;P_++){switch(h_=Fe.getChar(m_,P_)){case"0":break;case"1":E_+=1*x_;break;case"2":E_+=2*x_;break;case"3":E_+=3*x_;break;case"4":E_+=4*x_;break;case"5":E_+=5*x_;break;case"6":E_+=6*x_;break;case"7":E_+=7*x_;break;case"8":E_+=8*x_;break;case"9":E_+=9*x_;break;default:I_=!0;}if(x_*=.1,I_)break}return S_&&(E_=-E_),c_[0]=P_,E_},Ne.prototype._$zP=function(){this._$Ob=[]},Ne.prototype._$F0=function(m_){this._$Ob=m_._$nP()},Ne.prototype._$Ur=function(m_){if(m_._$WS())return!0;for(var c_,y_=m_._$v2(),T_=this._$Ob.length-1;0<=T_;--T_)if(c_=this._$Ob[T_].getParamIndex(y_),c_==Ce._$ds&&(c_=m_.getParamIndex(this._$Ob[T_].getParamID())),m_._$Xb(c_))return!0;return!1},Ne.prototype._$Q2=function(m_,y_){for(var T_,c_,h_,P_=this._$Ob.length,S_=m_._$v2(),L_=0,E_=0;E_<P_;E_++){if(h_=this._$Ob[E_],T_=h_.getParamIndex(S_),T_==Ce._$ds&&(T_=m_.getParamIndex(h_.getParamID()),h_._$Pb(T_,S_)),0>T_)throw new Exception("err 23242 : "+h_.getParamID());var M_=0>T_?0:m_.getParamFloat(T_);c_=h_._$N2();var x_,I_,O_=h_._$d2(),D_=-1,A_=0;if(1>c_);else if(1==c_)x_=O_[0],x_-we._$J<M_&&M_<x_+we._$J?(D_=0,A_=0):(D_=0,y_[0]=!0);else if(x_=O_[0],M_<x_-we._$J)D_=0,y_[0]=!0;else if(M_<x_+we._$J)D_=0;else{for(var R_=!1,C_=1;C_<c_;++C_){if(I_=O_[C_],M_<I_+we._$J){I_-we._$J<M_?D_=C_:(D_=C_-1,A_=(M_-x_)/(I_-x_),L_++),R_=!0;break}x_=I_}R_||(D_=c_-1,A_=0,y_[0]=!0)}h_._$wr(D_),h_._$AL(A_)}return L_},Ne.prototype._$zr=function(m_,y_,T_){var c_=1<<T_;c_+1>we._$Qb&&console.log("err 23245\n");for(var P_=this._$Ob.length,S_=1,L_=1,E_=0,h_=0;h_<c_;++h_)m_[h_]=0;for(var x_,M_=0;M_<P_;++M_){if(x_=this._$Ob[M_],0==x_._$SL()){var I_=x_._$Lr()*S_;if(0>I_&&Wt._$3T)throw new Exception("err 23246");for(var h_=0;h_<c_;++h_)m_[h_]+=I_}else{for(var I_=S_*x_._$Lr(),O_=S_*(x_._$Lr()+1),h_=0;h_<c_;++h_)m_[h_]+=0==(0|h_/L_)%2?I_:O_;y_[E_++]=x_._$SL(),L_*=2}S_*=x_._$N2()}m_[c_]=65535,y_[E_]=-1},Ne.prototype._$h2=function(m_,y_,T_){for(var c_=new Float32Array(y_),P_=0;P_<y_;++P_)c_[P_]=T_[P_];var S_=new Ce;S_._$yP(m_),S_._$t2(y_,c_),this._$Ob.push(S_)},Ne.prototype._$J2=function(m_){for(var y_=m_,T_=this._$Ob.length,c_=0;c_<T_;++c_){var P_=this._$Ob[c_],S_=P_._$N2(),L_=y_%P_._$N2(),E_=P_._$d2()[L_];console.log("%s[%d]=%7.2f / ",P_.getParamID(),L_,E_),y_/=S_}console.log("\n")},Ne.prototype.getParamCount=function(){return this._$Ob.length},Ne.prototype._$zs=function(){return this._$Ob},be.prototype.identity=function(){for(var m_=0;16>m_;m_++)this.m[m_]=0==m_%5?1:0},be.prototype.getArray=function(){return this.m},be.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},be.prototype.setMatrix=function(m_){if(null!=m_&&16==m_.length)for(var y_=0;16>y_;y_++)this.m[y_]=m_[y_]},be.prototype.mult=function(m_,y_,T_){return null==y_?null:(this==y_?this.mult_safe(this.m,m_.m,y_.m,T_):this.mult_fast(this.m,m_.m,y_.m,T_),y_)},be.prototype.mult_safe=function(m_,y_,T_,c_){if(m_==T_){var P_=Array(16);this.mult_fast(m_,y_,P_,c_);for(var S_=15;0<=S_;--S_)T_[S_]=P_[S_]}else this.mult_fast(m_,y_,T_,c_)},be.prototype.mult_fast=function(m_,y_,T_,c_){c_?(T_[0]=m_[0]*y_[0]+m_[4]*y_[1]+m_[8]*y_[2],T_[4]=m_[0]*y_[4]+m_[4]*y_[5]+m_[8]*y_[6],T_[8]=m_[0]*y_[8]+m_[4]*y_[9]+m_[8]*y_[10],T_[12]=m_[0]*y_[12]+m_[4]*y_[13]+m_[8]*y_[14]+m_[12],T_[1]=m_[1]*y_[0]+m_[5]*y_[1]+m_[9]*y_[2],T_[5]=m_[1]*y_[4]+m_[5]*y_[5]+m_[9]*y_[6],T_[9]=m_[1]*y_[8]+m_[5]*y_[9]+m_[9]*y_[10],T_[13]=m_[1]*y_[12]+m_[5]*y_[13]+m_[9]*y_[14]+m_[13],T_[2]=m_[2]*y_[0]+m_[6]*y_[1]+m_[10]*y_[2],T_[6]=m_[2]*y_[4]+m_[6]*y_[5]+m_[10]*y_[6],T_[10]=m_[2]*y_[8]+m_[6]*y_[9]+m_[10]*y_[10],T_[14]=m_[2]*y_[12]+m_[6]*y_[13]+m_[10]*y_[14]+m_[14],T_[3]=T_[7]=T_[11]=0,T_[15]=1):(T_[0]=m_[0]*y_[0]+m_[4]*y_[1]+m_[8]*y_[2]+m_[12]*y_[3],T_[4]=m_[0]*y_[4]+m_[4]*y_[5]+m_[8]*y_[6]+m_[12]*y_[7],T_[8]=m_[0]*y_[8]+m_[4]*y_[9]+m_[8]*y_[10]+m_[12]*y_[11],T_[12]=m_[0]*y_[12]+m_[4]*y_[13]+m_[8]*y_[14]+m_[12]*y_[15],T_[1]=m_[1]*y_[0]+m_[5]*y_[1]+m_[9]*y_[2]+m_[13]*y_[3],T_[5]=m_[1]*y_[4]+m_[5]*y_[5]+m_[9]*y_[6]+m_[13]*y_[7],T_[9]=m_[1]*y_[8]+m_[5]*y_[9]+m_[9]*y_[10]+m_[13]*y_[11],T_[13]=m_[1]*y_[12]+m_[5]*y_[13]+m_[9]*y_[14]+m_[13]*y_[15],T_[2]=m_[2]*y_[0]+m_[6]*y_[1]+m_[10]*y_[2]+m_[14]*y_[3],T_[6]=m_[2]*y_[4]+m_[6]*y_[5]+m_[10]*y_[6]+m_[14]*y_[7],T_[10]=m_[2]*y_[8]+m_[6]*y_[9]+m_[10]*y_[10]+m_[14]*y_[11],T_[14]=m_[2]*y_[12]+m_[6]*y_[13]+m_[10]*y_[14]+m_[14]*y_[15],T_[3]=m_[3]*y_[0]+m_[7]*y_[1]+m_[11]*y_[2]+m_[15]*y_[3],T_[7]=m_[3]*y_[4]+m_[7]*y_[5]+m_[11]*y_[6]+m_[15]*y_[7],T_[11]=m_[3]*y_[8]+m_[7]*y_[9]+m_[11]*y_[10]+m_[15]*y_[11],T_[15]=m_[3]*y_[12]+m_[7]*y_[13]+m_[11]*y_[14]+m_[15]*y_[15])},be.prototype.translate=function(m_,y_,T_){this.m[12]=this.m[0]*m_+this.m[4]*y_+this.m[8]*T_+this.m[12],this.m[13]=this.m[1]*m_+this.m[5]*y_+this.m[9]*T_+this.m[13],this.m[14]=this.m[2]*m_+this.m[6]*y_+this.m[10]*T_+this.m[14],this.m[15]=this.m[3]*m_+this.m[7]*y_+this.m[11]*T_+this.m[15]},be.prototype.scale=function(m_,y_,T_){this.m[0]*=m_,this.m[4]*=y_,this.m[8]*=T_,this.m[1]*=m_,this.m[5]*=y_,this.m[9]*=T_,this.m[2]*=m_,this.m[6]*=y_,this.m[10]*=T_,this.m[3]*=m_,this.m[7]*=y_,this.m[11]*=T_},be.prototype.rotateX=function(m_){var y_=p_.fcos(m_),T_=p_._$9(m_),c_=this.m[4];this.m[4]=c_*y_+this.m[8]*T_,this.m[8]=c_*-T_+this.m[8]*y_,c_=this.m[5],this.m[5]=c_*y_+this.m[9]*T_,this.m[9]=c_*-T_+this.m[9]*y_,c_=this.m[6],this.m[6]=c_*y_+this.m[10]*T_,this.m[10]=c_*-T_+this.m[10]*y_,c_=this.m[7],this.m[7]=c_*y_+this.m[11]*T_,this.m[11]=c_*-T_+this.m[11]*y_},be.prototype.rotateY=function(m_){var y_=p_.fcos(m_),T_=p_._$9(m_),c_=this.m[0];this.m[0]=c_*y_+this.m[8]*-T_,this.m[8]=c_*T_+this.m[8]*y_,c_=this.m[1],this.m[1]=c_*y_+this.m[9]*-T_,this.m[9]=c_*T_+this.m[9]*y_,c_=m[2],this.m[2]=c_*y_+this.m[10]*-T_,this.m[10]=c_*T_+this.m[10]*y_,c_=m[3],this.m[3]=c_*y_+this.m[11]*-T_,this.m[11]=c_*T_+this.m[11]*y_},be.prototype.rotateZ=function(m_){var y_=p_.fcos(m_),T_=p_._$9(m_),c_=this.m[0];this.m[0]=c_*y_+this.m[4]*T_,this.m[4]=c_*-T_+this.m[4]*y_,c_=this.m[1],this.m[1]=c_*y_+this.m[5]*T_,this.m[5]=c_*-T_+this.m[5]*y_,c_=this.m[2],this.m[2]=c_*y_+this.m[6]*T_,this.m[6]=c_*-T_+this.m[6]*y_,c_=this.m[3],this.m[3]=c_*y_+this.m[7]*T_,this.m[7]=c_*-T_+this.m[7]*y_},Be.prototype=new Yt,Be._$tP={},Be._$27=function(){Be._$tP.clear()},Be.getID=function(m_){var y_=Be._$tP[m_];return null==y_&&(y_=new Be(m_),Be._$tP[m_]=y_),y_},Be.prototype._$3s=function(){return new Be},ve._$kS=-1,ve._$pS=0,ve._$hb=1,ve.STATE_IDENTITY=0,ve._$gb=1,ve._$fo=2,ve._$go=4,ve.prototype.transform=function(m_,y_,T_){var c_,P_,S_,L_,E_,h_,M_=0,x_=0;switch(this._$hi){default:return;case ve._$go|ve._$fo|ve._$gb:for(c_=this._$7,P_=this._$H,S_=this._$k,L_=this._$f,E_=this._$g,h_=this._$w;0<=--T_;){var I_=m_[M_++],O_=m_[M_++];y_[x_++]=c_*I_+P_*O_+S_,y_[x_++]=L_*I_+E_*O_+h_}return;case ve._$go|ve._$fo:for(c_=this._$7,P_=this._$H,L_=this._$f,E_=this._$g;0<=--T_;){var I_=m_[M_++],O_=m_[M_++];y_[x_++]=c_*I_+P_*O_,y_[x_++]=L_*I_+E_*O_}return;case ve._$go|ve._$gb:for(P_=this._$H,S_=this._$k,L_=this._$f,h_=this._$w;0<=--T_;){var I_=m_[M_++];y_[x_++]=P_*m_[M_++]+S_,y_[x_++]=L_*I_+h_}return;case ve._$go:for(P_=this._$H,L_=this._$f;0<=--T_;){var I_=m_[M_++];y_[x_++]=P_*m_[M_++],y_[x_++]=L_*I_}return;case ve._$fo|ve._$gb:for(c_=this._$7,S_=this._$k,E_=this._$g,h_=this._$w;0<=--T_;)y_[x_++]=c_*m_[M_++]+S_,y_[x_++]=E_*m_[M_++]+h_;return;case ve._$fo:for(c_=this._$7,E_=this._$g;0<=--T_;)y_[x_++]=c_*m_[M_++],y_[x_++]=E_*m_[M_++];return;case ve._$gb:for(S_=this._$k,h_=this._$w;0<=--T_;)y_[x_++]=m_[M_++]+S_,y_[x_++]=m_[M_++]+h_;return;case ve.STATE_IDENTITY:return void(m_==y_&&M_==x_||Re._$jT(m_,M_,y_,x_,2*T_));}},ve.prototype.update=function(){0==this._$H&&0==this._$f?1==this._$7&&1==this._$g?0==this._$k&&0==this._$w?(this._$hi=ve.STATE_IDENTITY,this._$Z=ve._$pS):(this._$hi=ve._$gb,this._$Z=ve._$hb):0==this._$k&&0==this._$w?(this._$hi=ve._$fo,this._$Z=ve._$kS):(this._$hi=ve._$fo|ve._$gb,this._$Z=ve._$kS):0==this._$7&&0==this._$g?0==this._$k&&0==this._$w?(this._$hi=ve._$go,this._$Z=ve._$kS):(this._$hi=ve._$go|ve._$gb,this._$Z=ve._$kS):0==this._$k&&0==this._$w?(this._$hi=ve._$go|ve._$fo,this._$Z=ve._$kS):(this._$hi=ve._$go|ve._$fo|ve._$gb,this._$Z=ve._$kS)},ve.prototype._$RT=function(m_){this._$IT(m_);var y_=m_[0],T_=m_[2],c_=m_[1],P_=m_[3],S_=_Mathsqrt(y_*y_+c_*c_),L_=y_*P_-T_*c_;0==S_?Wt._$so&&console.log("affine._$RT() / rt==0"):(m_[0]=S_,m_[1]=L_/S_,m_[2]=(c_*P_+y_*T_)/L_,m_[3]=_Mathatan(c_,y_))},ve.prototype._$ho=function(m_,y_,T_,c_){var P_=new Float32Array(6),S_=new Float32Array(6);m_._$RT(P_),y_._$RT(S_);var L_=new Float32Array(6);L_[0]=P_[0]+(S_[0]-P_[0])*T_,L_[1]=P_[1]+(S_[1]-P_[1])*T_,L_[2]=P_[2]+(S_[2]-P_[2])*T_,L_[3]=P_[3]+(S_[3]-P_[3])*T_,L_[4]=P_[4]+(S_[4]-P_[4])*T_,L_[5]=P_[5]+(S_[5]-P_[5])*T_,c_._$CT(L_)},ve.prototype._$CT=function(m_){var y_=_Mathcos(m_[3]),T_=_Mathsin(m_[3]);this._$7=m_[0]*y_,this._$f=m_[0]*T_,this._$H=m_[1]*(m_[2]*y_-T_),this._$g=m_[1]*(m_[2]*T_+y_),this._$k=m_[4],this._$w=m_[5],this.update()},ve.prototype._$IT=function(m_){m_[0]=this._$7,m_[1]=this._$f,m_[2]=this._$H,m_[3]=this._$g,m_[4]=this._$k,m_[5]=this._$w},Ge.prototype=new pe,Ge._$cs="VISIBLE:",Ge._$ar="LAYOUT:",Ge._$Co=0,Ge._$D2=[],Ge._$1T=1,Ge.loadMotion=function(m_){var y_=new Ge,T_=[0],c_=m_.length;y_._$yT=0;for(var S_,P_=0;P_<c_;++P_)if(S_=255&m_[P_],"\n"!=S_&&"\r"!=S_)if("#"==S_)for(;P_<c_&&"\n"!=m_[P_]&&"\r"!=m_[P_];++P_);else if("$"==S_){for(var L_=P_,E_=-1;P_<c_&&"\r"!=(S_=255&m_[P_])&&"\n"!=S_;++P_)if("="==S_){E_=P_;break}var O_=!1;if(0<=E_)for(E_==L_+4&&"f"==m_[L_+1]&&"p"==m_[L_+2]&&"s"==m_[L_+3]&&(O_=!0),P_=E_+1;P_<c_&&"\r"!=(S_=255&m_[P_])&&"\n"!=S_;++P_)if(","!=S_&&" "!=S_&&"\t"!=S_){var x_=Fe._$LS(m_,c_,P_,T_);0<T_[0]&&O_&&5<x_&&121>x_&&(y_._$D0=x_),P_=T_[0]}for(;P_<c_&&"\n"!=m_[P_]&&"\r"!=m_[P_];++P_);}else if("a"<=S_&&"z">=S_||"A"<=S_&&"Z">=S_||"_"==S_){for(var L_=P_,E_=-1;P_<c_&&"\r"!=(S_=255&m_[P_])&&"\n"!=S_;++P_)if("="==S_){E_=P_;break}if(0<=E_){var h_=new Ye;Fe.startsWith(m_,L_,Ge._$cs)?(h_._$RP=Ye._$hs,h_._$4P=new String(m_,L_,E_-L_)):Fe.startsWith(m_,L_,Ge._$ar)?(h_._$4P=new String(m_,L_+7,E_-L_-7),Fe.startsWith(m_,L_+7,"ANCHOR_X")?h_._$RP=Ye._$xs:Fe.startsWith(m_,L_+7,"ANCHOR_Y")?h_._$RP=Ye._$us:Fe.startsWith(m_,L_+7,"SCALE_X")?h_._$RP=Ye._$qs:Fe.startsWith(m_,L_+7,"SCALE_Y")?h_._$RP=Ye._$Ys:Fe.startsWith(m_,L_+7,"X")?h_._$RP=Ye._$ws:Fe.startsWith(m_,L_+7,"Y")&&(h_._$RP=Ye._$Ns)):(h_._$RP=Ye._$Fr,h_._$4P=new String(m_,L_,E_-L_)),y_.motions.push(h_);var M_=0;for(Ge._$D2.clear(),P_=E_+1;P_<c_&&"\r"!=(S_=255&m_[P_])&&"\n"!=S_;++P_)if(","!=S_&&" "!=S_&&"\t"!=S_){var x_=Fe._$LS(m_,c_,P_,T_);if(0<T_[0]){Ge._$D2.push(x_),M_++;var I_=T_[0];if(I_<P_){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}P_=I_}}h_._$I0=Ge._$D2._$BL(),M_>y_._$yT&&(y_._$yT=M_)}}return y_._$AS=0|1e3*y_._$yT/y_._$D0,y_},Ge.prototype.getDurationMSec=function(){return this._$AS},Ge.prototype.dump=function(){for(var y_,m_=0;m_<this.motions.length;m_++){y_=this.motions[m_],console.log("_$wL[%s] [%d]. ",y_._$4P,y_._$I0.length);for(var T_=0;T_<y_._$I0.length&&10>T_;T_++)console.log("%5.2f ,",y_._$I0[T_]);console.log("\n")}},Ge.prototype.updateParamExe=function(m_,y_,T_,c_){for(var P_=y_-c_._$z2,S_=P_*this._$D0/1e3,L_=0|S_,h_=0;h_<this.motions.length;h_++){var M_=this.motions[h_],x_=M_._$I0.length,I_=M_._$4P;if(M_._$RP==Ye._$hs){var O_=M_._$I0[L_>=x_?x_-1:L_];m_.setParamFloat(I_,O_)}else if(Ye._$ws<=M_._$RP&&M_._$RP<=Ye._$Ys);else{var D_=m_.getParamFloat(I_),A_=M_._$I0[L_>=x_?x_-1:L_],R_=M_._$I0[L_+1>=x_?x_-1:L_+1];m_.setParamFloat(I_,D_+(A_+(R_-A_)*(S_-L_)-D_)*T_)}}L_>=this._$yT&&(this._$E?(c_._$z2=y_,this.loopFadeIn&&(c_._$bs=y_)):c_._$9L=!0)},Ge.prototype._$r0=function(){return this._$E},Ge.prototype._$aL=function(m_){this._$E=m_},Ge.prototype.isLoopFadeIn=function(){return this.loopFadeIn},Ge.prototype.setLoopFadeIn=function(m_){this.loopFadeIn=m_},Ue.prototype.clear=function(){this.size=0},Ue.prototype.add=function(m_){if(this._$P.length<=this.size){var y_=new Float32Array(2*this.size);Re._$jT(this._$P,0,y_,0,this.size),this._$P=y_}this._$P[this.size++]=m_},Ue.prototype._$BL=function(){var m_=new Float32Array(this.size);return Re._$jT(this._$P,0,m_,0,this.size),m_},Ye._$Fr=0,Ye._$hs=1,Ye._$ws=100,Ye._$Ns=101,Ye._$xs=102,Ye._$us=103,Ye._$qs=104,Ye._$Ys=105,we._$Ms=1,we._$Qs=2,we._$i2=0,we._$No=2,we._$do=we._$Ms,we._$Ls=!0,we._$1r=5,we._$Qb=65,we._$J=1e-4,we._$FT=.001,we._$Ss=3,Ve._$o7=6,Ve._$S7=7,Ve._$s7=8,Ve._$77=9,Ve.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,Ve.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,Ve._$T7=Ve.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1,Ve._$Is=-2004318072,Ve._$h0=0,Ve._$4L=23,Ve._$7P=33,Ve._$uT=function(m_){console.log("_$bo :: _$6 _$mo _$E0 : %d\n",m_)},Ve._$9o=function(m_){if(40>m_)return Ve._$uT(m_),null;if(50>m_)return Ve._$uT(m_),null;if(60>m_)return Ve._$uT(m_),null;if(100>m_)return 65===m_?new Nt:66===m_?new Ne:67===m_?new Ce:68===m_?new We:69===m_?new Ee:70===m_?new Jt:(Ve._$uT(m_),null);if(150>m_)switch(m_){case 131:return new Ht;case 133:return new Gt;case 136:return new me;case 137:return new Xt;case 142:return new Je;}return Ve._$uT(m_),null},Xe._$HP=0,Xe._$_0=!0,Xe._$V2=-1,Xe._$W0=-1,Xe._$jr=!1,Xe._$ZS=!0,Xe._$tr=-1e6,Xe._$lr=1e6,Xe._$is=32,Xe._$e=!1,Xe.prototype.getDrawDataIndex=function(m_){for(var y_=this._$aS.length-1;0<=y_;--y_)if(null!=this._$aS[y_]&&this._$aS[y_].getDrawDataID()==m_)return y_;return-1},Xe.prototype.getDrawData=function(m_){if(m_ instanceof Be){if(null==this._$Bo){this._$Bo={};for(var y_=this._$aS.length,T_=0;T_<y_;T_++){var c_=this._$aS[T_],P_=c_.getDrawDataID();null!=P_&&(this._$Bo[P_]=c_)}}return this._$Bo[id]}return m_<this._$aS.length?this._$aS[m_]:null},Xe.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),null!=this._$Bo&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},Xe.prototype.init=function(){this._$co++,0<this._$F2.length&&this.release();for(var L_,m_=this._$Ri.getModelImpl(),y_=m_._$Xr(),T_=y_.length,c_=[],P_=[],S_=0;S_<T_;++S_){L_=y_[S_],this._$F2.push(L_),this._$Hr.push(L_.init(this));for(var E_=L_.getBaseData(),h_=E_.length,M_=0;M_<h_;++M_)c_.push(E_[M_]);for(var x_,M_=0;M_<h_;++M_)x_=E_[M_].init(this),x_._$l2(S_),P_.push(x_);for(var I_=L_.getDrawData(),O_=I_.length,M_=0;M_<O_;++M_){var D_=I_[M_],A_=D_.init(this);A_._$IP=S_,this._$aS.push(D_),this._$8b.push(A_)}}for(var R_=c_.length,C_=o_._$2o();;){for(var N_,F_=!1,S_=0;S_<R_;++S_)if(N_=c_[S_],null!=N_){var b_=N_.getTargetBaseDataID();(null==b_||b_==C_||0<=this.getBaseDataIndex(b_))&&(this._$3S.push(N_),this._$db.push(P_[S_]),c_[S_]=null,F_=!0)}if(!F_)break}var B_=m_._$E2();if(null!=B_){var v_=B_._$1s();if(null!=v_)for(var U_,G_=v_.length,S_=0;S_<G_;++S_)U_=v_[S_],null!=U_&&this._$02(U_.getParamID(),U_.getDefaultValue(),U_.getMinValue(),U_.getMaxValue())}this.clipManager=new $e(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},Xe.prototype.update=function(){Xe._$e&&de.start("_$zL");for(var m_=this._$_2.length,y_=0;y_<m_;y_++)this._$_2[y_]!=this._$vr[y_]&&(this._$Js[y_]=Xe._$ZS,this._$vr[y_]=this._$_2[y_]);var T_=this._$3S.length,c_=this._$aS.length,P_=je._$or(),S_=je._$Pr(),L_=S_-P_+1;(null==this._$Ws||this._$Ws.length<L_)&&(this._$Ws=new Int16Array(L_),this._$Vs=new Int16Array(L_));for(var y_=0;y_<L_;y_++)this._$Ws[y_]=Xe._$V2,this._$Vs[y_]=Xe._$V2;(null==this._$Er||this._$Er.length<c_)&&(this._$Er=new Int16Array(c_));for(var y_=0;y_<c_;y_++)this._$Er[y_]=Xe._$W0;Xe._$e&&de.dump("_$zL"),Xe._$e&&de.start("_$UL");for(var E_=null,h_=0;h_<T_;++h_){var M_=this._$3S[h_],x_=this._$db[h_];try{M_._$Nr(this,x_),M_._$2b(this,x_)}catch(F_){null==E_&&(E_=F_)}}null!=E_&&Xe._$_0&&de._$Rb(E_),Xe._$e&&de.dump("_$UL"),Xe._$e&&de.start("_$DL");for(var I_=null,O_=0;O_<c_;++O_){var D_=this._$aS[O_],A_=this._$8b[O_];try{if(D_._$Nr(this,A_),A_._$u2())continue;D_._$2b(this,A_);var R_,C_=_Mathfloor(D_._$zS(this,A_)-P_);try{R_=this._$Vs[C_]}catch(F_){console.log("_$li :: %s / %s \t\t\t\t@@_$fS\n",F_.toString(),D_.getDrawDataID().toString()),C_=_Mathfloor(D_._$zS(this,A_)-P_);continue}R_==Xe._$V2?this._$Ws[C_]=O_:this._$Er[R_]=O_,this._$Vs[C_]=O_}catch(F_){null==I_&&(I_=F_,Wt._$sT(Wt._$H7))}}null!=I_&&Xe._$_0&&de._$Rb(I_),Xe._$e&&de.dump("_$DL"),Xe._$e&&de.start("_$eL");for(var y_=this._$Js.length-1;0<=y_;y_--)this._$Js[y_]=Xe._$jr;return this._$QT=!1,Xe._$e&&de.dump("_$eL"),!1},Xe.prototype.preDraw=function(m_){null!=this.clipManager&&(m_._$ZT(),this.clipManager.setupClip(this,m_))},Xe.prototype.draw=function(m_){if(null==this._$Ws)return void de._$li("call _$Ri.update() before _$Ri.draw() ");var y_=this._$Ws.length;m_._$ZT();for(var c_,T_=0;T_<y_;++T_)if(c_=this._$Ws[T_],c_!=Xe._$V2)for(;;){var P_=this._$aS[c_],S_=this._$8b[c_];if(S_._$yo()){var L_=S_._$IP,E_=this._$Hr[L_];S_._$VS=E_.getPartsOpacity(),P_.draw(m_,this,S_)}var h_=this._$Er[c_];if(h_<=c_||h_==Xe._$W0)break;c_=h_}},Xe.prototype.getParamIndex=function(m_){for(var y_=this._$pb.length-1;0<=y_;--y_)if(this._$pb[y_]==m_)return y_;return this._$02(m_,0,Xe._$tr,Xe._$lr)},Xe.prototype._$BS=function(m_){return this.getBaseDataIndex(m_)},Xe.prototype.getBaseDataIndex=function(m_){for(var y_=this._$3S.length-1;0<=y_;--y_)if(null!=this._$3S[y_]&&this._$3S[y_].getBaseDataID()==m_)return y_;return-1},Xe.prototype._$UT=function(m_,y_){var T_=new Float32Array(y_);return Re._$jT(m_,0,T_,0,m_.length),T_},Xe.prototype._$02=function(m_,y_,T_,c_){if(this._$qo>=this._$pb.length){var P_=this._$pb.length,S_=Array(2*P_);Re._$jT(this._$pb,0,S_,0,P_),this._$pb=S_,this._$_2=this._$UT(this._$_2,2*P_),this._$vr=this._$UT(this._$vr,2*P_),this._$Rr=this._$UT(this._$Rr,2*P_),this._$Or=this._$UT(this._$Or,2*P_);var L_=[];Re._$jT(this._$Js,0,L_,0,P_),this._$Js=L_}return this._$pb[this._$qo]=m_,this._$_2[this._$qo]=y_,this._$vr[this._$qo]=y_,this._$Rr[this._$qo]=T_,this._$Or[this._$qo]=c_,this._$Js[this._$qo]=Xe._$ZS,this._$qo++},Xe.prototype._$Zo=function(m_,y_){this._$3S[m_]=y_},Xe.prototype.setParamFloat=function(m_,y_){y_<this._$Rr[m_]&&(y_=this._$Rr[m_]),y_>this._$Or[m_]&&(y_=this._$Or[m_]),this._$_2[m_]=y_},Xe.prototype.loadParam=function(){var m_=this._$_2.length;m_>this._$fs.length&&(m_=this._$fs.length),Re._$jT(this._$fs,0,this._$_2,0,m_)},Xe.prototype.saveParam=function(){var m_=this._$_2.length;m_>this._$fs.length&&(this._$fs=new Float32Array(m_)),Re._$jT(this._$_2,0,this._$fs,0,m_)},Xe.prototype._$v2=function(){return this._$co},Xe.prototype._$WS=function(){return this._$QT},Xe.prototype._$Xb=function(m_){return this._$Js[m_]==Xe._$ZS},Xe.prototype._$vs=function(){return this._$Es},Xe.prototype._$Tr=function(){return this._$ZP},Xe.prototype.getBaseData=function(m_){return this._$3S[m_]},Xe.prototype.getParamFloat=function(m_){return this._$_2[m_]},Xe.prototype.getParamMax=function(m_){return this._$Or[m_]},Xe.prototype.getParamMin=function(m_){return this._$Rr[m_]},Xe.prototype.setPartsOpacity=function(m_,y_){this._$Hr[m_].setPartsOpacity(y_)},Xe.prototype.getPartsOpacity=function(m_){return this._$Hr[m_].getPartsOpacity()},Xe.prototype.getPartsDataIndex=function(m_){for(var y_=this._$F2.length-1;0<=y_;--y_)if(null!=this._$F2[y_]&&this._$F2[y_]._$p2()==m_)return y_;return-1},Xe.prototype._$q2=function(m_){return this._$db[m_]},Xe.prototype._$C2=function(m_){return this._$8b[m_]},Xe.prototype._$Bb=function(m_){return this._$Hr[m_]},Xe.prototype._$5s=function(m_,y_){for(var S_,T_=this._$Ws.length,c_=m_,P_=0;P_<T_;++P_)if(S_=this._$Ws[P_],S_!=Xe._$V2)for(;;){var L_=this._$8b[S_];L_._$yo()&&(L_._$GT()._$B2(this,L_,c_),c_+=y_);var E_=this._$Er[S_];if(E_<=S_||E_==Xe._$W0)break;S_=E_}},Xe.prototype.setDrawParam=function(m_){this.dp_webgl=m_},Xe.prototype.getDrawParam=function(){return this.dp_webgl},ze._$0T=function(m_){return ze._$0T(new _$5(m_))},ze._$0T=function(m_){if(!m_.exists())throw new _$ls(m_._$3b());for(var y_,T_=m_.length(),c_=new Int8Array(T_),P_=new _$Xs(new _$kb(m_),8192),S_=0;0<(y_=P_.read(c_,S_,T_-S_));)S_+=y_;return c_},ze._$C=function(m_){var y_=null,T_=null;try{y_=m_ instanceof Array?m_:new _$Xs(m_,8192),T_=new _$js;for(var c_,P_=new Int8Array(1e3);0<(c_=y_.read(P_));)T_.write(P_,0,c_);return T_._$TS()}finally{null!=m_&&m_.close(),null!=T_&&(T_.flush(),T_.close())}},He.prototype._$T2=function(){return Re.getUserTimeMSec()+Math._$10()*(2*this._$Br-1)},He.prototype._$uo=function(m_){this._$Br=m_},He.prototype._$QS=function(m_,y_,T_){this._$Dr=m_,this._$Cb=y_,this._$mr=T_},He.prototype._$7T=function(m_){var y_,T_=Re.getUserTimeMSec(),c_=0;switch(this._$_L){case STATE_CLOSING:c_=(T_-this._$bb)/this._$Dr,1<=c_&&(c_=1,this._$_L=u_.STATE_CLOSED,this._$bb=T_),y_=1-c_;break;case STATE_CLOSED:c_=(T_-this._$bb)/this._$Cb,1<=c_&&(this._$_L=u_.STATE_OPENING,this._$bb=T_),y_=0;break;case STATE_OPENING:c_=(T_-this._$bb)/this._$mr,1<=c_&&(c_=1,this._$_L=u_.STATE_INTERVAL,this._$12=this._$T2()),y_=c_;break;case STATE_INTERVAL:this._$12<T_&&(this._$_L=u_.STATE_CLOSING,this._$bb=T_),y_=1;break;case STATE_FIRST:default:this._$_L=u_.STATE_INTERVAL,this._$12=this._$T2(),y_=1;}this._$jo||(y_=-y_),m_.setParamFloat(this._$iL,y_),m_.setParamFloat(this._$0L,y_)};var u_=function wt(){};u_.STATE_FIRST="STATE_FIRST",u_.STATE_INTERVAL="STATE_INTERVAL",u_.STATE_CLOSING="STATE_CLOSING",u_.STATE_CLOSED="STATE_CLOSED",u_.STATE_OPENING="STATE_OPENING",ke.prototype=new Oe,ke._$As=32,ke._$Gr=!1,ke._$NT=null,ke._$vS=null,ke._$no=null,ke._$9r=function(m_){return new Float32Array(m_)},ke._$vb=function(m_){return new Int16Array(m_)},ke._$cr=function(m_,y_){return null==m_||m_._$yL()<y_.length?(m_=ke._$9r(2*y_.length),m_.put(y_),m_._$oT(0)):(m_.clear(),m_.put(y_),m_._$oT(0)),m_},ke._$mb=function(m_,y_){return null==m_||m_._$yL()<y_.length?(m_=ke._$vb(2*y_.length),m_.put(y_),m_._$oT(0)):(m_.clear(),m_.put(y_),m_._$oT(0)),m_},ke._$Hs=function(){return ke._$Gr},ke._$as=function(m_){ke._$Gr=m_},ke.prototype.setGL=function(m_){this.gl=m_},ke.prototype.setTransform=function(m_){this.transform=m_},ke.prototype._$ZT=function(){},ke.prototype._$Uo=function(m_,y_,T_,c_,P_,S_,L_,E_){if(!(.01>S_)){var h_=this._$U2[m_],M_=.9<S_?Wt.EXPAND_W:0;this.gl.drawElements(h_,T_,c_,P_,S_,M_,this.transform,E_)}},ke.prototype._$Rs=function(){throw new Error("_$Rs")},ke.prototype._$Ds=function(){throw new Error("_$Ds")},ke.prototype._$K2=function(){for(var m_=0;m_<this._$sb.length;m_++)0!=this._$sb[m_]&&(this.gl._$Sr(1,this._$sb,m_),this._$sb[m_]=0)},ke.prototype.setTexture=function(m_,y_){this._$sb.length<m_+1&&this._$nS(m_),this._$sb[m_]=y_},ke.prototype.setTexture=function(m_,y_){this._$sb.length<m_+1&&this._$nS(m_),this._$U2[m_]=y_},ke.prototype._$nS=function(m_){var y_=_Mathmax(2*this._$sb.length,m_+1+10),T_=new Int32Array(y_);Re._$jT(this._$sb,0,T_,0,this._$sb.length),this._$sb=T_;var c_=[];Re._$jT(this._$U2,0,c_,0,this._$U2.length),this._$U2=c_},We.prototype=new Ae,We._$Xo=new Float32Array(2),We._$io=new Float32Array(2),We._$0o=new Float32Array(2),We._$Lo=new Float32Array(2),We._$To=new Float32Array(2),We._$Po=new Float32Array(2),We._$gT=[],We.prototype._$zP=function(){this._$GS=new Ne,this._$GS._$zP(),this._$Y0=[]},We.prototype.getType=function(){return Ae._$c2},We.prototype._$F0=function(m_){Ae.prototype._$F0.call(this,m_),this._$GS=m_._$nP(),this._$Y0=m_._$nP(),Ae.prototype.readV2_opacity.call(this,m_)},We.prototype.init=function(){var y_=new qe(this);return y_._$Yr=new Ee,this._$32()&&(y_._$Wr=new Ee),y_},We.prototype._$Nr=function(m_,y_){this!=y_._$GT()&&console.log("### assert!! ### ");var T_=y_;if(this._$GS._$Ur(m_)){var c_=We._$gT;c_[0]=!1;var P_=this._$GS._$Q2(m_,c_);y_._$Ib(c_[0]),this.interpolateOpacity(m_,this._$GS,y_,c_);var S_=m_._$vs(),L_=m_._$Tr();if(this._$GS._$zr(S_,L_,P_),0>=P_){var E_=this._$Y0[S_[0]];T_._$Yr.init(E_)}else if(1==P_){var E_=this._$Y0[S_[0]],h_=this._$Y0[S_[1]],M_=L_[0];T_._$Yr._$fL=E_._$fL+(h_._$fL-E_._$fL)*M_,T_._$Yr._$gL=E_._$gL+(h_._$gL-E_._$gL)*M_,T_._$Yr._$B0=E_._$B0+(h_._$B0-E_._$B0)*M_,T_._$Yr._$z0=E_._$z0+(h_._$z0-E_._$z0)*M_,T_._$Yr._$qT=E_._$qT+(h_._$qT-E_._$qT)*M_}else if(2==P_){var E_=this._$Y0[S_[0]],h_=this._$Y0[S_[1]],x_=this._$Y0[S_[2]],I_=this._$Y0[S_[3]],M_=L_[0],O_=L_[1],D_=E_._$fL+(h_._$fL-E_._$fL)*M_,A_=x_._$fL+(I_._$fL-x_._$fL)*M_;T_._$Yr._$fL=D_+(A_-D_)*O_,D_=E_._$gL+(h_._$gL-E_._$gL)*M_,A_=x_._$gL+(I_._$gL-x_._$gL)*M_,T_._$Yr._$gL=D_+(A_-D_)*O_,D_=E_._$B0+(h_._$B0-E_._$B0)*M_,A_=x_._$B0+(I_._$B0-x_._$B0)*M_,T_._$Yr._$B0=D_+(A_-D_)*O_,D_=E_._$z0+(h_._$z0-E_._$z0)*M_,A_=x_._$z0+(I_._$z0-x_._$z0)*M_,T_._$Yr._$z0=D_+(A_-D_)*O_,D_=E_._$qT+(h_._$qT-E_._$qT)*M_,A_=x_._$qT+(I_._$qT-x_._$qT)*M_,T_._$Yr._$qT=D_+(A_-D_)*O_}else if(3==P_){var R_=this._$Y0[S_[0]],C_=this._$Y0[S_[1]],F_=this._$Y0[S_[2]],N_=this._$Y0[S_[3]],b_=this._$Y0[S_[4]],B_=this._$Y0[S_[5]],v_=this._$Y0[S_[6]],G_=this._$Y0[S_[7]],M_=L_[0],O_=L_[1],U_=L_[2],D_=R_._$fL+(C_._$fL-R_._$fL)*M_,A_=F_._$fL+(N_._$fL-F_._$fL)*M_,Y_=b_._$fL+(B_._$fL-b_._$fL)*M_,w_=v_._$fL+(G_._$fL-v_._$fL)*M_;T_._$Yr._$fL=(1-U_)*(D_+(A_-D_)*O_)+U_*(Y_+(w_-Y_)*O_),D_=R_._$gL+(C_._$gL-R_._$gL)*M_,A_=F_._$gL+(N_._$gL-F_._$gL)*M_,Y_=b_._$gL+(B_._$gL-b_._$gL)*M_,w_=v_._$gL+(G_._$gL-v_._$gL)*M_,T_._$Yr._$gL=(1-U_)*(D_+(A_-D_)*O_)+U_*(Y_+(w_-Y_)*O_),D_=R_._$B0+(C_._$B0-R_._$B0)*M_,A_=F_._$B0+(N_._$B0-F_._$B0)*M_,Y_=b_._$B0+(B_._$B0-b_._$B0)*M_,w_=v_._$B0+(G_._$B0-v_._$B0)*M_,T_._$Yr._$B0=(1-U_)*(D_+(A_-D_)*O_)+U_*(Y_+(w_-Y_)*O_),D_=R_._$z0+(C_._$z0-R_._$z0)*M_,A_=F_._$z0+(N_._$z0-F_._$z0)*M_,Y_=b_._$z0+(B_._$z0-b_._$z0)*M_,w_=v_._$z0+(G_._$z0-v_._$z0)*M_,T_._$Yr._$z0=(1-U_)*(D_+(A_-D_)*O_)+U_*(Y_+(w_-Y_)*O_),D_=R_._$qT+(C_._$qT-R_._$qT)*M_,A_=F_._$qT+(N_._$qT-F_._$qT)*M_,Y_=b_._$qT+(B_._$qT-b_._$qT)*M_,w_=v_._$qT+(G_._$qT-v_._$qT)*M_,T_._$Yr._$qT=(1-U_)*(D_+(A_-D_)*O_)+U_*(Y_+(w_-Y_)*O_)}else if(4==P_){var V_=this._$Y0[S_[0]],X_=this._$Y0[S_[1]],z_=this._$Y0[S_[2]],H_=this._$Y0[S_[3]],k_=this._$Y0[S_[4]],W_=this._$Y0[S_[5]],q_=this._$Y0[S_[6]],j_=this._$Y0[S_[7]],J_=this._$Y0[S_[8]],Q_=this._$Y0[S_[9]],Z_=this._$Y0[S_[10]],K_=this._$Y0[S_[11]],eo=this._$Y0[S_[12]],to=this._$Y0[S_[13]],_o=this._$Y0[S_[14]],oo=this._$Y0[S_[15]],M_=L_[0],O_=L_[1],U_=L_[2],ro=L_[3],D_=V_._$fL+(X_._$fL-V_._$fL)*M_,A_=z_._$fL+(H_._$fL-z_._$fL)*M_,Y_=k_._$fL+(W_._$fL-k_._$fL)*M_,w_=q_._$fL+(j_._$fL-q_._$fL)*M_,$o=J_._$fL+(Q_._$fL-J_._$fL)*M_,ao=Z_._$fL+(K_._$fL-Z_._$fL)*M_,no=eo._$fL+(to._$fL-eo._$fL)*M_,io=_o._$fL+(oo._$fL-_o._$fL)*M_;T_._$Yr._$fL=(1-ro)*((1-U_)*(D_+(A_-D_)*O_)+U_*(Y_+(w_-Y_)*O_))+ro*((1-U_)*($o+(ao-$o)*O_)+U_*(no+(io-no)*O_)),D_=V_._$gL+(X_._$gL-V_._$gL)*M_,A_=z_._$gL+(H_._$gL-z_._$gL)*M_,Y_=k_._$gL+(W_._$gL-k_._$gL)*M_,w_=q_._$gL+(j_._$gL-q_._$gL)*M_,$o=J_._$gL+(Q_._$gL-J_._$gL)*M_,ao=Z_._$gL+(K_._$gL-Z_._$gL)*M_,no=eo._$gL+(to._$gL-eo._$gL)*M_,io=_o._$gL+(oo._$gL-_o._$gL)*M_,T_._$Yr._$gL=(1-ro)*((1-U_)*(D_+(A_-D_)*O_)+U_*(Y_+(w_-Y_)*O_))+ro*((1-U_)*($o+(ao-$o)*O_)+U_*(no+(io-no)*O_)),D_=V_._$B0+(X_._$B0-V_._$B0)*M_,A_=z_._$B0+(H_._$B0-z_._$B0)*M_,Y_=k_._$B0+(W_._$B0-k_._$B0)*M_,w_=q_._$B0+(j_._$B0-q_._$B0)*M_,$o=J_._$B0+(Q_._$B0-J_._$B0)*M_,ao=Z_._$B0+(K_._$B0-Z_._$B0)*M_,no=eo._$B0+(to._$B0-eo._$B0)*M_,io=_o._$B0+(oo._$B0-_o._$B0)*M_,T_._$Yr._$B0=(1-ro)*((1-U_)*(D_+(A_-D_)*O_)+U_*(Y_+(w_-Y_)*O_))+ro*((1-U_)*($o+(ao-$o)*O_)+U_*(no+(io-no)*O_)),D_=V_._$z0+(X_._$z0-V_._$z0)*M_,A_=z_._$z0+(H_._$z0-z_._$z0)*M_,Y_=k_._$z0+(W_._$z0-k_._$z0)*M_,w_=q_._$z0+(j_._$z0-q_._$z0)*M_,$o=J_._$z0+(Q_._$z0-J_._$z0)*M_,ao=Z_._$z0+(K_._$z0-Z_._$z0)*M_,no=eo._$z0+(to._$z0-eo._$z0)*M_,io=_o._$z0+(oo._$z0-_o._$z0)*M_,T_._$Yr._$z0=(1-ro)*((1-U_)*(D_+(A_-D_)*O_)+U_*(Y_+(w_-Y_)*O_))+ro*((1-U_)*($o+(ao-$o)*O_)+U_*(no+(io-no)*O_)),D_=V_._$qT+(X_._$qT-V_._$qT)*M_,A_=z_._$qT+(H_._$qT-z_._$qT)*M_,Y_=k_._$qT+(W_._$qT-k_._$qT)*M_,w_=q_._$qT+(j_._$qT-q_._$qT)*M_,$o=J_._$qT+(Q_._$qT-J_._$qT)*M_,ao=Z_._$qT+(K_._$qT-Z_._$qT)*M_,no=eo._$qT+(to._$qT-eo._$qT)*M_,io=_o._$qT+(oo._$qT-_o._$qT)*M_,T_._$Yr._$qT=(1-ro)*((1-U_)*(D_+(A_-D_)*O_)+U_*(Y_+(w_-Y_)*O_))+ro*((1-U_)*($o+(ao-$o)*O_)+U_*(no+(io-no)*O_))}else{for(var po=0|_Mathpow(2,P_),so=new Float32Array(po),lo=0;lo<po;lo++){for(var go=lo,uo=1,fo=0;fo<P_;fo++)uo*=0==go%2?1-L_[fo]:L_[fo],go/=2;so[lo]=uo}for(var mo=[],yo=0;yo<po;yo++)mo[yo]=this._$Y0[S_[yo]];for(var To=0,co=0,Po=0,So=0,Lo=0,yo=0;yo<po;yo++)To+=so[yo]*mo[yo]._$fL,co+=so[yo]*mo[yo]._$gL,Po+=so[yo]*mo[yo]._$B0,So+=so[yo]*mo[yo]._$z0,Lo+=so[yo]*mo[yo]._$qT;T_._$Yr._$fL=To,T_._$Yr._$gL=co,T_._$Yr._$B0=Po,T_._$Yr._$z0=So,T_._$Yr._$qT=Lo}var E_=this._$Y0[S_[0]];T_._$Yr.reflectX=E_.reflectX,T_._$Yr.reflectY=E_.reflectY}},We.prototype._$2b=function(m_,y_){this!=y_._$GT()&&console.log("### assert!! ### ");var T_=y_;if(T_._$hS(!0),this._$32()){var c_=this.getTargetBaseDataID();if(T_._$8r==Ae._$ur&&(T_._$8r=m_.getBaseDataIndex(c_)),0>T_._$8r)Wt._$so&&de._$li("_$L _$0P _$G :: %s",c_),T_._$hS(!1);else{var P_=m_.getBaseData(T_._$8r);if(null!=P_){var S_=m_._$q2(T_._$8r),L_=We._$Xo;L_[0]=T_._$Yr._$fL,L_[1]=T_._$Yr._$gL;var E_=We._$io;E_[0]=0,E_[1]=-.1,E_[1]=S_._$GT().getType()==Ae._$c2?-10:-.1;var h_=We._$0o;this._$Jr(m_,P_,S_,L_,E_,h_);var M_=p_._$92(E_,h_);P_._$nb(m_,S_,L_,L_,1,0,2),T_._$Wr._$fL=L_[0],T_._$Wr._$gL=L_[1],T_._$Wr._$B0=T_._$Yr._$B0,T_._$Wr._$z0=T_._$Yr._$z0,T_._$Wr._$qT=T_._$Yr._$qT-M_*p_._$NS;var x_=S_.getTotalScale();T_.setTotalScale_notForClient(x_*T_._$Wr._$B0);var I_=S_.getTotalOpacity();T_.setTotalOpacity(I_*T_.getInterpolatedOpacity()),T_._$Wr.reflectX=T_._$Yr.reflectX,T_._$Wr.reflectY=T_._$Yr.reflectY,T_._$hS(S_._$yo())}else T_._$hS(!1)}}else T_.setTotalScale_notForClient(T_._$Yr._$B0),T_.setTotalOpacity(T_.getInterpolatedOpacity())},We.prototype._$nb=function(m_,y_,T_,c_,P_,S_,L_){this!=y_._$GT()&&console.log("### assert!! ### ");for(var E_,h_,M_=y_,x_=null==M_._$Wr?M_._$Yr:M_._$Wr,I_=_Mathsin(p_._$bS*x_._$qT),O_=_Mathcos(p_._$bS*x_._$qT),D_=M_.getTotalScale(),A_=x_.reflectX?-1:1,R_=x_.reflectY?-1:1,B_=x_._$fL,v_=x_._$gL,U_=S_;U_<P_*L_;U_+=L_)E_=T_[U_],h_=T_[U_+1],c_[U_]=O_*D_*A_*E_+-I_*D_*R_*h_+B_,c_[U_+1]=I_*D_*A_*E_+O_*D_*R_*h_+v_},We.prototype._$Jr=function(m_,y_,T_,c_,P_,S_){y_!=T_._$GT()&&console.log("### assert!! ### ");var L_=We._$Lo;We._$Lo[0]=c_[0],We._$Lo[1]=c_[1],y_._$nb(m_,T_,L_,L_,1,0,2);for(var E_=We._$To,h_=We._$Po,M_=1,x_=0;10>x_;x_++){if(h_[0]=c_[0]+M_*P_[0],h_[1]=c_[1]+M_*P_[1],y_._$nb(m_,T_,h_,E_,1,0,2),E_[0]-=L_[0],E_[1]-=L_[1],0!=E_[0]||0!=E_[1])return S_[0]=E_[0],void(S_[1]=E_[1]);if(h_[0]=c_[0]-M_*P_[0],h_[1]=c_[1]-M_*P_[1],y_._$nb(m_,T_,h_,E_,1,0,2),E_[0]-=L_[0],E_[1]-=L_[1],0!=E_[0]||0!=E_[1])return E_[0]=-E_[0],E_[0]=-E_[0],S_[0]=E_[0],void(S_[1]=E_[1]);M_*=.1}Wt._$so&&console.log("_$L0 to transform _$SP\n")},qe.prototype=new kt,je.prototype=new Ie,je._$ur=-2,je._$ES=500,je._$wb=2,je._$8S=3,je._$os=4,je._$52=je._$ES,je._$R2=je._$ES,je._$Sb=function(m_){for(var T_,y_=m_.length-1;0<=y_;--y_)T_=m_[y_],T_<je._$52?je._$52=T_:T_>je._$R2&&(je._$R2=T_)},je._$or=function(){return je._$52},je._$Pr=function(){return je._$R2},je.prototype._$F0=function(m_){this._$gP=m_._$nP(),this._$dr=m_._$nP(),this._$GS=m_._$nP(),this._$qb=m_._$6L(),this._$Lb=m_._$cS(),this._$mS=m_._$Tb(),m_.getFormatVersion()>=Ve._$T7?(this.clipID=m_._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,je._$Sb(this._$Lb)},je.prototype.getClipIDList=function(){return this.clipIDList},je.prototype._$Nr=function(m_,y_){if(y_._$IS[0]=!1,y_._$Us=Me._$Z2(m_,this._$GS,y_._$IS,this._$Lb),Wt._$Zs);else if(y_._$IS[0])return;y_._$7s=Me._$br(m_,this._$GS,y_._$IS,this._$mS)},je.prototype._$2b=function(){},je.prototype.getDrawDataID=function(){return this._$gP},je.prototype._$j2=function(m_){this._$gP=m_},je.prototype.getOpacity=function(m_,y_){return y_._$7s},je.prototype._$zS=function(m_,y_){return y_._$Us},je.prototype.getTargetBaseDataID=function(){return this._$dr},je.prototype._$gs=function(m_){this._$dr=m_},je.prototype._$32=function(){return null!=this._$dr&&this._$dr!=o_._$2o()},je.prototype.getType=function(){},Je._$42=0,Je.prototype._$1b=function(){return this._$3S},Je.prototype.getDrawDataList=function(){return this._$aS},Je.prototype._$F0=function(m_){this._$NL=m_._$nP(),this._$aS=m_._$nP(),this._$3S=m_._$nP()},Je.prototype._$kr=function(m_){m_._$Zo(this._$3S),m_._$xo(this._$aS),this._$3S=null,this._$aS=null},Qe.prototype=new re,Qe.loadModel=function(m_){var y_=new Qe;return re._$62(y_,m_),y_},Qe.loadModel=function(m_){var y_=new Qe;return re._$62(y_,m_),y_},Qe._$to=function(){return new Qe},Qe._$er=function(m_){var y_=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==y_.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+y_._$PL());for(var S_,T_=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],c_=Qe.loadModel(y_._$3b()),P_=0;P_<T_.length;P_++){if(S_=new _$5(T_[P_]),0==S_.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+S_._$PL());c_.setTexture(P_,_$nL._$_o(m_,S_._$3b()))}return c_},Qe.prototype.setGL=function(m_){this._$zo.setGL(m_)},Qe.prototype.setTransform=function(m_){this._$zo.setTransform(m_)},Qe.prototype.draw=function(){this._$5S.draw(this._$zo)},Qe.prototype._$K2=function(){this._$zo._$K2()},Qe.prototype.setTexture=function(m_,y_){null==this._$zo&&de._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(m_,y_)},Qe.prototype.setTexture=function(m_,y_){null==this._$zo&&de._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(m_,y_)},Qe.prototype._$Rs=function(){return this._$zo._$Rs()},Qe.prototype._$Ds=function(m_){this._$zo._$Ds(m_)},Qe.prototype.getDrawParam=function(){return this._$zo},Ze.prototype=new pe,Ze._$cs="VISIBLE:",Ze._$ar="LAYOUT:",Ze.MTN_PREFIX_FADEIN="FADEIN:",Ze.MTN_PREFIX_FADEOUT="FADEOUT:",Ze._$Co=0,Ze._$1T=1,Ze.loadMotion=function(m_){var y_=ze._$C(m_);return Ze.loadMotion(y_)},Ze.loadMotion=function(m_){m_ instanceof ArrayBuffer&&(m_=new DataView(m_));var y_=new Ze,T_=[0],c_=m_.byteLength;y_._$yT=0;for(var P_=0;P_<c_;++P_){var S_=Ke(m_,P_),L_=S_.charCodeAt(0);if("\n"!=S_&&"\r"!=S_)if(!("#"!=S_))for(;P_<c_&&"\n"!=Ke(m_,P_)&&"\r"!=Ke(m_,P_);++P_);else if(!("$"!=S_)){for(var E_=P_,h_=-1;P_<c_&&"\r"!=(S_=Ke(m_,P_))&&"\n"!=S_;++P_)if("="==S_){h_=P_;break}var A_=!1;if(0<=h_)for(h_==E_+4&&"f"==Ke(m_,E_+1)&&"p"==Ke(m_,E_+2)&&"s"==Ke(m_,E_+3)&&(A_=!0),P_=h_+1;P_<c_&&"\r"!=(S_=Ke(m_,P_))&&"\n"!=S_;++P_)if(","!=S_&&" "!=S_&&"\t"!=S_){var O_=Fe._$LS(m_,c_,P_,T_);0<T_[0]&&A_&&5<O_&&121>O_&&(y_._$D0=O_),P_=T_[0]}for(;P_<c_&&"\n"!=Ke(m_,P_)&&"\r"!=Ke(m_,P_);++P_);}else if(97<=L_&&122>=L_||65<=L_&&90>=L_||"_"==S_){for(var E_=P_,h_=-1;P_<c_&&"\r"!=(S_=Ke(m_,P_))&&"\n"!=S_;++P_)if("="==S_){h_=P_;break}if(0<=h_){var M_=new Ye;Fe.startsWith(m_,E_,Ze._$cs)?(M_._$RP=Ye._$hs,M_._$4P=Fe.createString(m_,E_,h_-E_)):Fe.startsWith(m_,E_,Ze._$ar)?(M_._$4P=Fe.createString(m_,E_+7,h_-E_-7),Fe.startsWith(m_,E_+7,"ANCHOR_X")?M_._$RP=Ye._$xs:Fe.startsWith(m_,E_+7,"ANCHOR_Y")?M_._$RP=Ye._$us:Fe.startsWith(m_,E_+7,"SCALE_X")?M_._$RP=Ye._$qs:Fe.startsWith(m_,E_+7,"SCALE_Y")?M_._$RP=Ye._$Ys:Fe.startsWith(m_,E_+7,"X")?M_._$RP=Ye._$ws:Fe.startsWith(m_,E_+7,"Y")&&(M_._$RP=Ye._$Ns)):(M_._$RP=Ye._$Fr,M_._$4P=Fe.createString(m_,E_,h_-E_)),y_.motions.push(M_);var x_=0,I_=[];for(P_=h_+1;P_<c_&&"\r"!=(S_=Ke(m_,P_))&&"\n"!=S_;++P_)if(","!=S_&&" "!=S_&&"\t"!=S_){var O_=Fe._$LS(m_,c_,P_,T_);if(0<T_[0]){I_.push(O_),x_++;var D_=T_[0];if(D_<P_){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}P_=D_-1}}M_._$I0=new Float32Array(I_),x_>y_._$yT&&(y_._$yT=x_)}}}return y_._$rr=0|1e3*y_._$yT/y_._$D0,y_},Ze.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},Ze.prototype.getLoopDurationMSec=function(){return this._$rr},Ze.prototype.dump=function(){for(var y_,m_=0;m_<this.motions.length;m_++){y_=this.motions[m_],console.log("_$wL[%s] [%d]. ",y_._$4P,y_._$I0.length);for(var T_=0;T_<y_._$I0.length&&10>T_;T_++)console.log("%5.2f ,",y_._$I0[T_]);console.log("\n")}},Ze.prototype.updateParamExe=function(m_,y_,T_,c_){for(var P_=y_-c_._$z2,S_=P_*this._$D0/1e3,L_=0|S_,h_=0;h_<this.motions.length;h_++){var M_=this.motions[h_],x_=M_._$I0.length,I_=M_._$4P;if(M_._$RP==Ye._$hs){var O_=M_._$I0[L_>=x_?x_-1:L_];m_.setParamFloat(I_,O_)}else if(Ye._$ws<=M_._$RP&&M_._$RP<=Ye._$Ys);else{var D_,A_=m_.getParamIndex(I_),R_=m_.getModelContext(),C_=R_.getParamMax(A_),F_=R_.getParamMin(A_),N_=.4*(C_-F_),b_=R_.getParamFloat(A_),B_=M_._$I0[L_>=x_?x_-1:L_],v_=M_._$I0[L_+1>=x_?x_-1:L_+1];D_=B_<v_&&v_-B_>N_||B_>v_&&B_-v_>N_?B_:B_+(v_-B_)*(S_-L_);var G_=b_+(D_-b_)*T_;m_.setParamFloat(I_,G_)}}L_>=this._$yT&&(this._$E?(c_._$z2=y_,this.loopFadeIn&&(c_._$bs=y_)):c_._$9L=!0),this._$eP=T_},Ze.prototype._$r0=function(){return this._$E},Ze.prototype._$aL=function(m_){this._$E=m_},Ze.prototype._$S0=function(){return this._$D0},Ze.prototype._$U0=function(m_){this._$D0=m_},Ze.prototype.isLoopFadeIn=function(){return this.loopFadeIn},Ze.prototype.setLoopFadeIn=function(m_){this.loopFadeIn=m_},Ue.prototype.clear=function(){this.size=0},Ue.prototype.add=function(m_){if(this._$P.length<=this.size){var y_=new Float32Array(2*this.size);Re._$jT(this._$P,0,y_,0,this.size),this._$P=y_}this._$P[this.size++]=m_},Ue.prototype._$BL=function(){var m_=new Float32Array(this.size);return Re._$jT(this._$P,0,m_,0,this.size),m_},Ye._$Fr=0,Ye._$hs=1,Ye._$ws=100,Ye._$Ns=101,Ye._$xs=102,Ye._$us=103,Ye._$qs=104,Ye._$Ys=105,Nt.prototype=new Ae,Nt._$gT=[],Nt.prototype._$zP=function(){this._$GS=new Ne,this._$GS._$zP()},Nt.prototype._$F0=function(m_){Ae.prototype._$F0.call(this,m_),this._$A=m_._$6L(),this._$o=m_._$6L(),this._$GS=m_._$nP(),this._$Eo=m_._$nP(),Ae.prototype.readV2_opacity.call(this,m_)},Nt.prototype.init=function(){var y_=new Bt(this),T_=(this._$o+1)*(this._$A+1);return null!=y_._$Cr&&(y_._$Cr=null),y_._$Cr=new Float32Array(2*T_),null!=y_._$hr&&(y_._$hr=null),y_._$hr=this._$32()?new Float32Array(2*T_):null,y_},Nt.prototype._$Nr=function(m_,y_){if(this._$GS._$Ur(m_)){var c_=this._$VT(),P_=Nt._$gT;P_[0]=!1,Me._$Vr(m_,this._$GS,P_,c_,this._$Eo,y_._$Cr,0,2),y_._$Ib(P_[0]),this.interpolateOpacity(m_,this._$GS,y_,P_)}},Nt.prototype._$2b=function(m_,y_){var T_=y_;if(T_._$hS(!0),this._$32()){var c_=this.getTargetBaseDataID();if(T_._$8r==Ae._$ur&&(T_._$8r=m_.getBaseDataIndex(c_)),0>T_._$8r)Wt._$so&&de._$li("_$L _$0P _$G :: %s",c_),T_._$hS(!1);else{var P_=m_.getBaseData(T_._$8r),S_=m_._$q2(T_._$8r);if(null!=P_&&S_._$yo()){var L_=S_.getTotalScale();T_.setTotalScale_notForClient(L_);var E_=S_.getTotalOpacity();T_.setTotalOpacity(E_*T_.getInterpolatedOpacity()),P_._$nb(m_,S_,T_._$Cr,T_._$hr,this._$VT(),0,2),T_._$hS(!0)}else T_._$hS(!1)}}else T_.setTotalOpacity(T_.getInterpolatedOpacity())},Nt.prototype._$nb=function(m_,y_,T_,c_,P_,S_,L_){var E_=y_,h_=null==E_._$hr?E_._$Cr:E_._$hr;Nt.transformPoints_sdk2(T_,c_,P_,S_,L_,h_,this._$o,this._$A)},Nt.transformPoints_sdk2=function(m_,y_,T_,c_,P_,S_,L_,E_){for(var h_,M_,x_,O_=0,D_=0,A_=0,R_=0,C_=0,F_=0,N_=!1,b_=c_;b_<T_*P_;b_+=P_){var B_,v_,G_,U_;if(G_=m_[b_],U_=m_[b_+1],B_=G_*L_,v_=U_*E_,0>B_||0>v_||L_<=B_||E_<=v_){var Y_=L_+1;if(!N_){N_=!0,O_=.25*(S_[2*(0+0*Y_)]+S_[2*(L_+0*Y_)]+S_[2*(0+E_*Y_)]+S_[2*(L_+E_*Y_)]),D_=.25*(S_[2*(0+0*Y_)+1]+S_[2*(L_+0*Y_)+1]+S_[2*(0+E_*Y_)+1]+S_[2*(L_+E_*Y_)+1]);var w_=S_[2*(L_+E_*Y_)]-S_[2*(0+0*Y_)],V_=S_[2*(L_+E_*Y_)+1]-S_[2*(0+0*Y_)+1],X_=S_[2*(L_+0*Y_)]-S_[2*(0+E_*Y_)],z_=S_[2*(L_+0*Y_)+1]-S_[2*(0+E_*Y_)+1];A_=.5*(w_+X_),R_=.5*(V_+z_),C_=.5*(w_-X_),F_=.5*(V_-z_),O_-=.5*(A_+C_),D_-=.5*(R_+F_)}if(!(-2<G_&&3>G_&&-2<U_&&3>U_))y_[b_]=O_+G_*A_+U_*C_,y_[b_+1]=D_+G_*R_+U_*F_;else if(0>=G_){if(0>=U_){var H_=S_[2*(0+0*Y_)],k_=S_[2*(0+0*Y_)+1],W_=O_-2*A_,q_=D_-2*R_,j_=O_-2*C_,J_=D_-2*F_,Q_=O_-2*A_-2*C_,Z_=D_-2*R_-2*F_,K_=.5*(G_- -2),eo=.5*(U_- -2);1>=K_+eo?(y_[b_]=Q_+(j_-Q_)*K_+(W_-Q_)*eo,y_[b_+1]=Z_+(J_-Z_)*K_+(q_-Z_)*eo):(y_[b_]=H_+(W_-H_)*(1-K_)+(j_-H_)*(1-eo),y_[b_+1]=k_+(q_-k_)*(1-K_)+(J_-k_)*(1-eo))}else if(1<=U_){var j_=S_[2*(0+E_*Y_)],J_=S_[2*(0+E_*Y_)+1],Q_=O_-2*A_+1*C_,Z_=D_-2*R_+1*F_,H_=O_+3*C_,k_=D_+3*F_,W_=O_-2*A_+3*C_,q_=D_-2*R_+3*F_,K_=.5*(G_- -2),eo=.5*(U_-1);1>=K_+eo?(y_[b_]=Q_+(j_-Q_)*K_+(W_-Q_)*eo,y_[b_+1]=Z_+(J_-Z_)*K_+(q_-Z_)*eo):(y_[b_]=H_+(W_-H_)*(1-K_)+(j_-H_)*(1-eo),y_[b_+1]=k_+(q_-k_)*(1-K_)+(J_-k_)*(1-eo))}else{var to=0|v_;to==E_&&(to=E_-1);var K_=.5*(G_- -2),eo=v_-to,_o=to/E_,oo=(to+1)/E_,j_=S_[2*(0+to*Y_)],J_=S_[2*(0+to*Y_)+1],H_=S_[2*(0+(to+1)*Y_)],k_=S_[2*(0+(to+1)*Y_)+1],Q_=O_-2*A_+_o*C_,Z_=D_-2*R_+_o*F_,W_=O_-2*A_+oo*C_,q_=D_-2*R_+oo*F_;1>=K_+eo?(y_[b_]=Q_+(j_-Q_)*K_+(W_-Q_)*eo,y_[b_+1]=Z_+(J_-Z_)*K_+(q_-Z_)*eo):(y_[b_]=H_+(W_-H_)*(1-K_)+(j_-H_)*(1-eo),y_[b_+1]=k_+(q_-k_)*(1-K_)+(J_-k_)*(1-eo))}}else if(1<=G_){if(0>=U_){var W_=S_[2*(L_+0*Y_)],q_=S_[2*(L_+0*Y_)+1],H_=O_+3*A_,k_=D_+3*R_,Q_=O_+1*A_-2*C_,Z_=D_+1*R_-2*F_,j_=O_+3*A_-2*C_,J_=D_+3*R_-2*F_,K_=.5*(G_-1),eo=.5*(U_- -2);1>=K_+eo?(y_[b_]=Q_+(j_-Q_)*K_+(W_-Q_)*eo,y_[b_+1]=Z_+(J_-Z_)*K_+(q_-Z_)*eo):(y_[b_]=H_+(W_-H_)*(1-K_)+(j_-H_)*(1-eo),y_[b_+1]=k_+(q_-k_)*(1-K_)+(J_-k_)*(1-eo))}else if(1<=U_){var Q_=S_[2*(L_+E_*Y_)],Z_=S_[2*(L_+E_*Y_)+1],j_=O_+3*A_+1*C_,J_=D_+3*R_+1*F_,W_=O_+1*A_+3*C_,q_=D_+1*R_+3*F_,H_=O_+3*A_+3*C_,k_=D_+3*R_+3*F_,K_=.5*(G_-1),eo=.5*(U_-1);1>=K_+eo?(y_[b_]=Q_+(j_-Q_)*K_+(W_-Q_)*eo,y_[b_+1]=Z_+(J_-Z_)*K_+(q_-Z_)*eo):(y_[b_]=H_+(W_-H_)*(1-K_)+(j_-H_)*(1-eo),y_[b_+1]=k_+(q_-k_)*(1-K_)+(J_-k_)*(1-eo))}else{var to=0|v_;to==E_&&(to=E_-1);var K_=.5*(G_-1),eo=v_-to,_o=to/E_,oo=(to+1)/E_,Q_=S_[2*(L_+to*Y_)],Z_=S_[2*(L_+to*Y_)+1],W_=S_[2*(L_+(to+1)*Y_)],q_=S_[2*(L_+(to+1)*Y_)+1],j_=O_+3*A_+_o*C_,J_=D_+3*R_+_o*F_,H_=O_+3*A_+oo*C_,k_=D_+3*R_+oo*F_;1>=K_+eo?(y_[b_]=Q_+(j_-Q_)*K_+(W_-Q_)*eo,y_[b_+1]=Z_+(J_-Z_)*K_+(q_-Z_)*eo):(y_[b_]=H_+(W_-H_)*(1-K_)+(j_-H_)*(1-eo),y_[b_+1]=k_+(q_-k_)*(1-K_)+(J_-k_)*(1-eo))}}else if(0>=U_){var ro=0|B_;ro==L_&&(ro=L_-1);var K_=B_-ro,eo=.5*(U_- -2),$o=ro/L_,ao=(ro+1)/L_,W_=S_[2*(ro+0*Y_)],q_=S_[2*(ro+0*Y_)+1],H_=S_[2*(ro+1+0*Y_)],k_=S_[2*(ro+1+0*Y_)+1],Q_=O_+$o*A_-2*C_,Z_=D_+$o*R_-2*F_,j_=O_+ao*A_-2*C_,J_=D_+ao*R_-2*F_;1>=K_+eo?(y_[b_]=Q_+(j_-Q_)*K_+(W_-Q_)*eo,y_[b_+1]=Z_+(J_-Z_)*K_+(q_-Z_)*eo):(y_[b_]=H_+(W_-H_)*(1-K_)+(j_-H_)*(1-eo),y_[b_+1]=k_+(q_-k_)*(1-K_)+(J_-k_)*(1-eo))}else if(1<=U_){var ro=0|B_;ro==L_&&(ro=L_-1);var K_=B_-ro,eo=.5*(U_-1),$o=ro/L_,ao=(ro+1)/L_,Q_=S_[2*(ro+E_*Y_)],Z_=S_[2*(ro+E_*Y_)+1],j_=S_[2*(ro+1+E_*Y_)],J_=S_[2*(ro+1+E_*Y_)+1],W_=O_+$o*A_+3*C_,q_=D_+$o*R_+3*F_,H_=O_+ao*A_+3*C_,k_=D_+ao*R_+3*F_;1>=K_+eo?(y_[b_]=Q_+(j_-Q_)*K_+(W_-Q_)*eo,y_[b_+1]=Z_+(J_-Z_)*K_+(q_-Z_)*eo):(y_[b_]=H_+(W_-H_)*(1-K_)+(j_-H_)*(1-eo),y_[b_+1]=k_+(q_-k_)*(1-K_)+(J_-k_)*(1-eo))}else oe.err.printf("_$li calc : %.4f , %.4f\t\t\t\t\t@@BDBoxGrid\n",G_,U_)}else M_=B_-(0|B_),x_=v_-(0|v_),h_=2*((0|B_)+(0|v_)*(L_+1)),1>M_+x_?(y_[b_]=S_[h_]*(1-M_-x_)+S_[h_+2]*M_+S_[h_+2*(L_+1)]*x_,y_[b_+1]=S_[h_+1]*(1-M_-x_)+S_[h_+3]*M_+S_[h_+2*(L_+1)+1]*x_):(y_[b_]=S_[h_+2*(L_+1)+2]*(M_-1+x_)+S_[h_+2*(L_+1)]*(1-M_)+S_[h_+2]*(1-x_),y_[b_+1]=S_[h_+2*(L_+1)+3]*(M_-1+x_)+S_[h_+2*(L_+1)+1]*(1-M_)+S_[h_+3]*(1-x_))}},Nt.prototype.transformPoints_sdk1=function(m_,y_,T_,c_,P_,S_,L_){for(var E_,h_,M_,x_,I_,O_,D_,A_=y_,R_=this._$o,C_=this._$A,N_=null==A_._$hr?A_._$Cr:A_._$hr,b_=S_;b_<P_*L_;b_+=L_)Wt._$ts?(E_=T_[b_],h_=T_[b_+1],0>E_?E_=0:1<E_&&(E_=1),0>h_?h_=0:1<h_&&(h_=1),E_*=R_,h_*=C_,M_=0|E_,x_=0|h_,M_>R_-1&&(M_=R_-1),x_>C_-1&&(x_=C_-1),O_=E_-M_,D_=h_-x_,I_=2*(M_+x_*(R_+1))):(E_=T_[b_]*R_,h_=T_[b_+1]*C_,O_=E_-(0|E_),D_=h_-(0|h_),I_=2*((0|E_)+(0|h_)*(R_+1))),1>O_+D_?(c_[b_]=N_[I_]*(1-O_-D_)+N_[I_+2]*O_+N_[I_+2*(R_+1)]*D_,c_[b_+1]=N_[I_+1]*(1-O_-D_)+N_[I_+3]*O_+N_[I_+2*(R_+1)+1]*D_):(c_[b_]=N_[I_+2*(R_+1)+2]*(O_-1+D_)+N_[I_+2*(R_+1)]*(1-O_)+N_[I_+2]*(1-D_),c_[b_+1]=N_[I_+2*(R_+1)+3]*(O_-1+D_)+N_[I_+2*(R_+1)+1]*(1-O_)+N_[I_+3]*(1-D_))},Nt.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},Nt.prototype.getType=function(){return Ae._$_b},Bt.prototype=new kt,Gt._$42=0,Gt.prototype._$zP=function(){this._$3S=[],this._$aS=[]},Gt.prototype._$F0=function(m_){this._$g0=m_._$8L(),this.visible=m_._$8L(),this._$NL=m_._$nP(),this._$3S=m_._$nP(),this._$aS=m_._$nP()},Gt.prototype.init=function(){var y_=new Ut(this);return y_.setPartsOpacity(this.isVisible()?1:0),y_},Gt.prototype._$6o=function(m_){if(null==this._$3S)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(m_)},Gt.prototype._$3o=function(m_){if(null==this._$aS)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(m_)},Gt.prototype._$Zo=function(m_){this._$3S=m_},Gt.prototype._$xo=function(m_){this._$aS=m_},Gt.prototype.isVisible=function(){return this.visible},Gt.prototype._$uL=function(){return this._$g0},Gt.prototype._$KP=function(m_){this.visible=m_},Gt.prototype._$ET=function(m_){this._$g0=m_},Gt.prototype.getBaseData=function(){return this._$3S},Gt.prototype.getDrawData=function(){return this._$aS},Gt.prototype._$p2=function(){return this._$NL},Gt.prototype._$ob=function(m_){this._$NL=m_},Gt.prototype.getPartsID=function(){return this._$NL},Gt.prototype._$MP=function(m_){this._$NL=m_},Ut.prototype=new function(){},Ut.prototype.getPartsOpacity=function(){return this._$VS},Ut.prototype.setPartsOpacity=function(m_){this._$VS=m_},Yt._$L7=function(){fe._$27(),o_._$27(),Be._$27(),ge._$27()},Yt.prototype.toString=function(){return this.id},function(){}.prototype._$F0=function(){},Xt.prototype._$1s=function(){return this._$4S},Xt.prototype._$zP=function(){this._$4S=[]},Xt.prototype._$F0=function(m_){this._$4S=m_._$nP()},Xt.prototype._$Ks=function(m_){this._$4S.push(m_)},zt.tr=new __,zt._$50=new __,zt._$Ti=[0,0],zt._$Pi=[0,0],zt._$B=[0,0],zt.prototype._$lP=function(m_,y_,T_,c_){this.viewport=[m_,y_,T_,c_]},zt.prototype._$bL=function(){this.context.save();var m_=this.viewport;null!=m_&&(this.context.beginPath(),this.context._$Li(m_[0],m_[1],m_[2],m_[3]),this.context.clip())},zt.prototype._$ei=function(){this.context.restore()},zt.prototype.drawElements=function(m_,y_,T_,c_,P_,S_,L_,E_){try{P_!=this._$Qo&&(this._$Qo=P_,this.context.globalAlpha=P_);for(var h_=y_.length,M_=m_.width,x_=m_.height,I_=this.context,O_=this._$xP,D_=this._$uP,A_=this._$6r,R_=this._$3r,C_=zt.tr,F_=zt._$Ti,N_=zt._$Pi,b_=zt._$B,B_=0;B_<h_;B_+=3){I_.save();var v_=y_[B_],G_=y_[B_+1],U_=y_[B_+2],Y_=O_+A_*T_[2*v_],w_=D_+R_*T_[2*v_+1],V_=O_+A_*T_[2*G_],X_=D_+R_*T_[2*G_+1],z_=O_+A_*T_[2*U_],H_=D_+R_*T_[2*U_+1];L_&&(L_._$PS(Y_,w_,b_),Y_=b_[0],w_=b_[1],L_._$PS(V_,X_,b_),V_=b_[0],X_=b_[1],L_._$PS(z_,H_,b_),z_=b_[0],H_=b_[1]);var k_=M_*c_[2*v_],W_=x_-x_*c_[2*v_+1],q_=M_*c_[2*G_],j_=x_-x_*c_[2*G_+1],J_=M_*c_[2*U_],Q_=x_-x_*c_[2*U_+1],Z_=_Mathatan(j_-W_,q_-k_),K_=_Mathatan(X_-w_,V_-Y_),eo=V_-Y_,to=X_-w_,_o=_Mathsqrt(eo*eo+to*to),oo=q_-k_,ro=j_-W_,$o=_Mathsqrt(oo*oo+ro*ro),ao=_o/$o;g_._$ni(J_,Q_,k_,W_,q_-k_,j_-W_,-(j_-W_),q_-k_,F_),g_._$ni(z_,H_,Y_,w_,V_-Y_,X_-w_,-(X_-w_),V_-Y_,N_);var no=(N_[0]-F_[0])/F_[1],io=_Mathmin(k_,q_,J_),po=_Mathmax(k_,q_,J_),so=_Mathmin(W_,j_,Q_),lo=_Mathmax(W_,j_,Q_),go=_Mathfloor(io),uo=_Mathfloor(so),fo=_Mathceil(po),mo=_Mathceil(lo);if(C_.identity(),C_.translate(Y_,w_),C_.rotate(K_),C_.scale(1,N_[1]/F_[1]),C_.shear(no,0),C_.scale(ao,ao),C_.rotate(-Z_),C_.translate(-k_,-W_),C_.setContext(I_),(S_||(S_=1.2),Wt.IGNORE_EXPAND&&(S_=0),Wt.USE_CACHED_POLYGON_IMAGE)){var yo=E_._$e0;if(yo.gl_cacheImage=yo.gl_cacheImage||{},!yo.gl_cacheImage[B_]){var To=zt.createCanvas(fo-go,mo-uo);Wt.DEBUG_DATA.LDGL_CANVAS_MB=Wt.DEBUG_DATA.LDGL_CANVAS_MB||0,Wt.DEBUG_DATA.LDGL_CANVAS_MB+=4*((fo-go)*(mo-uo));var co=To.getContext("2d");co.translate(-go,-uo),zt.clip(co,C_,S_,_o,k_,W_,q_,j_,J_,Q_,Y_,w_,V_,X_,z_,H_),co.drawImage(m_,0,0),yo.gl_cacheImage[B_]={cacheCanvas:To,cacheContext:co}}I_.drawImage(yo.gl_cacheImage[B_].cacheCanvas,go,uo)}else Wt.IGNORE_CLIP||zt.clip(I_,C_,S_,_o,k_,W_,q_,j_,J_,Q_,Y_,w_,V_,X_,z_,H_),Wt.USE_ADJUST_TRANSLATION&&(io=0,po=M_,so=0,lo=x_),I_.drawImage(m_,io,so,po-io,lo-so,io,so,po-io,lo-so);I_.restore()}}catch(Po){de._$Rb(Po)}},zt.clip=function(m_,y_,T_,c_,P_,S_,L_,E_,h_,M_,x_,I_,O_,D_,A_,R_){.02<T_?zt.expandClip(m_,y_,T_,c_,x_,I_,O_,D_,A_,R_):zt.clipWithTransform(m_,null,P_,S_,L_,E_,h_,M_)},zt.expandClip=function(m_,y_,T_,c_,P_,S_,L_,E_,h_,M_){var x_=L_-P_,I_=E_-S_,O_=h_-P_,D_=M_-S_,A_=0<x_*D_-I_*O_?T_:-T_,R_=-I_,C_=x_,F_=h_-L_,N_=M_-E_,b_=-N_,B_=F_,v_=_Mathsqrt(F_*F_+N_*N_),G_=-D_,U_=O_,Y_=_Mathsqrt(O_*O_+D_*D_),K_=zt._$50;return null!=y_._$P2(K_)&&(zt.clipWithTransform(m_,K_,P_-A_*R_/c_,S_-A_*C_/c_,L_-A_*R_/c_,E_-A_*C_/c_,L_-A_*b_/v_,E_-A_*B_/v_,h_-A_*b_/v_,M_-A_*B_/v_,h_+A_*G_/Y_,M_+A_*U_/Y_,P_+A_*G_/Y_,S_+A_*U_/Y_),!0)},zt.clipWithTransform=function(m_,y_){if(7>arguments.length)return void de._$li("err : @LDGL.clip()");if(!(arguments[1]instanceof __))return void de._$li("err : a[0] is _$6 LDTransform @LDGL.clip()");var h_=zt._$B,M_=y_,x_=arguments;if(m_.beginPath(),M_){M_._$PS(x_[2],x_[3],h_),m_.moveTo(h_[0],h_[1]);for(var I_=4;I_<x_.length;I_+=2)M_._$PS(x_[I_],x_[I_+1],h_),m_.lineTo(h_[0],h_[1])}else{m_.moveTo(x_[2],x_[3]);for(var I_=4;I_<x_.length;I_+=2)m_.lineTo(x_[I_],x_[I_+1])}m_.clip()},zt.createCanvas=function(m_,y_){var T_=document.createElement("canvas");return T_.setAttribute("width",m_),T_.setAttribute("height",y_),T_||de._$li("err : "+T_),T_},zt.dumpValues=function(){for(var m_="",y_=0;y_<arguments.length;y_++)m_+="["+y_+"]= "+arguments[y_].toFixed(3)+" , ";console.log(m_)},Ht.prototype._$F0=function(m_){this._$TT=m_._$_T(),this._$LT=m_._$_T(),this._$FS=m_._$_T(),this._$wL=m_._$nP()},Ht.prototype.getMinValue=function(){return this._$TT},Ht.prototype.getMaxValue=function(){return this._$LT},Ht.prototype.getDefaultValue=function(){return this._$FS},Ht.prototype.getParamID=function(){return this._$wL},kt.prototype._$yo=function(){return this._$AT&&!this._$JS},kt.prototype._$hS=function(m_){this._$AT=m_},kt.prototype._$GT=function(){return this._$e0},kt.prototype._$l2=function(m_){this._$IP=m_},kt.prototype.getPartsIndex=function(){return this._$IP},kt.prototype._$x2=function(){return this._$JS},kt.prototype._$Ib=function(m_){this._$JS=m_},kt.prototype.getTotalScale=function(){return this.totalScale},kt.prototype.setTotalScale_notForClient=function(m_){this.totalScale=m_},kt.prototype.getInterpolatedOpacity=function(){return this._$7s},kt.prototype.setInterpolatedOpacity=function(m_){this._$7s=m_},kt.prototype.getTotalOpacity=function(){return this.totalOpacity},kt.prototype.setTotalOpacity=function(m_){this.totalOpacity=m_},Wt._$2s="2.1.00_1",Wt._$Kr=201001e3,Wt._$sP=!0,Wt._$so=!0,Wt._$cb=!1,Wt._$3T=!0,Wt._$Ts=!0,Wt._$fb=!0,Wt._$ts=!0,Wt.L2D_DEFORMER_EXTEND=!0,Wt._$Wb=!1,Wt._$yr=!1,Wt._$Zs=!1,Wt.L2D_NO_ERROR=0,Wt._$i7=1e3,Wt._$9s=1001,Wt._$es=1100,Wt._$r7=2e3,Wt._$07=2001,Wt._$b7=2002,Wt._$H7=4e3,Wt.L2D_COLOR_BLEND_MODE_MULT=0,Wt.L2D_COLOR_BLEND_MODE_ADD=1,Wt.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,Wt._$6b=!0,Wt._$cT=0,Wt.clippingMaskBufferSize=256,Wt.glContext=[],Wt.frameBuffers=[],Wt.fTexture=[],Wt.IGNORE_CLIP=!1,Wt.IGNORE_EXPAND=!1,Wt.EXPAND_W=2,Wt.USE_ADJUST_TRANSLATION=!0,Wt.USE_CANVAS_TRANSFORM=!0,Wt.USE_CACHED_POLYGON_IMAGE=!1,Wt.DEBUG_DATA={},Wt.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},Wt.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},Wt.PROFILE_IOS_DEFAULT=Wt.PROFILE_IOS_QUALITY,Wt.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},Wt.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},Wt.initProfile=function(){s_.isIOS()?Wt.setupProfile(Wt.PROFILE_IOS_DEFAULT):s_.isAndroid()?Wt.setupProfile(Wt.PROFILE_ANDROID):Wt.setupProfile(Wt.PROFILE_DESKTOP)},Wt.setupProfile=function(m_,y_){for(var T_ in"number"==typeof m_&&(9901===m_?m_=Wt.PROFILE_IOS_SPEED:9902===m_?m_=Wt.PROFILE_IOS_QUALITY:9903===m_?m_=Wt.PROFILE_IOS_DEFAULT:9904===m_?m_=Wt.PROFILE_ANDROID:9905===m_?m_=Wt.PROFILE_DESKTOP:alert("profile _$6 _$Ui : "+m_)),2>arguments.length&&(y_=!0),y_&&console.log("profile : "+m_.PROFILE_NAME),m_)Wt[T_]=m_[T_],y_&&console.log("  ["+T_+"] = "+m_[T_])},Wt.init=function(){Wt._$6b&&(console.log("Live2D %s",Wt._$2s),Wt._$6b=!1,!0,Wt.initProfile())},Wt.getVersionStr=function(){return Wt._$2s},Wt.getVersionNo=function(){return Wt._$Kr},Wt._$sT=function(m_){Wt._$cT=m_},Wt.getError=function(){var m_=Wt._$cT;return Wt._$cT=0,m_},Wt.dispose=function(){Wt.glContext=[],Wt.frameBuffers=[],Wt.fTexture=[]},Wt.setGL=function(m_,y_){Wt.glContext[y_||0]=m_},Wt.getGL=function(m_){return Wt.glContext[m_]},Wt.setClippingMaskBufferSize=function(m_){Wt.clippingMaskBufferSize=m_},Wt.getClippingMaskBufferSize=function(){return Wt.clippingMaskBufferSize},Wt.deleteBuffer=function(m_){Wt.getGL(m_).deleteFramebuffer(Wt.frameBuffers[m_].framebuffer),delete Wt.frameBuffers[m_],delete Wt.glContext[m_]},qt._$r2=function(m_){return 0>m_?0:1<m_?1:.5-.5*_Mathcos(m_*p_.PI_F)},jt._$fr=-1,jt.prototype.toString=function(){return this._$ib},Jt.prototype=new je,Jt._$42=0,Jt._$Os=30,Jt._$ms=0,Jt._$ns=1,Jt._$_s=2,Jt._$gT=[],Jt.prototype._$_S=function(m_){this._$LP=m_},Jt.prototype.getTextureNo=function(){return this._$LP},Jt.prototype._$ZL=function(){return this._$Qi},Jt.prototype._$H2=function(){return this._$JP},Jt.prototype.getNumPoints=function(){return this._$d0},Jt.prototype.getType=function(){return je._$wb},Jt.prototype._$B2=function(m_,y_,T_){var c_=y_,P_=null==c_._$hr?c_._$Cr:c_._$hr;switch(we._$do){default:case we._$Ms:throw new Error("_$L _$ro ");case we._$Qs:for(var S_=this._$d0-1;0<=S_;--S_)P_[S_*we._$No+4]=T_;}},Jt.prototype._$zP=function(){this._$GS=new Ne,this._$GS._$zP()},Jt.prototype._$F0=function(m_){je.prototype._$F0.call(this,m_),this._$LP=m_._$6L(),this._$d0=m_._$6L(),this._$Yo=m_._$6L();var y_=m_._$nP();this._$BP=new Int16Array(3*this._$Yo);for(var T_=3*this._$Yo-1;0<=T_;--T_)this._$BP[T_]=y_[T_];if(!(this._$Eo=m_._$nP(),this._$Qi=m_._$nP(),m_.getFormatVersion()>=Ve._$s7))this._$JP=0;else if(this._$JP=m_._$6L(),0!=this._$JP){if(0!=(1&this._$JP)){var c_=m_._$6L();null==this._$5P&&(this._$5P={}),this._$5P._$Hb=parseInt(c_)}this._$6s=0==(this._$JP&Jt._$Os)?Jt._$ms:(this._$JP&Jt._$Os)>>1,0!=(32&this._$JP)&&(this.culling=!1)}},Jt.prototype.init=function(){var y_=new Qt(this),T_=this._$d0*we._$No,c_=this._$32();switch(null!=y_._$Cr&&(y_._$Cr=null),y_._$Cr=new Float32Array(T_),null!=y_._$hr&&(y_._$hr=null),y_._$hr=c_?new Float32Array(T_):null,we._$do){default:case we._$Ms:if(we._$Ls)for(var S_,P_=this._$d0-1;0<=P_;--P_)S_=P_<<1,this._$Qi[S_+1]=1-this._$Qi[S_+1];break;case we._$Qs:for(var P_=this._$d0-1;0<=P_;--P_){var S_=P_<<1,L_=P_*we._$No,E_=this._$Qi[S_],h_=this._$Qi[S_+1];y_._$Cr[L_]=E_,y_._$Cr[L_+1]=h_,y_._$Cr[L_+4]=0,c_&&(y_._$hr[L_]=E_,y_._$hr[L_+1]=h_,y_._$hr[L_+4]=0)}}return y_},Jt.prototype._$Nr=function(m_,y_){var T_=y_;if(this!=T_._$GT()&&console.log("### assert!! ### "),this._$GS._$Ur(m_)&&(je.prototype._$Nr.call(this,m_,T_),!T_._$IS[0])){var c_=Jt._$gT;c_[0]=!1,Me._$Vr(m_,this._$GS,c_,this._$d0,this._$Eo,T_._$Cr,we._$i2,we._$No)}},Jt.prototype._$2b=function(m_,y_){try{this!=y_._$GT()&&console.log("### assert!! ### ");var T_=!1;y_._$IS[0]&&(T_=!0);var c_=y_;if(!T_&&(je.prototype._$2b.call(this,m_),this._$32())){var P_=this.getTargetBaseDataID();if(c_._$8r==je._$ur&&(c_._$8r=m_.getBaseDataIndex(P_)),0>c_._$8r)Wt._$so&&de._$li("_$L _$0P _$G :: %s",P_);else{var S_=m_.getBaseData(c_._$8r),L_=m_._$q2(c_._$8r);null==S_||L_._$x2()?c_._$AT=!1:(S_._$nb(m_,L_,c_._$Cr,c_._$hr,this._$d0,we._$i2,we._$No),c_._$AT=!0),c_.baseOpacity=L_.getTotalOpacity()}}}catch(E_){throw E_}},Jt.prototype.draw=function(m_,y_,T_){if(this!=T_._$GT()&&console.log("### assert!! ### "),!T_._$IS[0]){var c_=T_,P_=this._$LP;0>P_&&(P_=1);var S_=this.getOpacity(y_,c_)*T_._$VS*T_.baseOpacity,L_=null==c_._$hr?c_._$Cr:c_._$hr;m_.setClipBufPre_clipContextForDraw(T_.clipBufPre_clipContext),m_._$WP(this.culling),m_._$Uo(P_,3*this._$Yo,this._$BP,L_,this._$Qi,S_,this._$6s,c_)}},Jt.prototype.dump=function(){console.log("  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \n",this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { ");for(var m_=0;m_<this._$BP.length;m_++)console.log("%5d ,",this._$BP[m_]);console.log("\n  _$5i _$30");for(var m_=0;m_<this._$Eo.length;m_++){console.log("\n    _$30[%d] = ",m_);for(var y_=this._$Eo[m_],T_=0;T_<y_.length;T_++)console.log("%6.2f, ",y_[T_])}console.log("\n")},Jt.prototype._$72=function(m_){return null==this._$5P?null:this._$5P[m_]},Jt.prototype.getIndexArray=function(){return this._$BP},Qt.prototype=new d_,Qt.prototype.getTransformedPoints=function(){return null==this._$hr?this._$Cr:this._$hr},Zt.prototype._$HT=function(m_){this.x=m_.x,this.y=m_.y},Zt.prototype._$HT=function(m_,y_){this.x=m_,this.y=y_},Kt.prototype=new re,Kt.loadModel=function(m_){var y_=new Kt;return re._$62(y_,m_),y_},Kt.loadModel=function(m_,y_){var c_=new Kt(y_||0);return re._$62(c_,m_),c_},Kt._$to=function(){return new Kt},Kt._$er=function(m_){var y_=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==y_.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+y_._$PL());for(var S_,T_=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],c_=Kt.loadModel(y_._$3b()),P_=0;P_<T_.length;P_++){if(S_=new _$5(T_[P_]),0==S_.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+S_._$PL());c_.setTexture(P_,_$nL._$_o(m_,S_._$3b()))}return c_},Kt.prototype.setGL=function(m_){Wt.setGL(m_)},Kt.prototype.setTransform=function(m_){this.drawParamWebGL.setTransform(m_)},Kt.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},Kt.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},Kt.prototype._$K2=function(){this.drawParamWebGL._$K2()},Kt.prototype.setTexture=function(m_,y_){null==this.drawParamWebGL&&de._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(m_,y_)},Kt.prototype.setTexture=function(m_,y_){null==this.drawParamWebGL&&de._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(m_,y_)},Kt.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},Kt.prototype._$Ds=function(m_){this.drawParamWebGL._$Ds(m_)},Kt.prototype.getDrawParam=function(){return this.drawParamWebGL},Kt.prototype.setMatrix=function(m_){this.drawParamWebGL.setMatrix(m_)},Kt.prototype.setPremultipliedAlpha=function(m_){this.drawParamWebGL.setPremultipliedAlpha(m_)},Kt.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},Kt.prototype.setAnisotropy=function(m_){this.drawParamWebGL.setAnisotropy(m_)},Kt.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()},e_.prototype._$tb=function(){return this.motions},e_.prototype.startMotion=function(m_){for(var T_=null,c_=this.motions.length,P_=0;P_<c_;++P_)null!=(T_=this.motions[P_])&&(T_._$qS(T_._$w0.getFadeOut()),this._$eb&&de._$Ji("MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\n",c_,T_._$sr));if(null==m_)return-1;T_=new t_,T_._$w0=m_,this.motions.push(T_);var S_=T_._$sr;return this._$eb&&de._$Ji("MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\n",c_,S_),S_},e_.prototype.updateParam=function(m_){try{for(var c_,y_=!1,T_=0;T_<this.motions.length;T_++)if(c_=this.motions[T_],null!=c_){var P_=c_._$w0;null==P_?(this.motions=this.motions.splice(T_,1),T_--):(P_.updateParam(m_,c_),y_=!0,c_.isFinished()&&(this._$eb&&de._$Ji("MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\n",this.motions.length-1,c_._$sr),this.motions.splice(T_,1),T_--))}else this.motions.splice(T_,1),T_--;return y_}catch(S_){return de._$li(S_),!0}},e_.prototype.isFinished=function(m_){if(1<=arguments.length){for(var T_,y_=0;y_<this.motions.length;y_++)if(T_=this.motions[y_],null!=T_&&T_._$sr==m_&&!T_.isFinished())return!1;return!0}for(var T_,y_=0;y_<this.motions.length;y_++)if(T_=this.motions[y_],null==T_)this.motions.splice(y_,1),y_--;else if(null==T_._$w0)this.motions.splice(y_,1),y_--;else if(!T_.isFinished())return!1;return!0},e_.prototype.stopAllMotions=function(){for(var y_,m_=0;m_<this.motions.length;m_++)y_=this.motions[m_],null==y_?(this.motions.splice(m_,1),m_--):(y_._$w0,this.motions.splice(m_,1),m_--)},e_.prototype._$Zr=function(m_){this._$eb=m_},e_.prototype._$e=function(){console.log("-- _$R --\n");for(var m_=0;m_<this.motions.length;m_++){var y_=this.motions[m_],T_=y_._$w0;console.log("MotionQueueEnt[%d] :: %s\n",this.motions.length,T_.toString())}},t_._$Gs=0,t_.prototype.isFinished=function(){return this._$9L},t_.prototype._$qS=function(m_){var y_=Re.getUserTimeMSec(),T_=y_+m_;(0>this._$Do||T_<this._$Do)&&(this._$Do=T_)},t_.prototype._$Bs=function(){return this._$sr},__.prototype.setContext=function(m_){var y_=this.m;m_.transform(y_[0],y_[1],y_[3],y_[4],y_[6],y_[7])},__.prototype.toString=function(){for(var m_="LDTransform { ",y_=0;9>y_;y_++)m_+=this.m[y_].toFixed(2)+" ,";return m_+=" }"},__.prototype.identity=function(){var m_=this.m;m_[0]=m_[4]=m_[8]=1,m_[1]=m_[2]=m_[3]=m_[5]=m_[6]=m_[7]=0},__.prototype._$PS=function(m_,y_,T_){null==T_&&(T_=[0,0]);var c_=this.m;return T_[0]=c_[0]*m_+c_[3]*y_+c_[6],T_[1]=c_[1]*m_+c_[4]*y_+c_[7],T_},__.prototype._$P2=function(m_){m_||(m_=new __);var y_=this.m,T_=y_[0],c_=y_[1],P_=y_[2],S_=y_[3],L_=y_[4],E_=y_[5],h_=y_[6],M_=y_[7],x_=y_[8],I_=T_*L_*x_+c_*E_*h_+P_*S_*M_-T_*E_*M_-P_*L_*h_-c_*S_*x_;if(0==I_)return null;var O_=1/I_;return m_.m[0]=O_*(L_*x_-M_*E_),m_.m[1]=O_*(M_*P_-c_*x_),m_.m[2]=O_*(c_*E_-L_*P_),m_.m[3]=O_*(h_*E_-S_*x_),m_.m[4]=O_*(T_*x_-h_*P_),m_.m[5]=O_*(S_*P_-T_*E_),m_.m[6]=O_*(S_*M_-h_*L_),m_.m[7]=O_*(h_*c_-T_*M_),m_.m[8]=O_*(T_*L_-S_*c_),m_},__.prototype.transform=function(m_,y_,T_){null==T_&&(T_=[0,0]);var c_=this.m;return T_[0]=c_[0]*m_+c_[3]*y_+c_[6],T_[1]=c_[1]*m_+c_[4]*y_+c_[7],T_},__.prototype.translate=function(m_,y_){var T_=this.m;T_[6]=T_[0]*m_+T_[3]*y_+T_[6],T_[7]=T_[1]*m_+T_[4]*y_+T_[7],T_[8]=T_[2]*m_+T_[5]*y_+T_[8]},__.prototype.scale=function(m_,y_){var T_=this.m;T_[0]*=m_,T_[1]*=m_,T_[2]*=m_,T_[3]*=y_,T_[4]*=y_,T_[5]*=y_},__.prototype.shear=function(m_,y_){var T_=this.m,c_=T_[0]+T_[3]*y_,P_=T_[1]+T_[4]*y_,S_=T_[2]+T_[5]*y_;T_[3]=T_[0]*m_+T_[3],T_[4]=T_[1]*m_+T_[4],T_[5]=T_[2]*m_+T_[5],T_[0]=c_,T_[1]=P_,T_[2]=S_},__.prototype.rotate=function(m_){var y_=this.m,T_=_Mathcos(m_),c_=_Mathsin(m_),P_=y_[0]*T_+y_[3]*c_,S_=y_[1]*T_+y_[4]*c_,L_=y_[2]*T_+y_[5]*c_;y_[3]=-y_[0]*c_+y_[3]*T_,y_[4]=-y_[1]*c_+y_[4]*T_,y_[5]=-y_[2]*c_+y_[5]*T_,y_[0]=P_,y_[1]=S_,y_[2]=L_},__.prototype.concatenate=function(m_){var y_=this.m,T_=m_.m,c_=y_[0]*T_[0]+y_[3]*T_[1]+y_[6]*T_[2],P_=y_[1]*T_[0]+y_[4]*T_[1]+y_[7]*T_[2],S_=y_[2]*T_[0]+y_[5]*T_[1]+y_[8]*T_[2],L_=y_[0]*T_[3]+y_[3]*T_[4]+y_[6]*T_[5],E_=y_[1]*T_[3]+y_[4]*T_[4]+y_[7]*T_[5],h_=y_[2]*T_[3]+y_[5]*T_[4]+y_[8]*T_[5],M_=y_[0]*T_[6]+y_[3]*T_[7]+y_[6]*T_[8],x_=y_[1]*T_[6]+y_[4]*T_[7]+y_[7]*T_[8],I_=y_[2]*T_[6]+y_[5]*T_[7]+y_[8]*T_[8];m[0]=c_,m[1]=P_,m[2]=S_,m[3]=L_,m[4]=E_,m[5]=h_,m[6]=M_,m[7]=x_,m[8]=I_},o_.prototype=new Yt,o_._$eT=null,o_._$tP={},o_._$2o=function(){return null==o_._$eT&&(o_._$eT=o_.getID("DST_BASE")),o_._$eT},o_._$27=function(){o_._$tP.clear(),o_._$eT=null},o_.getID=function(m_){var y_=o_._$tP[m_];return null==y_&&(y_=new o_(m_),o_._$tP[m_]=y_),y_},o_.prototype._$3s=function(){return new o_},r_.prototype=new Oe,r_._$9r=function(m_){return new Float32Array(m_)},r_._$vb=function(m_){return new Int16Array(m_)},r_._$cr=function(m_,y_){return null==m_||m_._$yL()<y_.length?(m_=r_._$9r(2*y_.length),m_.put(y_),m_._$oT(0)):(m_.clear(),m_.put(y_),m_._$oT(0)),m_},r_._$mb=function(m_,y_){return null==m_||m_._$yL()<y_.length?(m_=r_._$vb(2*y_.length),m_.put(y_),m_._$oT(0)):(m_.clear(),m_.put(y_),m_._$oT(0)),m_},r_._$Hs=function(){return this._$Gr},r_._$as=function(m_){this._$Gr=m_},r_.prototype.getGL=function(){return this.gl},r_.prototype.setGL=function(m_){this.gl=m_},r_.prototype.setTransform=function(m_){this.transform=m_},r_.prototype._$ZT=function(){var m_=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=m_.getExtension("EXT_texture_filter_anisotropic")||m_.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||m_.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=m_.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),m_.disable(m_.SCISSOR_TEST),m_.disable(m_.STENCIL_TEST),m_.disable(m_.DEPTH_TEST),m_.frontFace(m_.CW),m_.enable(m_.BLEND),m_.colorMask(1,1,1,1),m_.bindBuffer(m_.ARRAY_BUFFER,null),m_.bindBuffer(m_.ELEMENT_ARRAY_BUFFER,null)},r_.prototype._$Uo=function(m_,y_,T_,c_,P_,S_,L_){if(!(.01>S_&&null==this.clipBufPre_clipContextMask)){var h_=(.9<S_&&Wt.EXPAND_W,this.gl);if(null==this.gl)throw new Error("gl is null");var M_=1*this._$C0*S_,x_=1*this._$tT*S_,I_=1*this._$WL*S_,O_=this._$lT*S_;if(null!=this.clipBufPre_clipContextMask){h_.frontFace(h_.CCW),h_.useProgram(this.shaderProgram),this._$vS=$_(h_,this._$vS,c_),this._$no=a_(h_,this._$no,T_),h_.enableVertexAttribArray(this.a_position_Loc),h_.vertexAttribPointer(this.a_position_Loc,2,h_.FLOAT,!1,0,0),this._$NT=$_(h_,this._$NT,P_),h_.activeTexture(h_.TEXTURE1),h_.bindTexture(h_.TEXTURE_2D,this.textures[m_]),h_.uniform1i(this.s_texture0_Loc,1),h_.enableVertexAttribArray(this.a_texCoord_Loc),h_.vertexAttribPointer(this.a_texCoord_Loc,2,h_.FLOAT,!1,0,0),h_.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask);var D_=this.getClipBufPre_clipContextMask().layoutChannelNo,A_=this.getChannelFlagAsColor(D_);h_.uniform4f(this.u_channelFlag,A_.r,A_.g,A_.b,A_.a);var R_=this.getClipBufPre_clipContextMask().layoutBounds;h_.uniform4f(this.u_baseColor_Loc,2*R_.x-1,2*R_.y-1,2*R_._$EL()-1,2*R_._$5T()-1),h_.uniform1i(this.u_maskFlag_Loc,!0)}else if(null!=this.getClipBufPre_clipContextDraw()){h_.useProgram(this.shaderProgramOff),this._$vS=$_(h_,this._$vS,c_),this._$no=a_(h_,this._$no,T_),h_.enableVertexAttribArray(this.a_position_Loc_Off),h_.vertexAttribPointer(this.a_position_Loc_Off,2,h_.FLOAT,!1,0,0),this._$NT=$_(h_,this._$NT,P_),h_.activeTexture(h_.TEXTURE1),h_.bindTexture(h_.TEXTURE_2D,this.textures[m_]),h_.uniform1i(this.s_texture0_Loc_Off,1),h_.enableVertexAttribArray(this.a_texCoord_Loc_Off),h_.vertexAttribPointer(this.a_texCoord_Loc_Off,2,h_.FLOAT,!1,0,0),h_.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),h_.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),h_.activeTexture(h_.TEXTURE2),h_.bindTexture(h_.TEXTURE_2D,Wt.fTexture[this.glno]),h_.uniform1i(this.s_texture1_Loc_Off,2);var D_=this.getClipBufPre_clipContextDraw().layoutChannelNo,A_=this.getChannelFlagAsColor(D_);h_.uniform4f(this.u_channelFlag_Loc_Off,A_.r,A_.g,A_.b,A_.a),h_.uniform4f(this.u_baseColor_Loc_Off,M_,x_,I_,O_)}else h_.useProgram(this.shaderProgram),this._$vS=$_(h_,this._$vS,c_),this._$no=a_(h_,this._$no,T_),h_.enableVertexAttribArray(this.a_position_Loc),h_.vertexAttribPointer(this.a_position_Loc,2,h_.FLOAT,!1,0,0),this._$NT=$_(h_,this._$NT,P_),h_.activeTexture(h_.TEXTURE1),h_.bindTexture(h_.TEXTURE_2D,this.textures[m_]),h_.uniform1i(this.s_texture0_Loc,1),h_.enableVertexAttribArray(this.a_texCoord_Loc),h_.vertexAttribPointer(this.a_texCoord_Loc,2,h_.FLOAT,!1,0,0),h_.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),h_.uniform4f(this.u_baseColor_Loc,M_,x_,I_,O_),h_.uniform1i(this.u_maskFlag_Loc,!1);this.culling?this.gl.enable(h_.CULL_FACE):this.gl.disable(h_.CULL_FACE),this.gl.enable(h_.BLEND);var C_,F_,N_,b_;null==this.clipBufPre_clipContextMask?L_===Jt._$ms?(C_=h_.ONE,F_=h_.ONE_MINUS_SRC_ALPHA,N_=h_.ONE,b_=h_.ONE_MINUS_SRC_ALPHA):L_===Jt._$ns?(C_=h_.ONE,F_=h_.ONE,N_=h_.ZERO,b_=h_.ONE):L_===Jt._$_s?(C_=h_.DST_COLOR,F_=h_.ONE_MINUS_SRC_ALPHA,N_=h_.ZERO,b_=h_.ONE):void 0:(C_=h_.ONE,F_=h_.ONE_MINUS_SRC_ALPHA,N_=h_.ONE,b_=h_.ONE_MINUS_SRC_ALPHA);h_.blendEquationSeparate(h_.FUNC_ADD,h_.FUNC_ADD),h_.blendFuncSeparate(C_,F_,N_,b_),this.anisotropyExt&&h_.texParameteri(h_.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy);var B_=T_.length;h_.drawElements(h_.TRIANGLES,B_,h_.UNSIGNED_SHORT,0),h_.bindTexture(h_.TEXTURE_2D,null)}},r_.prototype._$Rs=function(){throw new Error("_$Rs")},r_.prototype._$Ds=function(){throw new Error("_$Ds")},r_.prototype._$K2=function(){for(var m_=0;m_<this.textures.length;m_++)0!=this.textures[m_]&&(this.gl._$K2(1,this.textures,m_),this.textures[m_]=null)},r_.prototype.setTexture=function(m_,y_){this.textures[m_]=y_},r_.prototype.initShader=function(){var m_=this.gl;this.loadShaders2(),this.a_position_Loc=m_.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=m_.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=m_.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=m_.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=m_.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=m_.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=m_.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=m_.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=m_.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=m_.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=m_.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=m_.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=m_.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=m_.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=m_.getUniformLocation(this.shaderProgramOff,"u_baseColor")},r_.prototype.disposeShader=function(){var m_=this.gl;this.shaderProgram&&(m_.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(m_.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},r_.prototype.compileShader=function(m_,y_){var T_=this.gl,P_=T_.createShader(m_);if(null==P_)return de._$Ji("_$L0 to create shader"),null;if(T_.shaderSource(P_,y_),T_.compileShader(P_),!T_.getShaderParameter(P_,T_.COMPILE_STATUS)){var S_=T_.getShaderInfoLog(P_);return de._$Ji("_$L0 to compile shader : "+S_),T_.deleteShader(P_),null}return P_},r_.prototype.loadShaders2=function(){var m_=this.gl;if(this.shaderProgram=m_.createProgram(),!this.shaderProgram)return!1;if(this.shaderProgramOff=m_.createProgram(),!this.shaderProgramOff)return!1;if(this.vertShader=this.compileShader(m_.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}"),!this.vertShader)return de._$Ji("Vertex shader compile _$li!"),!1;if(this.vertShaderOff=this.compileShader(m_.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}"),!this.vertShaderOff)return de._$Ji("OffVertex shader compile _$li!"),!1;if(this.fragShader=this.compileShader(m_.FRAGMENT_SHADER,"precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}"),!this.fragShader)return de._$Ji("Fragment shader compile _$li!"),!1;if(this.fragShaderOff=this.compileShader(m_.FRAGMENT_SHADER,"precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}"),!this.fragShaderOff)return de._$Ji("OffFragment shader compile _$li!"),!1;if(m_.attachShader(this.shaderProgram,this.vertShader),m_.attachShader(this.shaderProgram,this.fragShader),m_.attachShader(this.shaderProgramOff,this.vertShaderOff),m_.attachShader(this.shaderProgramOff,this.fragShaderOff),m_.linkProgram(this.shaderProgram),m_.linkProgram(this.shaderProgramOff),!m_.getProgramParameter(this.shaderProgram,m_.LINK_STATUS)){var y_=m_.getProgramInfoLog(this.shaderProgram);return de._$Ji("_$L0 to link program: "+y_),this.vertShader&&(m_.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(m_.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(m_.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(m_.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(m_.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(m_.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1}return!0},r_.prototype.createFramebuffer=function(){var m_=this.gl,y_=Wt.clippingMaskBufferSize,T_=m_.createFramebuffer();m_.bindFramebuffer(m_.FRAMEBUFFER,T_);var c_=m_.createRenderbuffer();m_.bindRenderbuffer(m_.RENDERBUFFER,c_),m_.renderbufferStorage(m_.RENDERBUFFER,m_.RGBA4,y_,y_),m_.framebufferRenderbuffer(m_.FRAMEBUFFER,m_.COLOR_ATTACHMENT0,m_.RENDERBUFFER,c_);var P_=m_.createTexture();return m_.bindTexture(m_.TEXTURE_2D,P_),m_.texImage2D(m_.TEXTURE_2D,0,m_.RGBA,y_,y_,0,m_.RGBA,m_.UNSIGNED_BYTE,null),m_.texParameteri(m_.TEXTURE_2D,m_.TEXTURE_MIN_FILTER,m_.LINEAR),m_.texParameteri(m_.TEXTURE_2D,m_.TEXTURE_MAG_FILTER,m_.LINEAR),m_.texParameteri(m_.TEXTURE_2D,m_.TEXTURE_WRAP_S,m_.CLAMP_TO_EDGE),m_.texParameteri(m_.TEXTURE_2D,m_.TEXTURE_WRAP_T,m_.CLAMP_TO_EDGE),m_.framebufferTexture2D(m_.FRAMEBUFFER,m_.COLOR_ATTACHMENT0,m_.TEXTURE_2D,P_,0),m_.bindTexture(m_.TEXTURE_2D,null),m_.bindRenderbuffer(m_.RENDERBUFFER,null),m_.bindFramebuffer(m_.FRAMEBUFFER,null),Wt.fTexture[this.glno]=P_,{framebuffer:T_,renderbuffer:c_,texture:Wt.fTexture[this.glno]}},n_.prototype._$fP=function(){var m_,y_,T_,c_=this._$ST();if(0==(128&c_))return 255&c_;if(0==(128&(m_=this._$ST())))return(127&c_)<<7|127&m_;if(0==(128&(y_=this._$ST())))return(127&c_)<<14|(127&m_)<<7|255&y_;if(0==(128&(T_=this._$ST())))return(127&c_)<<21|(127&m_)<<14|(127&y_)<<7|255&T_;throw new jt("_$L _$0P  _")},n_.prototype.getFormatVersion=function(){return this._$S2},n_.prototype._$gr=function(m_){this._$S2=m_},n_.prototype._$3L=function(){return this._$fP()},n_.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},n_.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},n_.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},n_.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},n_.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},n_.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new jt("_$L _$q read long")},n_.prototype._$po=function(){return this._$zT(),0!=this._$T.getInt8(this._$F++)};var f_=!0;n_.prototype._$bT=function(){this._$zT();var m_=this._$3L(),y_=null;if(f_)try{var T_=new ArrayBuffer(2*m_);y_=new Uint16Array(T_);for(var c_=0;c_<m_;++c_)y_[c_]=this._$T.getUint8(this._$F++);return _StringfromCharCode.apply(null,y_)}catch(S_){f_=!1}try{var P_=[];if(null==y_)for(var c_=0;c_<m_;++c_)P_[c_]=this._$T.getUint8(this._$F++);else for(var c_=0;c_<m_;++c_)P_[c_]=y_[c_];return _StringfromCharCode.apply(null,P_)}catch(S_){console.log("read utf8 / _$rT _$L0 !! : "+S_)}},n_.prototype._$cS=function(){this._$zT();for(var m_=this._$3L(),y_=new Int32Array(m_),T_=0;T_<m_;T_++)y_[T_]=this._$T.getInt32(this._$F),this._$F+=4;return y_},n_.prototype._$Tb=function(){this._$zT();for(var m_=this._$3L(),y_=new Float32Array(m_),T_=0;T_<m_;T_++)y_[T_]=this._$T.getFloat32(this._$F),this._$F+=4;return y_},n_.prototype._$5b=function(){this._$zT();for(var m_=this._$3L(),y_=new Float64Array(m_),T_=0;T_<m_;T_++)y_[T_]=this._$T.getFloat64(this._$F),this._$F+=8;return y_},n_.prototype._$nP=function(){return this._$Jb(-1)},n_.prototype._$Jb=function(m_){if(this._$zT(),0>m_&&(m_=this._$3L()),m_==Ve._$7P){var y_=this._$6L();if(0<=y_&&y_<this._$Ko.length)return this._$Ko[y_];throw new jt("_$sL _$4i @_$m0")}var T_=this._$4b(m_);return this._$Ko.push(T_),T_},n_.prototype._$4b=function(m_){if(0==m_)return null;if(50==m_){var y_=this._$bT(),T_=Be.getID(y_);return T_}if(51==m_){var y_=this._$bT(),T_=o_.getID(y_);return T_}if(134==m_){var y_=this._$bT(),T_=ge.getID(y_);return T_}if(60==m_){var y_=this._$bT(),T_=fe.getID(y_);return T_}if(48<=m_){var c_=Ve._$9o(m_);return null==c_?null:(c_._$F0(this),c_)}switch(m_){case 1:return this._$bT();case 10:return new ie(this._$6L(),!0);case 11:return new he(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new he(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new xe(this._$mP(),this._$mP());case 14:return new xe(this._$_T(),this._$_T());case 15:for(var P_=this._$3L(),T_=Array(P_),S_=0;S_<P_;S_++)T_[S_]=this._$nP();return T_;case 17:var T_=new ve(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());return T_;case 21:return new le(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new Zt(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new jt("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+m_);default:throw new jt("_$6 _$q : _$nP() NO _$i : "+m_);}},n_.prototype._$8L=function(){return 0==this._$hL?this._$v0=this._$ST():8==this._$hL&&(this._$v0=this._$ST(),this._$hL=0),1==(1&this._$v0>>7-this._$hL++)},n_.prototype._$zT=function(){0!=this._$hL&&(this._$hL=0)},function(){}.prototype._$wP=function(m_,y_,T_){for(var c_=0;c_<T_;c_++){for(var S_,P_=0;P_<y_;P_++)S_=2*(P_+c_*y_),console.log("(% 7.3f , % 7.3f) , ",m_[S_],m_[S_+1]);console.log("\n")}console.log("\n")},p_._$2S=_MathPI/180,p_._$bS=_MathPI/180,p_._$wS=180/_MathPI,p_._$NS=180/_MathPI,p_.PI_F=_MathPI,p_._$kT=[0,0.012368,0.024734,0.037097,0.049454,0.061803,0.074143,0.086471,0.098786,0.111087,0.12337,0.135634,0.147877,0.160098,0.172295,0.184465,0.196606,0.208718,0.220798,0.232844,0.244854,0.256827,0.268761,0.280654,0.292503,0.304308,0.316066,0.327776,0.339436,0.351044,0.362598,0.374097,0.385538,0.396921,0.408243,0.419502,0.430697,0.441826,0.452888,0.463881,0.474802,0.485651,0.496425,0.507124,0.517745,0.528287,0.538748,0.549126,0.559421,0.56963,0.579752,0.589785,0.599728,0.609579,0.619337,0.629,0.638567,0.648036,0.657406,0.666676,0.675843,0.684908,0.693867,0.70272,0.711466,0.720103,0.72863,0.737045,0.745348,0.753536,0.76161,0.769566,0.777405,0.785125,0.792725,0.800204,0.807561,0.814793,0.821901,0.828884,0.835739,0.842467,0.849066,0.855535,0.861873,0.868079,0.874153,0.880093,0.885898,0.891567,0.897101,0.902497,0.907754,0.912873,0.917853,0.922692,0.92739,0.931946,0.936359,0.940629,0.944755,0.948737,0.952574,0.956265,0.959809,0.963207,0.966457,0.96956,0.972514,0.97532,0.977976,0.980482,0.982839,0.985045,0.987101,0.989006,0.990759,0.992361,0.993811,0.995109,0.996254,0.997248,0.998088,0.998776,0.999312,0.999694,0.999924,1],p_._$92=function(m_,y_){var T_=_Mathatan(m_[1],m_[0]),c_=_Mathatan(y_[1],y_[0]);return p_._$tS(T_,c_)},p_._$tS=function(m_,y_){for(var T_=m_-y_;T_<-_MathPI;)T_+=2*_MathPI;for(;T_>_MathPI;)T_-=2*_MathPI;return T_},p_._$9=function(m_){return _Mathsin(m_)},p_.fcos=function(m_){return _Mathcos(m_)},d_.prototype._$u2=function(){return this._$IS[0]},d_.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},d_.prototype._$GT=function(){return this._$e0},s_._$W2=0,s_.SYSTEM_INFO=null,s_.USER_AGENT=navigator.userAgent,s_.isIPhone=function(){return s_.SYSTEM_INFO||s_.setup(),s_.SYSTEM_INFO._isIPhone},s_.isIOS=function(){return s_.SYSTEM_INFO||s_.setup(),s_.SYSTEM_INFO._isIPhone||s_.SYSTEM_INFO._isIPad},s_.isAndroid=function(){return s_.SYSTEM_INFO||s_.setup(),s_.SYSTEM_INFO._isAndroid},s_.getOSVersion=function(){return s_.SYSTEM_INFO||s_.setup(),s_.SYSTEM_INFO.version},s_.getOS=function(){return s_.SYSTEM_INFO||s_.setup(),s_.SYSTEM_INFO._isIPhone||s_.SYSTEM_INFO._isIPad?"iOS":s_.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},s_.setup=function(){function m_(P_,S_){for(var M_,L_=P_.substring(S_).split(/[ _,;\.]/),E_=0,h_=0;2>=h_&&!isNaN(L_[h_]);h_++){if(M_=parseInt(L_[h_]),0>M_||999<M_){de._$li("err : "+M_+" @UtHtml5.setup()"),E_=0;break}E_+=M_*_Mathpow(1e3,2-h_)}return E_}var y_,T_=s_.USER_AGENT,c_=s_.SYSTEM_INFO={userAgent:T_};if(0<=(y_=T_.indexOf("iPhone OS ")))c_.os="iPhone",c_._isIPhone=!0,c_.version=m_(T_,y_+"iPhone OS ".length);else if(0<=(y_=T_.indexOf("iPad"))){if(0>(y_=T_.indexOf("CPU OS")))return void de._$li(" err : "+T_+" @UtHtml5.setup()");c_.os="iPad",c_._isIPad=!0,c_.version=m_(T_,y_+"CPU OS ".length)}else 0<=(y_=T_.indexOf("Android"))?(c_.os="Android",c_._isAndroid=!0,c_.version=m_(T_,y_+"Android ".length)):(c_.os="-",c_.version=-1)},window.UtSystem=Re,window.UtDebug=de,window.LDTransform=__,window.LDGL=zt,window.Live2D=Wt,window.Live2DModelWebGL=Kt,window.Live2DModelJS=Qe,window.Live2DMotion=Ze,window.MotionQueueManager=e_,window.PhysicsHair=ye,window.AMotion=pe,window.PartsDataID=ge,window.DrawDataID=Be,window.BaseDataID=o_,window.ParamID=fe,Wt.init();var l_=!1}()}).call(te,_e(7))},function(ee){ee.exports={import:function _import(){throw new Error("System.import cannot be used indirectly")}}},function(ee,te,_e){"use strict";function oe(le){return le&&le.__esModule?le:{default:le}}function re(){this.models=[],this.count=-1,this.reloadFlg=!1,Live2D.init(),$e.Live2DFramework.setPlatformManager(new ne.default)}Object.defineProperty(te,"__esModule",{value:!0}),te.default=re;var $e=_e(0),ae=_e(9),ne=oe(ae),ie=_e(10),pe=oe(ie),de=_e(1),se=oe(de);re.prototype.createModel=function(){var le=new pe.default;return this.models.push(le),le},re.prototype.changeModel=function(le,ge){this.reloadFlg&&(this.reloadFlg=!1,this.releaseModel(0,le),this.createModel(),this.models[0].load(le,ge))},re.prototype.getModel=function(le){return le>=this.models.length?null:this.models[le]},re.prototype.releaseModel=function(le,ge){this.models.length<=le||(this.models[le].release(ge),delete this.models[le],this.models.splice(le,1))},re.prototype.numModels=function(){return this.models.length},re.prototype.setDrag=function(le,ge){for(var ue=0;ue<this.models.length;ue++)this.models[ue].setDrag(le,ge)},re.prototype.maxScaleEvent=function(){se.default.DEBUG_LOG&&console.log("Max scale event.");for(var le=0;le<this.models.length;le++)this.models[le].startRandomMotion(se.default.MOTION_GROUP_PINCH_IN,se.default.PRIORITY_NORMAL)},re.prototype.minScaleEvent=function(){se.default.DEBUG_LOG&&console.log("Min scale event.");for(var le=0;le<this.models.length;le++)this.models[le].startRandomMotion(se.default.MOTION_GROUP_PINCH_OUT,se.default.PRIORITY_NORMAL)},re.prototype.tapEvent=function(le,ge){se.default.DEBUG_LOG&&console.log("tapEvent view x:"+le+" y:"+ge);for(var ue=0;ue<this.models.length;ue++)this.models[ue].hitTest(se.default.HIT_AREA_HEAD,le,ge)?(se.default.DEBUG_LOG&&console.log("Tap face."),this.models[ue].setRandomExpression()):this.models[ue].hitTest(se.default.HIT_AREA_BODY,le,ge)?(se.default.DEBUG_LOG&&console.log("Tap body. models["+ue+"]"),this.models[ue].startRandomMotion(se.default.MOTION_GROUP_TAP_BODY,se.default.PRIORITY_NORMAL)):this.models[ue].hitTestCustom("head",le,ge)?(se.default.DEBUG_LOG&&console.log("Tap face."),this.models[ue].startRandomMotion(se.default.MOTION_GROUP_FLICK_HEAD,se.default.PRIORITY_NORMAL)):this.models[ue].hitTestCustom("body",le,ge)&&(se.default.DEBUG_LOG&&console.log("Tap body. models["+ue+"]"),this.models[ue].startRandomMotion(se.default.MOTION_GROUP_TAP_BODY,se.default.PRIORITY_NORMAL));return!0}},function(ee,te,_e){"use strict";function oe(){}Object.defineProperty(te,"__esModule",{value:!0}),te.default=oe;var re=_e(2);oe.prototype.loadBytes=function($e,ae){var ne=new XMLHttpRequest;ne.open("GET",$e,!0),ne.responseType="arraybuffer",ne.onload=function(){switch(ne.status){case 200:ae(ne.response);break;default:console.error("Failed to load ("+ne.status+") : "+$e);}},ne.send(null)},oe.prototype.loadString=function($e){this.loadBytes($e,function(ae){return ae})},oe.prototype.loadLive2DModel=function($e,ae){var ne=null;this.loadBytes($e,function(ie){ne=Live2DModelWebGL.loadModel(ie),ae(ne)})},oe.prototype.loadTexture=function($e,ae,ne,ie){var pe=new Image;pe.crossOrigin="Anonymous",pe.src=ne,pe.onload=function(){var de=(0,re.getContext)(),se=de.createTexture();return se?void(0==$e.isPremultipliedAlpha()&&de.pixelStorei(de.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),de.pixelStorei(de.UNPACK_FLIP_Y_WEBGL,1),de.activeTexture(de.TEXTURE0),de.bindTexture(de.TEXTURE_2D,se),de.texImage2D(de.TEXTURE_2D,0,de.RGBA,de.RGBA,de.UNSIGNED_BYTE,pe),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,de.LINEAR),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,de.LINEAR_MIPMAP_NEAREST),de.generateMipmap(de.TEXTURE_2D),$e.setTexture(ae,se),se=null,"function"==typeof ie&&ie()):(console.error("Failed to generate gl texture name."),-1)},pe.onerror=function(){console.error("Failed to load image : "+ne)}},oe.prototype.jsonParseFromBytes=function($e){var ae,ne=new Uint8Array($e,0,3);return ae=239==ne[0]&&187==ne[1]&&191==ne[2]?_StringfromCharCode.apply(null,new Uint8Array($e,3)):_StringfromCharCode.apply(null,new Uint8Array($e)),JSON.parse(ae)},oe.prototype.log=function(){}},function(ee,te,_e){"use strict";function oe(le){return le&&le.__esModule?le:{default:le}}function re(){$e.L2DBaseModel.prototype.constructor.call(this),this.modelHomeDir="",this.modelSetting=null,this.tmpMatrix=[]}Object.defineProperty(te,"__esModule",{value:!0}),te.default=re;var $e=_e(0),ae=_e(11),ne=oe(ae),ie=_e(1),pe=oe(ie),de=_e(3),se=oe(de);re.prototype=new $e.L2DBaseModel,re.prototype.load=function(le,ge,ue){this.setUpdating(!0),this.setInitialized(!1),this.modelHomeDir=ge.substring(0,ge.lastIndexOf("/")+1),this.modelSetting=new ne.default;var fe=this;this.modelSetting.loadModelSetting(ge,function(){var me=fe.modelHomeDir+fe.modelSetting.getModelFile();fe.loadModelData(me,function(){for(var Te=0;Te<fe.modelSetting.getTextureNum();Te++){if(/^https?:\/\/|^\/\//i.test(fe.modelSetting.getTextureFile(Te)))var ce=fe.modelSetting.getTextureFile(Te);else var ce=fe.modelHomeDir+fe.modelSetting.getTextureFile(Te);fe.loadTexture(Te,ce,function(){if(fe.isTexLoaded){if(0<fe.modelSetting.getExpressionNum()){fe.expressions={};for(var Pe=0;Pe<fe.modelSetting.getExpressionNum();Pe++){var Se=fe.modelSetting.getExpressionName(Pe),Le=fe.modelHomeDir+fe.modelSetting.getExpressionFile(Pe);fe.loadExpression(Se,Le)}}else fe.expressionManager=null,fe.expressions={};if(fe.eyeBlink,null==fe.modelSetting.getPhysicsFile()?fe.physics=null:fe.loadPhysics(fe.modelHomeDir+fe.modelSetting.getPhysicsFile()),null==fe.modelSetting.getPoseFile()?fe.pose=null:fe.loadPose(fe.modelHomeDir+fe.modelSetting.getPoseFile(),function(){fe.pose.updateParam(fe.live2DModel)}),null!=fe.modelSetting.getLayout()){var Ee=fe.modelSetting.getLayout();null!=Ee.width&&fe.modelMatrix.setWidth(Ee.width),null!=Ee.height&&fe.modelMatrix.setHeight(Ee.height),null!=Ee.x&&fe.modelMatrix.setX(Ee.x),null!=Ee.y&&fe.modelMatrix.setY(Ee.y),null!=Ee.center_x&&fe.modelMatrix.centerX(Ee.center_x),null!=Ee.center_y&&fe.modelMatrix.centerY(Ee.center_y),null!=Ee.top&&fe.modelMatrix.top(Ee.top),null!=Ee.bottom&&fe.modelMatrix.bottom(Ee.bottom),null!=Ee.left&&fe.modelMatrix.left(Ee.left),null!=Ee.right&&fe.modelMatrix.right(Ee.right)}if(null!=fe.modelSetting.getHitAreasCustom()){var he=fe.modelSetting.getHitAreasCustom();null!=he.head_x&&(pe.default.hit_areas_custom_head_x=he.head_x),null!=he.head_y&&(pe.default.hit_areas_custom_head_y=he.head_y),null!=he.body_x&&(pe.default.hit_areas_custom_body_x=he.body_x),null!=he.body_y&&(pe.default.hit_areas_custom_body_y=he.body_y)}for(var Pe=0;Pe<fe.modelSetting.getInitParamNum();Pe++)fe.live2DModel.setParamFloat(fe.modelSetting.getInitParamID(Pe),fe.modelSetting.getInitParamValue(Pe));for(var Pe=0;Pe<fe.modelSetting.getInitPartsVisibleNum();Pe++)fe.live2DModel.setPartsOpacity(fe.modelSetting.getInitPartsVisibleID(Pe),fe.modelSetting.getInitPartsVisibleValue(Pe));fe.live2DModel.saveParam(),fe.preloadMotionGroup(pe.default.MOTION_GROUP_IDLE),fe.preloadMotionGroup(pe.default.MOTION_GROUP_SLEEPY),fe.mainMotionManager.stopAllMotions(),fe.setUpdating(!1),fe.setInitialized(!0),"function"==typeof ue&&ue()}})}})})},re.prototype.release=function(le){var ge=$e.Live2DFramework.getPlatformManager();le.deleteTexture(ge.texture)},re.prototype.preloadMotionGroup=function(le){for(var fe,ge=this,ue=0;ue<this.modelSetting.getMotionNum(le);ue++)fe=this.modelSetting.getMotionFile(le,ue),this.loadMotion(fe,this.modelHomeDir+fe,function(me){me.setFadeIn(ge.modelSetting.getMotionFadeIn(le,ue)),me.setFadeOut(ge.modelSetting.getMotionFadeOut(le,ue))})},re.prototype.update=function(){if(null==this.live2DModel)return void(pe.default.DEBUG_LOG&&console.error("Failed to update."));var le=UtSystem.getUserTimeMSec()-this.startTimeMSec,ue=2*(le/1e3)*_MathPI;this.mainMotionManager.isFinished()&&("1"===sessionStorage.getItem("Sleepy")?this.startRandomMotion(pe.default.MOTION_GROUP_SLEEPY,pe.default.PRIORITY_SLEEPY):this.startRandomMotion(pe.default.MOTION_GROUP_IDLE,pe.default.PRIORITY_IDLE)),this.live2DModel.loadParam(),this.mainMotionManager.updateParam(this.live2DModel)||null!=this.eyeBlink&&this.eyeBlink.updateParam(this.live2DModel),this.live2DModel.saveParam(),null==this.expressionManager||null==this.expressions||this.expressionManager.isFinished()||this.expressionManager.updateParam(this.live2DModel),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",30*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",30*this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",-30*(this.dragX*this.dragY),1),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",10*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_X",this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_Y",this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",+(15*_Mathsin(ue/6.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",+(8*_Mathsin(ue/3.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",+(10*_Mathsin(ue/5.5345)),.5),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",+(4*_Mathsin(ue/15.5345)),.5),this.live2DModel.setParamFloat("PARAM_BREATH",+(.5+.5*_Mathsin(ue/3.2345)),1),null!=this.physics&&this.physics.updateParam(this.live2DModel),null==this.lipSync&&this.live2DModel.setParamFloat("PARAM_MOUTH_OPEN_Y",this.lipSyncValue),null!=this.pose&&this.pose.updateParam(this.live2DModel),this.live2DModel.update()},re.prototype.setRandomExpression=function(){var le=[];for(var ge in this.expressions)le.push(ge);var ue=parseInt(Math.random()*le.length);this.setExpression(le[ue])},re.prototype.startRandomMotion=function(le,ge){var ue=this.modelSetting.getMotionNum(le),fe=parseInt(Math.random()*ue);this.startMotion(le,fe,ge)},re.prototype.startMotion=function(le,ge,ue){var fe=this.modelSetting.getMotionFile(le,ge);if(null==fe||""==fe)return void(pe.default.DEBUG_LOG&&console.error("Failed to motion."));if(ue==pe.default.PRIORITY_FORCE)this.mainMotionManager.setReservePriority(ue);else if(!this.mainMotionManager.reserveMotion(ue))return void(pe.default.DEBUG_LOG&&console.log("Motion is running."));var me,ye=this;null==this.motions[le]?this.loadMotion(null,this.modelHomeDir+fe,function(Te){me=Te,ye.setFadeInFadeOut(le,ge,ue,me)}):(me=this.motions[le],ye.setFadeInFadeOut(le,ge,ue,me))},re.prototype.setFadeInFadeOut=function(le,ge,ue,fe){var me=this.modelSetting.getMotionFile(le,ge);if(fe.setFadeIn(this.modelSetting.getMotionFadeIn(le,ge)),fe.setFadeOut(this.modelSetting.getMotionFadeOut(le,ge)),pe.default.DEBUG_LOG&&console.log("Start motion : "+me),null==this.modelSetting.getMotionSound(le,ge))this.mainMotionManager.startMotionPrio(fe,ue);else{var ye=this.modelSetting.getMotionSound(le,ge),Te=document.createElement("audio");Te.src=this.modelHomeDir+ye,pe.default.DEBUG_LOG&&console.log("Start sound : "+ye),Te.play(),this.mainMotionManager.startMotionPrio(fe,ue)}},re.prototype.setExpression=function(le){var ge=this.expressions[le];pe.default.DEBUG_LOG&&console.log("Expression : "+le),this.expressionManager.startMotion(ge,!1)},re.prototype.draw=function(){se.default.push(),se.default.multMatrix(this.modelMatrix.getArray()),this.tmpMatrix=se.default.getMatrix(),this.live2DModel.setMatrix(this.tmpMatrix),this.live2DModel.draw(),se.default.pop()},re.prototype.hitTest=function(le,ge,ue){for(var fe=this.modelSetting.getHitAreaNum(),me=0;me<fe;me++)if(le==this.modelSetting.getHitAreaName(me)){var ye=this.modelSetting.getHitAreaID(me);return this.hitTestSimple(ye,ge,ue)}return!1},re.prototype.hitTestCustom=function(le,ge,ue){return"head"==le?this.hitTestSimpleCustom(pe.default.hit_areas_custom_head_x,pe.default.hit_areas_custom_head_y,ge,ue):"body"==le&&this.hitTestSimpleCustom(pe.default.hit_areas_custom_body_x,pe.default.hit_areas_custom_body_y,ge,ue)}},function(ee,te,_e){"use strict";function oe(){this.NAME="name",this.ID="id",this.MODEL="model",this.TEXTURES="textures",this.HIT_AREAS="hit_areas",this.PHYSICS="physics",this.POSE="pose",this.EXPRESSIONS="expressions",this.MOTION_GROUPS="motions",this.SOUND="sound",this.FADE_IN="fade_in",this.FADE_OUT="fade_out",this.LAYOUT="layout",this.HIT_AREAS_CUSTOM="hit_areas_custom",this.INIT_PARAM="init_param",this.INIT_PARTS_VISIBLE="init_parts_visible",this.VALUE="val",this.FILE="file",this.json={}}Object.defineProperty(te,"__esModule",{value:!0}),te.default=oe;var re=_e(0);oe.prototype.loadModelSetting=function($e,ae){var ne=this;re.Live2DFramework.getPlatformManager().loadBytes($e,function(ie){var pe=_StringfromCharCode.apply(null,new Uint8Array(ie));ne.json=JSON.parse(pe),ae()})},oe.prototype.getTextureFile=function($e){return null==this.json[this.TEXTURES]||null==this.json[this.TEXTURES][$e]?null:this.json[this.TEXTURES][$e]},oe.prototype.getModelFile=function(){return this.json[this.MODEL]},oe.prototype.getTextureNum=function(){return null==this.json[this.TEXTURES]?0:this.json[this.TEXTURES].length},oe.prototype.getHitAreaNum=function(){return null==this.json[this.HIT_AREAS]?0:this.json[this.HIT_AREAS].length},oe.prototype.getHitAreaID=function($e){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][$e]?null:this.json[this.HIT_AREAS][$e][this.ID]},oe.prototype.getHitAreaName=function($e){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][$e]?null:this.json[this.HIT_AREAS][$e][this.NAME]},oe.prototype.getPhysicsFile=function(){return this.json[this.PHYSICS]},oe.prototype.getPoseFile=function(){return this.json[this.POSE]},oe.prototype.getExpressionNum=function(){return null==this.json[this.EXPRESSIONS]?0:this.json[this.EXPRESSIONS].length},oe.prototype.getExpressionFile=function($e){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][$e][this.FILE]},oe.prototype.getExpressionName=function($e){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][$e][this.NAME]},oe.prototype.getLayout=function(){return this.json[this.LAYOUT]},oe.prototype.getHitAreasCustom=function(){return this.json[this.HIT_AREAS_CUSTOM]},oe.prototype.getInitParamNum=function(){return null==this.json[this.INIT_PARAM]?0:this.json[this.INIT_PARAM].length},oe.prototype.getMotionNum=function($e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][$e]?0:this.json[this.MOTION_GROUPS][$e].length},oe.prototype.getMotionFile=function($e,ae){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][$e]||null==this.json[this.MOTION_GROUPS][$e][ae]?null:this.json[this.MOTION_GROUPS][$e][ae][this.FILE]},oe.prototype.getMotionSound=function($e,ae){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][$e]||null==this.json[this.MOTION_GROUPS][$e][ae]||null==this.json[this.MOTION_GROUPS][$e][ae][this.SOUND]?null:this.json[this.MOTION_GROUPS][$e][ae][this.SOUND]},oe.prototype.getMotionFadeIn=function($e,ae){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][$e]||null==this.json[this.MOTION_GROUPS][$e][ae]||null==this.json[this.MOTION_GROUPS][$e][ae][this.FADE_IN]?1e3:this.json[this.MOTION_GROUPS][$e][ae][this.FADE_IN]},oe.prototype.getMotionFadeOut=function($e,ae){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][$e]||null==this.json[this.MOTION_GROUPS][$e][ae]||null==this.json[this.MOTION_GROUPS][$e][ae][this.FADE_OUT]?1e3:this.json[this.MOTION_GROUPS][$e][ae][this.FADE_OUT]},oe.prototype.getInitParamID=function($e){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][$e]?null:this.json[this.INIT_PARAM][$e][this.ID]},oe.prototype.getInitParamValue=function($e){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][$e]?NaN:this.json[this.INIT_PARAM][$e][this.VALUE]},oe.prototype.getInitPartsVisibleNum=function(){return null==this.json[this.INIT_PARTS_VISIBLE]?0:this.json[this.INIT_PARTS_VISIBLE].length},oe.prototype.getInitPartsVisibleID=function($e){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][$e]?null:this.json[this.INIT_PARTS_VISIBLE][$e][this.ID]},oe.prototype.getInitPartsVisibleValue=function($e){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][$e]?NaN:this.json[this.INIT_PARTS_VISIBLE][$e][this.VALUE]}}]);